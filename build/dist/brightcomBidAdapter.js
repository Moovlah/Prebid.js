pbjsChunk([333],{328:function(t,e,r){t.exports=r(329)},329:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"spec",function(){return s});var h=r(0),i=r(1),o=r(2),d=r(3);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n="brightcom",s={code:n,supportedMediaTypes:[o.b],isBidRequestValid:function(t){return t.bidder===n&&void 0!==t.params&&void 0!==t.params.publisherId},buildRequests:function(e,r){try{var t="";r&&r.refererInfo&&(t=r.refererInfo.referer);var p=[],i=h.getBidIdParameter("publisherId",e[0].params);h._each(e,function(t){var e,r=t.mediaTypes&&t.mediaTypes.banner&&t.mediaTypes.banner.sizes||t.sizes,i=(r=(r=h.isArray(r)&&h.isArray(r[0])?r:[r]).filter(function(t){return h.isArray(t)})).map(function(t){return{w:parseInt(t[0],10),h:parseInt(t[1],10)}}),n=document.getElementById(t.adUnitCode),o=i.reduce(function(t,e){return e.h*e.w<t.h*t.w?e:t}),d=(e=n,function(){try{return h.getWindowSelf()!==h.getWindowTop()}catch(t){return 1}}()||null===e?"na":function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=r.w,n=r.h;return"visible"===h.getWindowTop().document.visibilityState?function(t,e){var r,i,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=n.w,d=n.h,a=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=e.w,i=e.h,n=t.getBoundingClientRect(),o=n.width,d=n.height,a=n.left,s=n.top,u=n.right,p=n.bottom;(0===o||0===d)&&r&&i&&(u=a+(o=r),p=s+(d=i));return{width:o,height:d,left:a,top:s,right:u,bottom:p}}(t,{w:o,h:d}),s=function(t){for(var e={left:t[0].left,right:t[0].right,top:t[0].top,bottom:t[0].bottom},r=1;r<t.length;++r){if(e.left=Math.max(e.left,t[r].left),e.right=Math.min(e.right,t[r].right),e.left>=e.right)return null;if(e.top=Math.max(e.top,t[r].top),e.bottom=Math.min(e.bottom,t[r].bottom),e.top>=e.bottom)return null}return e.width=e.right-e.left,e.height=e.bottom-e.top,e}([{left:0,top:0,right:e.innerWidth,bottom:e.innerHeight},a]);return null===s?0:(r=s.width*s.height,i=a.width*a.height,r/i*100)}(t,e,{w:i,h:n}):0}(n,h.getWindowTop(),o)),a=isNaN(d)?d:Math.round(d),s={id:t.bidId,banner:{format:i,ext:{viewability:a}},tagid:String(t.adUnitCode)},u=h.getBidIdParameter("bidFloor",t.params);u&&(s.bidfloor=u),p.push(s)});var n={id:h.getUniqueIdentifierStr(),imp:p,site:{domain:h.parseUrl(t).host,page:t,publisher:{id:i}},device:{devicetype:/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,w:screen.width,h:screen.height},tmax:d.b.getConfig("bidderTimeout")};return r&&r.gdprConsent&&(h.deepSetValue(n,"regs.ext.gdpr",+r.gdprConsent.gdprApplies),h.deepSetValue(n,"user.ext.consent",r.gdprConsent.consentString)),{method:"POST",url:"https://brightcombid.marphezis.com/hb",data:JSON.stringify(n),options:{contentType:"text/plain",withCredentials:!1}}}catch(t){h.logError(t,{bidReqs:e,bidderRequest:r})}},interpretResponse:function(t){if(!t.body||"object"!=a(t.body))return h.logWarn("Brightcom server returned empty/non-json response: "+JSON.stringify(t.body)),[];var e=t.body,r=e.id,i=e.seatbid;try{var n=[];return r&&i&&0<i.length&&i[0].bid&&0<i[0].bid.length&&i[0].bid.map(function(t){n.push({requestId:t.impid,cpm:parseFloat(t.price),width:parseInt(t.w),height:parseInt(t.h),creativeId:t.crid||t.id,currency:"USD",netRevenue:!0,mediaType:o.b,ad:function(t){var e=t.adm;"nurl"in t&&(e+=h.createTrackPixelHtml(t.nurl));return e}(t),ttl:60})}),n}catch(t){h.logError(t,{id:r,seatbid:i})}},getUserSyncs:function(t,e,r){return[]}};Object(i.registerBidder)(s)}},[328]);