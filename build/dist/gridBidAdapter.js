pbjsChunk([267],{480:function(e,r,t){e.exports=t(481)},481:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"spec",function(){return b}),r.resetUserSync=function(){d=!1},r.getSyncUrl=function(){return s};var x=t(0),n=t(1),a=t(12),R=t(2),T=t(3);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(t.push(a.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return t}(e,r)||o(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){if(e){if("string"==typeof e)return i(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,r):void 0}}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var s="https://x.bidswitch.net/sync?ssp=themediagrid",d=!1,u="Bid from response has no auid parameter - ",c="Bid from response has no adm parameter - ",l="Array of bid objects is empty",p="Seatbid array from response has empty item",f="Response is empty",y="Response has empty seatbid array",m="Seatbid from response has no array of bid objects - ",b={code:"grid",supportedMediaTypes:[R.b,R.d],isBidRequestValid:function(e){return!!e.params.uid},buildRequests:function(e,r){if(!e.length)return null;var f=null,y=null,m=null,b=null,g=null,h=null,t=null,n=null,o=r||{},v=o.bidderRequestId,S=o.auctionId,i=o.gdprConsent,a=o.uspConsent,s=o.timeout,d=o.refererInfo,u=d?encodeURIComponent(d.referer):"",w=[],A={};e.forEach(function(e){v=v||e.bidderRequestId,S=S||e.auctionId,b=b||e.schain,g=g||e.userId,h=h||e.userIdAsEids;var r=e.params,t=r.uid,n=r.keywords,o=e.mediaTypes,i=e.bidId,a=e.adUnitCode,s=e.rtd;A[i]=e,f||x.isEmpty(n)||(f=x.transformBidderParamKeywords(n));var d=function(e,r){var t=e.video?"video":"banner",n=r.params.bidFloor||0;{var o;"function"==typeof r.getFloor&&("object"!==E(o=r.getFloor({currency:"USD",mediaType:t,size:r.sizes.map(function(e){var r=O(e,2);return{w:r[0],h:r[1]}})}))||"USD"!==o.currency||isNaN(parseFloat(o.floor))||(n=Math.max(n,parseFloat(o.floor))))}return n}(o||{},e),u=s&&s.jwplayer&&s.jwplayer.targeting;u&&(!y&&u.segments&&(y=u.segments),!m&&u.content&&(m=u.content));var c,l,p={id:i,tagid:t.toString(),ext:{divid:a}};d&&(p.bidfloor=d),o&&!o[R.b]||(c=function(e,r){var t=r.sizes||e.sizes;if(!t||!t.length)return;var n=t.map(function(e){return x.parseGPTSingleSizeArrayToRtbSize(e)}),o=x.parseGPTSingleSizeArrayToRtbSize(t[0]);n.length&&(o.format=n);return o}(e,o?o[R.b]:{}))&&(p.banner=c),o&&o[R.d]&&((l=function(e,r){var t=r.playerSize,n=r.mimes,o=r.durationRangeSec,i=r.protocols,a=(t||e.sizes||[])[0];if(!a)return;var s=x.parseGPTSingleSizeArrayToRtbSize(a);n&&(s.mimes=n);o&&2===o.length&&(s.minduration=o[0],s.maxduration=o[1]);i&&i.length&&(s.protocols=i);return s}(e,o[R.d]))&&(p.video=l)),(p.banner||p.video)&&w.push(p)});var c={tid:S,ext:{wrapper:"Prebid_js",wrapper_version:"4.35.0-pre"}};b&&(c.ext.schain=b);var l=T.b.getConfig("bidderTimeout")||s,p=s?Math.min(l,s):l,I={id:v,site:{page:u},tmax:p,source:c,imp:w};m&&(I.site.content=m),y&&y.length&&(t={data:[{name:"iow_labs_pub_data",segment:y.map(function(e){return{name:"jwpseg",value:e}})}]}),i&&i.consentString&&(n={consent:i.consentString}),h&&h.length&&((n=n||{}).eids=z(h)),n&&Object.keys(n).length&&((t=t||{}).ext=n),t&&(I.user=t);var j=x.transformBidderParamKeywords({user:x.deepAccess(T.b.getConfig("ortb2.user"),"keywords")||null,context:x.deepAccess(T.b.getConfig("ortb2.site"),"keywords")||null});return j.length&&(f=(f||[]).concat(j)),f&&0<f.length&&f.forEach(_),f&&(I.ext={keywords:f}),i&&i.gdprApplies&&(I.regs={ext:{gdpr:i.gdprApplies?1:0}}),a&&(I.regs||(I.regs={ext:{}}),I.regs.ext.us_privacy=a),{method:"POST",url:"https://grid.bidswitch.net/hbjson",data:JSON.stringify(I),newFormat:!0,bidsMap:A}},interpretResponse:function(e,r){e=e&&e.body;var t,n=[];return e?e.seatbid&&!e.seatbid.length&&(t=y):t=f,!t&&e.seatbid&&e.seatbid.forEach(function(e){!function(e,r,t){if(!e)return;var n;e.auid||(n=u+JSON.stringify(e));{var o,i;e.adm?(o=r.bidsMap[e.impid])&&(i={requestId:o.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:"USD",netRevenue:!1,ttl:360,dealId:e.dealid},"video"===e.content_type?(i.vastXml=e.adm,i.mediaType=R.d,i.adResponse={content:i.vastXml},o.renderer||o.mediaTypes&&o.mediaTypes.video&&"outstream"!==o.mediaTypes.video.context||(i.renderer=function(e){var r=a.a.install({id:e.id,url:e.url,loaded:!1});try{r.setRender(g)}catch(e){x.logWarn("Prebid Error calling setRender on renderer",e)}return r}({id:o.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"}))):(i.ad=e.adm,i.mediaType=R.b),t.push(i)):n=c+JSON.stringify(e)}n&&x.logError(n)}(function(e){e?e.bid?e.bid[0]||x.logError(l):x.logError(m+JSON.stringify(e)):x.logError(p);return e&&e.bid&&e.bid[0]}(e),r,n)}),t&&x.logError(t),n},getUserSyncs:function(e,r,t,n){if(!d&&e.pixelEnabled){var o="";return t&&"string"==typeof t.consentString&&("boolean"==typeof t.gdprApplies?o+="&gdpr=".concat(Number(t.gdprApplies),"&gdpr_consent=").concat(t.consentString):o+="&gdpr_consent=".concat(t.consentString)),n&&(o+="&us_privacy=".concat(n)),d=!0,{type:"image",url:s+o}}}};function _(e){var r;r=e.value,x.isArray(r)&&0<r.length&&""===e.value[0]&&delete e.value}function g(e){e.renderer.push(function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})})}Object(n.registerBidder)(b)}},[480]);