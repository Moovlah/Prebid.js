pbjsChunk([155],{758:function(t,e,n){t.exports=n(759)},759:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTopIFrameWin=m,e.getSlotByWin=g,n.d(e,"track",function(){return h}),n.d(e,"reconciliationSubmodule",function(){return I});var r=n(11),i=n(4),c=n(0),a=n(10),u=n.n(a);function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var l={IMPRESSION_REQUEST:"rsdk:impression:req",IMPRESSION_RESPONSE:"rsdk:impression:res"},o={initUrl:"https://confirm.fiduciadlt.com/init",impressionUrl:"https://confirm.fiduciadlt.com/pimp",allowAccess:!1},p={};function s(t){var e,n,r,i,a={},o="",s="";try{a=JSON.parse(t.data)}catch(t){return}a.type===l.IMPRESSION_REQUEST&&(c.isGptPubadsDefined()&&(!(e=m(t.source))||e===window.top||(n=g(e))&&(o=n.getAdUnitPath(),s=(s=n.getTargeting("RSDK_ADID")).length?s[0]:"".concat(c.timestamp(),"-").concat(c.generateUUID()))),r=d({},a.args,{publisherDomain:window.location.hostname,publisherMemberId:p.publisherMemberId,adUnitId:o,adDeliveryId:s}),h.trackPost(p.impressionUrl,r),i={type:l.IMPRESSION_RESPONSE,id:a.id,args:d({publisherDomain:window.location.hostname},a.args)},p.allowAccess&&d(i.args,{adUnitId:o,adDeliveryId:s}),t.source.postMessage(JSON.stringify(i),"*"))}function m(t,e){if(e=e||window,!t)return null;try{for(;t.parent!==e;)t=t.parent;return t}catch(t){return null}}function f(){return c.isGptPubadsDefined()&&window.googletag.pubads().getSlots()}function g(r){var t=f();return t&&t.length&&u()(t,function(t){var e=document.getElementById(t.getSlotElementId());if(e){var n=e.querySelector("iframe");if(n&&n.contentWindow===r)return!0}return!1})||null}var h={trackPost:function(t,e){Object(i.b)()(t,function(){},JSON.stringify(e),{method:"POST"})}};var I={name:"reconciliation",getTargetingData:function(t){var e,o={},s=[];return t.forEach(function(t){var e,n,r,i,a;t&&(n=t,i=(e=(r=f())&&r.length&&u()(r,function(t){return t.getSlotElementId()===n||t.getAdUnitPath()===n})||null)?e.getAdUnitPath():t,a="".concat(c.timestamp(),"-").concat(c.generateUUID()),o[t]={RSDK_AUID:i,RSDK_ADID:a},s.push({adUnitId:i,adDeliveryId:a}))},{}),e=s,h.trackPost(p.initUrl,{adUnits:e,publisherDomain:window.location.hostname,publisherMemberId:p.publisherMemberId}),o},init:function(t){var e=t.params;e&&e.publisherMemberId?(p=d({},o,e),window.addEventListener("message",s,!1)):c.logError("missing params for Reconciliation provider");return!0}};Object(r.e)("realTimeData",I)}},[758]);