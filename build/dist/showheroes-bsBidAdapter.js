pbjsChunk([131],{818:function(e,t,r){e.exports=r(819)},819:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return c});var m=r(0),h=r(3),g=r(12),a=r(1),l=r(2),n=r(39),s="https://static.showheroes.com/publishertag.js",d="https://pubtag.stage.showheroes.com/publishertag.js",o="https://video-library.showheroes.com",i="https://video-library.stage.showheroes.com",b="showheroes-bs";function f(e){return{pubTag:e?d:s,vlHost:e?i:o}}var c={code:b,aliases:["showheroesBs"],supportedMediaTypes:[l.d,l.b],isBidRequestValid:function(e){return!!e.params.playerId},buildRequests:function(e,o){var i=[],t=e[0].params.contentPageUrl||o.refererInfo.referer,r=!!e[0].params.stage,a="outstream"===m.deepAccess(e[0],"mediaTypes.video.context"),s=m.deepAccess(e[0],"params.outstreamOptions.customRender"),n=m.deepAccess(e[0],"params.outstreamOptions.slot")||m.deepAccess(e[0],"params.outstreamOptions.iframe"),d=m.deepAccess(e[0],"renderer"),c=m.deepAccess(e[0],"params.outstreamOptions"),p=!!e[0].mediaTypes.banner||a&&!(s||d||n),u=e[0].schain||{};return e.forEach(function(s){function t(e,t){var r="",a=2;return e===l.b?a=5:(r=m.deepAccess(s,"mediaTypes.video.context"),d&&"instream"===r&&(a=1),"outstream"===r&&(a=5)),{type:a,bidId:s.bidId,mediaType:e,context:r,playerId:m.getBidIdParameter("playerId",s.params),auctionId:o.auctionId,bidderCode:b,gdprConsent:o.gdprConsent,start:+new Date,timeout:3e3,size:{width:t[0],height:t[1]},params:s.params,schain:s.schain||u}}var e,r,a=(e=s,y(m.deepAccess(e,"mediaTypes.video.playerSize")||[])),n=(r=s,y(m.deepAccess(r,"mediaTypes.banner.sizes")||[])),d=m.getBidIdParameter("vpaidMode",s.params);a.forEach(function(e){i.push(t(l.d,e))}),n.forEach(function(e){i.push(t(l.b,e))})}),{url:r?"https://bid-service.stage.showheroes.com/api/v1/bid":"https://bs.showheroes.com/api/v1/bid",method:"POST",options:{contentType:"application/json",accept:"application/json"},data:{user:[],meta:{adapterVersion:2,pageURL:encodeURIComponent(t),vastCacheEnabled:!!h.b.getConfig("cache")&&!p&&!c||!1,isDesktop:700<m.getWindowTop().document.documentElement.clientWidth,xmlAndTag:!(!a||!s)||!1,stage:r||void 0},requests:i,debug:e[0].params.debug||!1}}},interpretResponse:function(e,t){return function(e,c){if(e&&(!Array.isArray(e.bids)||e.bids.length<1))return[];var p=[],u={};return(c.requests||[]).forEach(function(e){u[e.bidId]=e}),e.bids.forEach(function(e){var t,r,a,s,n,d=u[e.bidId],o=d.params,i={};i.cpm=e.cpm,i.requestId=e.bidId,i.currency=e.currency,i.mediaType=e.mediaType||l.d,i.ttl=300,i.creativeId="c_"+e.bidId,i.netRevenue=!0,i.width=e.size.width,i.height=e.size.height,e.vastXml&&(i.vastXml=e.vastXml,i.adResponse={content:e.vastXml}),e.vastTag&&(i.vastUrl=e.vastTag),e.mediaType===l.b?i.ad=(r=e,a=d,n=f(!!(s=c).meta.stage),'<html>\n    <head></head>\n    <body>\n      <script async src="'.concat(n.pubTag,'"\n              data-canvas=""\n              data-noad-passback-listener=""\n              onload="window.ShowheroesTag=this"\n              data-player-host="').concat(n.vlHost,'"><\/script>\n      <div class="showheroes-spot"\n            data-debug="').concat(s.debug?"1":"",'"\n            data-player="').concat(a.playerId,'"\n            data-ad-vast-tag="').concat(r.vastTag,'"></div>\n    </body>\n  </html>')):"outstream"===e.context&&((t=g.a.install({id:e.bidId,url:"//",config:{playerId:d.playerId,width:e.size.width,height:e.size.height,vastUrl:e.vastTag,vastXml:e.vastXml,debug:c.debug,isStage:!!c.meta.stage,customRender:m.getBidIdParameter("customRender",o.outstreamOptions),slot:m.getBidIdParameter("slot",o.outstreamOptions),iframe:m.getBidIdParameter("iframe",o.outstreamOptions)}})).setRender(v),i.renderer=t),p.push(i)}),p}(e.body,t.data)},getUserSyncs:function(e,t){var r=[];if(!t.length||!t[0].body.userSync)return r;var a=t[0].body.userSync;return e.iframeEnabled&&(a.iframes||[]).forEach(function(e){r.push({type:"iframe",url:e})}),e.pixelEnabled&&(a.pixels||[]).forEach(function(e){r.push({type:"image",url:e})}),r}};function v(e){var t=function(e){var t=f(m.getBidIdParameter("isStage",e.renderer.config)),r=window.document.createDocumentFragment(),a=Object(n.a)(t.pubTag,"outstream",function(){window.ShowheroesTag=this});a.setAttribute("data-player-host",t.vlHost);var s=window.document.createElement("div");return s.setAttribute("class","showheroes-spot"),s.setAttribute("data-player",m.getBidIdParameter("playerId",e.renderer.config)),s.setAttribute("data-debug",m.getBidIdParameter("debug",e.renderer.config)),s.setAttribute("data-ad-vast-tag",m.getBidIdParameter("vastUrl",e.renderer.config)),s.setAttribute("data-stream-type","outstream"),r.appendChild(s),r.appendChild(a),r}(e);if("function"==typeof e.renderer.config.customRender)e.renderer.config.customRender(e,t);else try{var r=m.getBidIdParameter("iframe",e.renderer.config);if(r&&"IFRAME"===window.document.getElementById(r).nodeName){var a=window.document.getElementById(r);return void(a.contentDocument||a.contentWindow&&a.contentWindow.document).body.appendChild(t)}var s=m.getBidIdParameter("slot",e.renderer.config)||e.adUnitCode;s&&window.document.getElementById(s)?window.document.getElementById(s).appendChild(t):s&&m.logError("[ShowHeroes][renderer] Error: spot not found")}catch(e){m.logError("[ShowHeroes][renderer] Error:"+e.message)}}function y(e){return e&&e.length?Array.isArray(e[0])?e:[e]:[]}Object(a.registerBidder)(c)}},[818]);