pbjsChunk([356],{274:function(e,t,r){e.exports=r(275)},275:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return a});var o=r(2),n=r(1),p=r(12);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(t){t.renderer.push(function(){var e=t&&t.renderer&&t.renderer.handleVideoEvent?t.renderer.handleVideoEvent:null;window.aniviewRenderer.renderAd({id:t.adUnitCode+"_"+t.adId,debug:0<=window.location.href.indexOf("pbjsDebug"),placement:t.adUnitCode,width:t.width,height:t.height,vastUrl:t.vastUrl,vastXml:t.vastXml,config:t.params[0].rendererConfig,eventsCallback:e,bid:t})})}var c=0;var a={code:"aniview",gvlid:780,aliases:["avantisvideo","selectmediavideo"],supportedMediaTypes:[o.d],isBidRequestValid:function(e){return!!(e.params&&e.params.AV_PUBLISHERID&&e.params.AV_CHANNELID)},buildRequests:function(e,t){for(var r=[],n=0;n<e.length;n++){var a=e[n],i=[[640,480]];a.mediaTypes&&a.mediaTypes.video&&a.mediaTypes.video.playerSize?i=a.mediaTypes.video.playerSize:a.sizes&&(i=a.sizes),2===i.length&&"number"==typeof i[0]&&(i=[[i[0],i[1]]]);for(var d=0;d<i.length;d++){var s=i[d],o=void 0,p=void 0,p=s&&2==s.length?(o=s[0],s[1]):(o=640,480),l={};for(var m in a.params)a.params.hasOwnProperty(m)&&0==m.indexOf("AV_")&&(l[m]=a.params[m]);l.AV_APPPKGNAME&&!l.AV_URL&&(l.AV_URL=l.AV_APPPKGNAME),l.AV_IDFA||l.AV_URL||(t&&t.refererInfo&&t.refererInfo.referer?l.AV_URL=t.refererInfo.referer:l.AV_URL=window.location.href),l.AV_IDFA&&!l.AV_AID&&(l.AV_AID=l.AV_IDFA),l.AV_AID&&!l.AV_IDFA&&(l.AV_IDFA=l.AV_AID),l.cb=Math.floor(999999999*Math.random()),l.AV_WIDTH=o,l.AV_HEIGHT=p,l.bidWidth=o,l.bidHeight=p,l.bidId=a.bidId,l.pbjs=1,l.tgt=10,l.s2s="1",l.irc=c,c++,l.wpm=1,t&&t.gdprConsent&&t.gdprConsent.gdprApplies&&(l.AV_GDPR=1,l.AV_CONSENT=t.gdprConsent.consentString),t&&t.uspConsent&&(l.AV_CCPA=t.uspConsent);var u="https://"+(a.params&&a.params.serverDomain?a.params.serverDomain:"gov.aniview.com")+"/api/adserver/vast3/";r.push({method:"GET",url:u,data:l,bidRequest:a})}}return r},interpretResponse:function(e,t){var r=[];if(e&&e.body){if(e.error)return r;try{var n,a,i,d,s={};t&&t.data&&t.data.bidId&&""!==t.data.bidId&&(n=e.body,!(a=(new window.DOMParser).parseFromString(n,"text/xml"))||0!=a.getElementsByTagName("parsererror").length||(i=function(e){var t={cpm:0,currency:"USD"};if(e){var r=e.getElementsByTagName("Extensions");if(r&&0<r.length&&(r=r[0].getElementsByTagName("Extension"))&&0<r.length)for(var n=0;n<r.length;n++)if("ANIVIEW"==r[n].getAttribute("type")){var a=r[n].getElementsByTagName("Cpm");a&&1==a.length&&(t.cpm=a[0].textContent);break}}return t}(a))&&0<i.cpm&&(s.requestId=t.data.bidId,s.ad="",s.cpm=i.cpm,s.width=t.data.AV_WIDTH,s.height=t.data.AV_HEIGHT,s.ttl=600,s.creativeId=a.getElementsByTagName("Ad")&&a.getElementsByTagName("Ad")[0]&&a.getElementsByTagName("Ad")[0].getAttribute("id")?a.getElementsByTagName("Ad")[0].getAttribute("id"):"creativeId",s.currency=i.currency,s.netRevenue=!0,d=new Blob([n],{type:"application/xml"}),s.vastUrl=window.URL.createObjectURL(d),s.vastXml=n,s.mediaType=o.d,t.bidRequest&&t.bidRequest.mediaTypes&&t.bidRequest.mediaTypes.video&&"outstream"===t.bidRequest.mediaTypes.video.context&&(s.renderer=function(e){var t,r="player.aniview.com",n={};e&&e.bidRequest&&e.bidRequest.params&&((t=e.bidRequest.params).playerDomain&&(r=t.playerDomain),t.AV_PUBLISHERID&&(n.AV_PUBLISHERID=t.AV_PUBLISHERID),t.AV_CHANNELID&&(n.AV_CHANNELID=t.AV_CHANNELID));var a=p.a.install({url:"https://"+r+"/script/6.1/prebidRenderer.js",config:n,loaded:!1});try{a.setRender(m)}catch(e){}return a}(t)),r.push(s)))}catch(e){}}return r},getUserSyncs:function(e,t){if(t&&t[0]&&t[0].body){if(t.error)return[];try{var r=t[0].body,n=(new window.DOMParser).parseFromString(r,"text/xml");if(n&&0==n.getElementsByTagName("parsererror").length)return function(e,t){var r=[];if(e){var n=e.getElementsByTagName("Extensions");if(n&&0<n.length&&(n=n[0].getElementsByTagName("Extension"))&&0<n.length)for(var a=0;a<n.length;a++)if("ANIVIEW"==n[a].getAttribute("type")){var i=n[a].getElementsByTagName("AdServingSync");if(i&&1==i.length)try{var d=JSON.parse(i[0].textContent);if(d&&d.trackers&&d.trackers.length){d=d.trackers;for(var s=0;s<d.length;s++)"object"===l(d[s])&&"string"==typeof d[s].url&&"inventory"===d[s].e&&(1==d[s].t&&t.pixelEnabled?r.push({url:d[s].url,type:"image"}):3==d[s].t&&t.iframeEnabled&&r.push({url:d[s].url,type:"iframe"}))}}catch(e){}break}}return r}(n,e)}catch(e){}}}};Object(n.registerBidder)(a)}},[274]);