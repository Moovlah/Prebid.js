pbjsChunk([13],{6:function(e,t,n){"use strict";t.a=function(e){var i,a=e.url,t=e.analyticsType,o=e.global,r=e.handler,u=[],c=0,n=!0;t!==N&&!R||function(){if(n){for(var e=0;e<u.length;e++)u[e]();u.push=function(e){e()},n=!1}y.logMessage("event count sent to ".concat(o,": ").concat(c))}();return{track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===R&&window[o](r,t,n);this.getAdapterType()===N&&function(e){var t=e.eventType,n=e.args,r=e.callback;Object(l.a)(a,r,JSON.stringify({eventType:t,args:n}))}.apply(void 0,arguments)},enqueue:d,enableAnalytics:s,disableAnalytics:function(){y._each(i,function(e,t){b.off(t,e)}),this.enableAnalytics=this._oldEnable?this._oldEnable:s},getAdapterType:function(){return t},getGlobal:function(){return o},getHandler:function(){return r},getUrl:function(){return a}};function d(e){var t=e.eventType,n=e.args,r=this;o&&window[o]&&t&&n?this.track({eventType:t,args:n}):u.push(function(){c++,r.track({eventType:t,args:n})})}function s(t){var e,n=this,r=this;"object"!==p(t)||"object"!==p(t.options)||(void 0===t.options.sampling||Math.random()<parseFloat(t.options.sampling))?(b.getEvents().forEach(function(e){var t,n;e&&(t=e.eventType,n=e.args,t!==g&&d.call(r,{eventType:t,args:n}))}),f(e={},T,function(e){return n.enqueue({eventType:T,args:e})}),f(e,I,function(e){return n.enqueue({eventType:I,args:e})}),f(e,h,function(e){return n.enqueue({eventType:h,args:e})}),f(e,_,function(e){return n.enqueue({eventType:_,args:e})}),f(e,g,function(e){return n.enqueue({eventType:g,args:e})}),f(e,E,function(e){return n.enqueue({eventType:E,args:e})}),f(e,A,function(e){return n.enqueue({eventType:A,args:e})}),f(e,O,function(e){return n.enqueue({eventType:O,args:e})}),f(e,U,function(e){return n.enqueue({eventType:U,args:e})}),f(e,v,function(e){return n.enqueue({eventType:v,args:e})}),f(e,C,function(e){return n.enqueue({eventType:C,args:e})}),f(e,S,function(e){return n.enqueue({eventType:S,args:e})}),f(e,D,function(e){return n.enqueue({eventType:D,args:e})}),f(e,m,function(e){e.config="object"===p(t)&&t.options||{},n.enqueue({eventType:m,args:e})}),i=e,y._each(i,function(e,t){b.on(t,e)})):y.logMessage('Analytics adapter for "'.concat(o,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return y.logMessage('Analytics adapter for "'.concat(o,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var r=n(5),i=n.n(r),l=n(4);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=n(9),y=n(0),a=i.a.EVENTS,m=a.AUCTION_INIT,v=a.AUCTION_END,T=a.REQUEST_BIDS,I=a.BID_REQUESTED,g=a.BID_TIMEOUT,h=a.BID_RESPONSE,_=a.NO_BID,E=a.BID_WON,A=a.BID_ADJUSTMENT,O=a.BIDDER_DONE,U=a.SET_TARGETING,C=a.AD_RENDER_FAILED,S=a.AUCTION_DEBUG,D=a.ADD_AD_UNITS,N="endpoint",R="bundle"},848:function(e,t,n){e.exports=n(849)},849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"DEFAULT_PBID_TIMEOUT",function(){return y}),n.d(t,"TIMEOUT_FOR_REGISTRY",function(){return m});var r=n(6),i=n(5),a=n.n(i),o=n(8),u=n(0),c=n(4),d=n(17),s=n(3);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f="pa.deployads.com",p="".concat("https","://").concat(f,"/pae"),b="sortable_utm",y=1e3,m=250,v={},T=a.a.EVENTS,I=T.AUCTION_INIT,g=T.AUCTION_END,h=T.BID_REQUESTED,_=T.BID_ADJUSTMENT,E=T.BID_WON,A=T.BID_TIMEOUT,O=60*30*1e3,U={BID_WON:"pbrw",BID_TIMEOUT:"pbto",ERROR:"pber",PB_BID:"pbid"},C=["utm_campaign","utm_source","utm_medium","utm_content","utm_term"],S={auctionId:"ai",adUnitCode:"ac",adId:"adi",bidderAlias:"bs",bidFactor:"bif",bidId:"bid",bidRequestCount:"brc",bidderRequestId:"brid",bidRequestedSizes:"rs",bidTopCpm:"btcp",bidTopCpmCurrency:"btcc",bidTopIsNetRevenue:"btin",bidTopFactor:"btif",bidTopSrc:"btsrc",cpm:"c",currency:"cc",dealId:"did",isNetRevenue:"inr",isTop:"it",isWinner:"iw",isTimeout:"ito",mediaType:"mt",reachedTop:"rtp",numIframes:"nif",size:"siz",start:"st",tagId:"tgid",transactionId:"trid",ttl:"ttl",ttr:"ttr",url:"u",utm_campaign:"uc",utm_source:"us",utm_medium:"um",utm_content:"un",utm_term:"ut"},D={},N=null,R=null,k=[];function j(){try{return window.sessionStorage}catch(e){return null}}function B(e,t){if(!v.disableSessionTracking)for(var n in t)if(t.hasOwnProperty(n)){!function(e,t){try{var n=j();n&&(null===t?n.removeItem(e):n.setItem(e,JSON.stringify(t)))}catch(e){return}}(e,t);break}}function q(){for(var e=(+new Date).toString(36),t=0;t<6;++t)e+=(36*Math.random()|0).toString(36);return e}function w(){var e,n=null;v.disableSessionTracking||(e=function(e){try{var t=j();if(!t)return null;var n=t.getItem(e);return null===n?null:JSON.parse(n)}catch(e){return null}}(b),n=e&&e.created<+new Date+O?e:null),n=n||{created:+new Date,sessionId:q()};var r=C.map(u.getParameterByName);return C.every(function(e){return!n[e]})&&(C.forEach(function(e,t){return n[e]=r[t]||n[e]}),n.created=+new Date,B(b,n)),n}function M(){var i=Object(d.a)(),a={};return i&&i.bidderSettings&&Object.keys(i.bidderSettings).forEach(function(e){var t,n=i.bidderSettings[e],r=(t=n)&&t.bidCpmAdjustment?t.bidCpmAdjustment(1):null;null!==r&&(a[e]=r)}),a}function P(e,t,n){var r={};return r.s=v.key,r.ai=e,r.ac=t,r.bs=n,r}function F(e,t,n){var r=w(),i=Object(d.a)().version,a=P(e,t,n);return a.sid=r.sessionId,a.pv=v.pageviewId,a.to=D[e].timeout,a.pbv=i,C.filter(function(e){return r[e]}).forEach(function(e){return a[S[e]]=r[e]}),a}function J(e){var t=(N=N||M())[e];return void 0!==t?t:1}function W(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}function x(e,t){if(!e.length)return{};var n=W(e.map(function(e){return Object.keys(e)}).reduce(function(e,t){return e.concat(t)},[])),r={};n.forEach(function(t){e.forEach(function(e){return r[t]=r[t]?r[t].concat(e[t]):[e[t]]})});Object.keys(r).forEach(function(e){return r[e]=r[e].length&&(t=r[e]).every(function(e){return t[0]===e})?r[e][0]:r[e];var t}),r._count=e.length;var i={};return i[t]=r,i}function z(e){var n,r,t=W(e.map(function(e){return e._type})),i=(n=function(e){return e._type},r={},e.forEach(function(e){var t=n(e);r[t]=r[t]?r[t].concat(e):[e]}),r);return t.map(function(e){return i[e]}).map(function(e){return x(e,e[0]._type)}).reduce(function(e,t){var n=Object.keys(t)[0];return e[n]=t[n],e},{})}function G(e){k=k.concat(e),R=R||setTimeout(function(){var e=k.slice();k=[],H(e),R=null},m)}function H(e){var t=v.url,n=z(e);Object(c.a)(t,function(){return u.logInfo("Sortable Analytics data sent")},JSON.stringify(n),{contentType:"text/plain",method:"POST",withCredentials:!0})}function L(o){var e=o.refererInfo,u=e.referer,c=e.reachedTop,d=e.numIframes;o.bids.forEach(function(e){var t=e.auctionId,n=e.adUnitCode,r="sortable"===e.bidder?e.params.tagId:"";D[t].adUnits[n]||(D[t].adUnits[n]={bids:{}});var i=D[t].adUnits[n].bids,a={adUnitCode:e.adUnitCode,auctionId:o.auctionId,bidderAlias:e.bidder,bidId:e.bidId,bidderRequestId:e.bidderRequestId,bidRequestCount:e.bidRequestsCount,bidRequestedSizes:e.sizes.map(function(e){return e.join("x")}).join(","),currency:e.currency,cpm:0,isTimeout:!1,isTop:!1,isWinner:!1,numIframes:d,start:o.start,tagId:r,transactionId:e.transactionId,reachedTop:c,url:encodeURI(u)};i[a.bidderAlias]=a})}function Q(t){var e,n,r,i,a,o,u,c,d,s,l,f=t.auctionId,p=D[f];p?(e=t.adUnitCode,n=p.adUnits[e],Object.keys(n.bids).forEach(function(e){n.bids[e].isWinner=t.bidderCode===e})):G([(r={adUnitCode:t.adUnitCode,auctionId:t.auctionId,bidderAlias:t.bidderCode,currency:t.currency,cpm:t.cpm,isNetRevenue:t.netRevenue},i=r.auctionId,a=r.adUnitCode,o=r.bidderAlias,u=r.cpm,c=r.currency,d=r.isNetRevenue,s=J(o),(l=P(i,a,o)).bif=s,N=null,l.c=u,l.cc=c,l.inr=d,l._type=U.BID_WON,l)])}function Y(e){e.forEach(function(e){var t,n,r=e.auctionId,i=e.adUnitCode,a=e.bidder,o=D[r];o?o.adUnits[i].bids[a].isTimeout=!0:G([((n=P((t={auctionId:r,adUnitCode:i,bidderAlias:a}).auctionId,t.adUnitCode,t.bidderAlias))._type=U.BID_TIMEOUT,n)])})}function V(t){var o=D[t.auctionId],n=o.adUnits;setTimeout(function(){var e=Object.keys(n).map(function(i){var e=Object.keys(o.adUnits[i].bids),t=e.map(function(e){return o.adUnits[i].bids[e]}),a=t.length?t.reduce(u.getOldestHighestCpmBid):null;return e.map(function(e){var n,r,t=o.adUnits[i].bids[e];return a&&a.cpm&&(t.isTop=a.bidderAlias===t.bidderAlias,t.bidTopFactor=J(a.bidderAlias),t.bidTopCpm=a.cpm,t.bidTopCpmCurrency=a.currency,t.bidTopIsNetRevenue=a.isNetRevenue,t.bidTopSrc=a.bidderAlias),r=F((n=t).auctionId,n.adUnitCode,n.bidderAlias),Object.keys(n).forEach(function(e){var t=S[e];t&&(r[t]=n[e])}),r._type=U.PB_BID,r})}).reduce(function(e,t){return e.concat(t)},[]);N=null,H(e),delete D[t.auctionId]},v.timeoutForPbid)}var K=l(Object(r.a)({url:p,ANALYTICS_TYPE:"endpoint"}),{track:function(e){var t,n,r,i,a,o,u,c,d,s,l=e.eventType,f=e.args;try{switch(l){case I:d=(c=f).auctionId,s=c.timeout,D[d]={timeout:s,auctionId:d,adUnits:{}};break;case g:V(f);break;case h:L(f);break;case _:i=(t=f).auctionId,a=t.adUnitCode,o=D[i].adUnits[a].bids[t.bidderCode],u=J(t.bidderCode),o.adId=t.adId,o.adUnitCode=t.adUnitCode,o.auctionId=t.auctionId,o.bidderAlias=t.bidderCode,o.bidFactor=u,o.cpm=t.cpm,o.currency=t.currency,o.dealId=t.dealId,o.isNetRevenue=t.netRevenue,o.mediaType=t.mediaType,o.responseTimestamp=t.responseTimestamp,o.size=(n=t.width,r=t.height,"".concat(n,"x").concat(r)),o.ttl=t.ttl,o.ttr=t.timeToRespond;break;case E:Q(f);break;case A:Y(f)}}catch(e){!function(e,t,n){var r={};r.s=v.key,r.ti=e,r.args=JSON.stringify(t),r.msg=n.message,r._type=U.ERROR,G([r])}(l,f,e)}}});K.originEnableAnalytics=K.enableAnalytics,K.enableAnalytics=function(e){this.initConfig(e)&&(u.logInfo("Sortable Analytics adapter enabled"),K.originEnableAnalytics(e))},K.initConfig=function(e){var t;return v.disableSessionTracking=void 0!==e.disableSessionTracking&&e.disableSessionTracking,v.key=(t=e.options,(s.b.getConfig("sortable")||{}).siteId||t.siteId),v.protocol=e.options.protocol||"https",v.url="".concat(v.protocol,"://").concat(e.options.eventHost||f,"/pae/").concat(v.key),v.pageviewId=q(),v.timeoutForPbid=e.timeoutForPbid?Math.max(e.timeoutForPbid,0):y,!!v.key},K.getOptions=function(){return v},o.default.registerAnalyticsAdapter({adapter:K,code:"sortable"}),t.default=K}},[848]);