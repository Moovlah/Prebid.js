pbjsChunk([391],{190:function(e,r,n){e.exports=n(191)},191:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"spec",function(){return d});var t=n(1),C=n(3),f=n(2),h=n(12),A=n(0),s=n(13),O=n.n(s),R="adform",d={code:R,gvlid:50,supportedMediaTypes:[f.b,f.d],isBidRequestValid:function(e){return!!e.params.mid},buildRequests:function(e,r){var n,t,s,d,i,o,u,a,p,c,f=C.b.getConfig("currency.adServerCurrency"),h=[],g=[["adxDomain","adx.adform.net"],["fd",1],["url",null],["tid",null],["eids",function(e){if(A.isArray(e)&&0<e.length){var r=function(e){return e.reduce(function(n,e){var t=e.source;return n[t]=n[t]||{},e.uids.forEach(function(e){var r=e.id+"";n[t][r]=n[t][r]||[],n[t][r].push(e.atype)}),n},{})}(e);return btoa(JSON.stringify(r))}}(A.deepAccess(e,"0.userIdAsEids"))]],l={mkv:[],mkw:[],msw:[]},v=JSON.parse(JSON.stringify(e)),m=v[0]&&v[0].bidder||R;if(1<v.length){for(var b in l)!function(n){var t;l.hasOwnProperty(n)&&(t=v.map(function(e){return e.params[n]&&e.params[n].split(",")||[]}),l[n]=t.reduce(w),l[n].length&&v.forEach(function(e,r){e.params[n]=t[r].filter(function(e){return!O()(l[n],e)})}))}(b)}for(n=0,t=v.length;n<t;n++){for("net"!==(i=v[n]).params.priceType&&"net"!==i.params.pt||(p="net"),s=0,d=g.length;s<d;s++)(u=i[o=g[s][0]]||i.params[o])&&(i[o]=i.params[o]=null,g[s][1]=u);(a=i.params).transactionId=i.transactionId,a.rcur=a.rcur||f,h.push(function(e){var r,n=[];for(r in e)e.hasOwnProperty(r)&&e[r]&&n.push(r,"=",e[r],"&");return encodeURIComponent(btoa(n.join("").slice(0,-1)))}(a))}h.unshift("https://"+g[0][1]+"/adx/?rp=4"),p=p||"gross",h.push("pt="+p),h.push("stid="+e[0].auctionId);var y=A.deepAccess(r,"gdprConsent.gdprApplies"),I=A.deepAccess(r,"gdprConsent.consentString");for(var _ in void 0!==y&&(c={gdpr:y,gdpr_consent:I},h.push("gdpr="+(1&y)),h.push("gdpr_consent="+I)),r&&r.uspConsent&&h.push("us_privacy="+r.uspConsent),l)l.hasOwnProperty(_)&&g.push([_,l[_].join(",")]);for(n=1,t=g.length;n<t;n++)o=g[n][0],(u=g[n][1])&&h.push(o+"="+encodeURIComponent(u));return{method:"GET",url:h.join("&"),bids:e,netRevenue:p,bidder:m,gdpr:c};function w(e,r){return e.filter(function(e){return O()(r,e)})}},interpretResponse:function(e,r){for(var n,t,s,d,i={banner:1,vast_content:1,vast_url:1},o=[],u=r.bids,a=e.body,p=0;p<a.length;p++)d="banner"===(t=a[p]).response?f.b:f.d,s=u[p],i[t.response]&&(function(e,r){for(var n=0,t=r.length;n<t;n++)if(e.width==r[n][0]&&e.height==r[n][1])return!0;return!1}(t,A.getAdUnitSizes(s))||d===f.d)&&(n={requestId:s.bidId,cpm:t.win_bid,width:t.width,height:t.height,creativeId:s.bidId,dealId:t.deal_id,currency:t.win_cur,netRevenue:"gross"!==r.netRevenue,ttl:360,ad:t.banner,bidderCode:r.bidder,transactionId:s.transactionId,vastUrl:t.vast_url,vastXml:t.vast_content,mediaType:d},s.renderer||d!==f.d||"outstream"!==A.deepAccess(s,"mediaTypes.video.context")||(n.renderer=h.a.install({id:s.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js"}),n.renderer.setRender(c)),r.gdpr&&(n.gdpr=r.gdpr.gdpr,n.gdpr_consent=r.gdpr.gdpr_consent),o.push(n));return o;function c(e){e.renderer.push(function(){window.Adform.renderOutstream(e)})}}};Object(t.registerBidder)(d)}},[190]);