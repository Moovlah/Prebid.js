pbjsChunk([9],{6:function(e,n,t){"use strict";n.a=function(e){var o,a=e.url,n=e.analyticsType,i=e.global,r=e.handler,u=[],c=0,t=!0;n!==U&&!q||function(){if(t){for(var e=0;e<u.length;e++)u[e]();u.push=function(e){e()},t=!1}v.logMessage("event count sent to ".concat(i,": ").concat(c))}();return{track:function(e){var n=e.eventType,t=e.args;this.getAdapterType()===q&&window[i](r,n,t);this.getAdapterType()===U&&function(e){var n=e.eventType,t=e.args,r=e.callback;Object(l.a)(a,r,JSON.stringify({eventType:n,args:t}))}.apply(void 0,arguments)},enqueue:s,enableAnalytics:d,disableAnalytics:function(){v._each(o,function(e,n){g.off(n,e)}),this.enableAnalytics=this._oldEnable?this._oldEnable:d},getAdapterType:function(){return n},getGlobal:function(){return i},getHandler:function(){return r},getUrl:function(){return a}};function s(e){var n=e.eventType,t=e.args,r=this;i&&window[i]&&n&&t?this.track({eventType:n,args:t}):u.push(function(){c++,r.track({eventType:n,args:t})})}function d(n){var e,t=this,r=this;"object"!==p(n)||"object"!==p(n.options)||(void 0===n.options.sampling||Math.random()<parseFloat(n.options.sampling))?(g.getEvents().forEach(function(e){var n,t;e&&(n=e.eventType,t=e.args,n!==I&&s.call(r,{eventType:n,args:t}))}),f(e={},m,function(e){return t.enqueue({eventType:m,args:e})}),f(e,T,function(e){return t.enqueue({eventType:T,args:e})}),f(e,b,function(e){return t.enqueue({eventType:b,args:e})}),f(e,E,function(e){return t.enqueue({eventType:E,args:e})}),f(e,I,function(e){return t.enqueue({eventType:I,args:e})}),f(e,_,function(e){return t.enqueue({eventType:_,args:e})}),f(e,A,function(e){return t.enqueue({eventType:A,args:e})}),f(e,N,function(e){return t.enqueue({eventType:N,args:e})}),f(e,S,function(e){return t.enqueue({eventType:S,args:e})}),f(e,h,function(e){return t.enqueue({eventType:h,args:e})}),f(e,O,function(e){return t.enqueue({eventType:O,args:e})}),f(e,w,function(e){return t.enqueue({eventType:w,args:e})}),f(e,D,function(e){return t.enqueue({eventType:D,args:e})}),f(e,y,function(e){e.config="object"===p(n)&&n.options||{},t.enqueue({eventType:y,args:e})}),o=e,v._each(o,function(e,n){g.on(n,e)})):v.logMessage('Analytics adapter for "'.concat(i,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return v.logMessage('Analytics adapter for "'.concat(i,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var r=t(5),o=t.n(r),l=t(4);function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=t(9),v=t(0),a=o.a.EVENTS,y=a.AUCTION_INIT,h=a.AUCTION_END,m=a.REQUEST_BIDS,T=a.BID_REQUESTED,I=a.BID_TIMEOUT,b=a.BID_RESPONSE,E=a.NO_BID,_=a.BID_WON,A=a.BID_ADJUSTMENT,N=a.BIDDER_DONE,S=a.SET_TARGETING,O=a.AD_RENDER_FAILED,w=a.AUCTION_DEBUG,D=a.ADD_AD_UNITS,U="endpoint",q="bundle"},860:function(e,n,t){e.exports=t(861)},861:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"storage",function(){return q}),n.getUmtSource=x,n.ExpiringQueue=C;var r=t(6),o=t(5),a=t.n(o),i=t(8),u=t(21),p=t(0),c=t(4),s=t(7);function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return t}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return d(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(){return(l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var f,v=Object(s.b)(),y={AUCTION_INIT:"auctionInit",BID_REQUEST:"bidRequested",BID_RESPONSE:"bidResponse",BID_WON:"bidWon",AUCTION_END:"auctionEnd",TIMEOUT:"adapterTimedOut"};var h=l(Object(r.a)({analyticsType:"endpoint"}),{track:function(e){var n=e.eventType,t=e.args;if(h.context){var r,o=null;switch(n){case a.a.EVENTS.AUCTION_INIT:h.context.queue&&h.context.queue.init(),o=T;break;case a.a.EVENTS.BID_REQUESTED:o=I;break;case a.a.EVENTS.BID_RESPONSE:o=b;break;case a.a.EVENTS.BID_WON:o=E;break;case a.a.EVENTS.BID_TIMEOUT:o=A;break;case a.a.EVENTS.AUCTION_END:o=_}o&&(r=o(t),h.context.queue&&(h.context.queue.push(r),n===a.a.EVENTS.BID_WON&&h.context.queue.updateWithWins(r)),n===a.a.EVENTS.AUCTION_END&&m())}}});function m(){var e,n=h.context.queue.popAll();0!==n.length&&((e=h.context.requestTemplate).auctionId=h.context.auctionId,e.events=n,h.ajaxCall(JSON.stringify(e)))}function T(e){return h.context.auctionTimeStart=Date.now(),h.context.auctionId=e.auctionId,[N(e.auctionId,void 0,y.AUCTION_INIT)]}function I(n){return n.bids.map(function(e){return N(n.auctionId,n.bidderCode,y.BID_REQUEST,e.adUnitCode)})}function b(e){return[N(e.auctionId,e.bidderCode,y.BID_RESPONSE,e.adUnitCode,e.cpm,e.timeToRespond/1e3,!1,e)]}function E(e){return[N(e.auctionId,e.bidderCode,y.BID_WON,e.adUnitCode,e.cpm,void 0,!0,e)]}function _(e){return[N(e.auctionId,void 0,y.AUCTION_END,void 0,void 0,(Date.now()-h.context.auctionTimeStart)/1e3)]}function A(e){return e.map(function(e){return N(e.auctionId,e.bidderCode,y.TIMEOUT)})}function N(e,n,t,r,o,a,i,u){var c=3<arguments.length&&void 0!==r?r:void 0,s=4<arguments.length&&void 0!==o?o:0,d=5<arguments.length&&void 0!==a?a:0,l=6<arguments.length&&void 0!==i?i:void 0,f=7<arguments.length?u:void 0,p={event:t};return n&&(p.adapter=n,p.bidderName=n),c&&(p.adUnitCode=c),s&&(p.cpm=s),d&&(p.timeToRespond=d),void 0!==l?p.bidWon=l:"bidResponse"===t&&(p.bidWon=!1),p.auctionId=e,f&&(y.BID_RESPONSE!=t&&y.BID_WON!=t||(p.width=f.width,p.height=f.height,p.adId=f.adId)),p}h.context={},h.originEnableAnalytics=h.enableAnalytics,h.enableAnalytics=function(e){var n,t,r,o;p.logInfo("Enabling STAQ Adapter"),f=Object(u.a)(window),e.options.connId?e.options.url?(h.context={host:e.options.host||"tag.staq.com",url:e.options.url,connectionId:e.options.connId,requestTemplate:(n=e.options.connId,t=f.referer,r=f.referer,{ver:"1.0.0",domain:(o=f.referer).hostname,path:o.pathname,userAgent:navigator.userAgent,connId:n,env:{screen:{w:window.screen.width,h:window.screen.height},lang:navigator.language},src:x(t,r)}),queue:new C(m,e.options.queueTimeout||4e3)},h.originEnableAnalytics(e)):p.logError("URL is not defined. STAQ Analytics won't work"):p.logError("ConnId is not defined. STAQ Analytics won't work")},i.default.registerAnalyticsAdapter({adapter:h,code:"staq"}),(n.default=h).ajaxCall=function(e){p.logInfo("SENDING DATA: "+e),Object(c.a)("https://".concat(h.context.url,"/prebid/").concat(h.context.connectionId),function(){},e,{contentType:"text/plain"})};var S=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","utm_c1","utm_c2","utm_c3","utm_c4","utm_c5"],O="staq_analytics",w="(direct)",D="(referral)",U="(organic)",q={getItem:function(e){return v.getDataFromLocalStorage(e)},setItem:function(e,n){v.setDataInLocalStorage(e,n)}};function x(e,n){var t,r,o,a=(t=q.getItem(O))?JSON.parse(t):d(),i=function(e,n){var t=function(e){var t=p.parseUrl(e).search;if(!t.utm_campaign||!t.utm_source)return;var r=[];return p._each(S,function(e){var n=t[e]||"";r.push(n)}),l.apply(this,r)}(e);if(t)return t;if(n){var r=function(e){var n={google:/^https?\:\/\/(?:www\.)?(?:google\.(?:com?\.)?(?:com|cat|[a-z]{2})|g.cn)\//i,yandex:/^https?\:\/\/(?:www\.)?ya(?:ndex\.(?:com|net)?\.?(?:asia|mobi|org|[a-z]{2})?|\.ru)\//i,bing:/^https?\:\/\/(?:www\.)?bing\.com\//i,duckduckgo:/^https?\:\/\/(?:www\.)?duckduckgo\.com\//i,ask:/^https?\:\/\/(?:www\.)?ask\.com\//i,yahoo:/^https?\:\/\/(?:[-a-z]+\.)?(?:search\.)?yahoo\.com\//i};for(var t in n)if(n.hasOwnProperty(t)&&n[t].test(e))return t}(n);if(r)return l(r,U,U);var o=p.parseUrl(e),a=g(function(e){var n=p.parseUrl(e);return[n.hostname,n.pathname]}(n),2),i=a[0],u=a[1];if(i&&i!==o.hostname)return l(i,D,D,"",u)}return d()}(e,n),u=g(function(e,n){if(f(e)<f(n))return[!0,n];{if(f(e)>f(n))return[!1,e];if(e.campaign===D&&e.content!==n.content)return[!0,n];if(e.campaign===U&&e.source!==n.source)return[!0,n];if(function(e){return-1===[w,D,U].indexOf(e.campaign)}(e)&&(e.campaign!==n.campaign||e.source!==n.source))return[!0,n]}return[!1,e]}(a,i),2),c=u[0],s=u[1];return c&&(r=s,o=JSON.stringify(r),q.setItem(O,o)),s;function d(){return l(w,w,w)}function l(e,n,t){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"",i=6<arguments.length&&void 0!==arguments[6]?arguments[6]:"",u=7<arguments.length&&void 0!==arguments[7]?arguments[7]:"",c=8<arguments.length&&void 0!==arguments[8]?arguments[8]:"",s=9<arguments.length&&void 0!==arguments[9]?arguments[9]:"",d={source:e,medium:n,campaign:t};return r&&(d.term=r),o&&(d.content=o),a&&(d.c1=a),i&&(d.c2=i),u&&(d.c3=u),c&&(d.c4=c),s&&(d.c5=s),d}function f(e){switch(e.campaign){case w:return 0;case U:return 1;case D:return 2;default:return 3}}}function C(e,n){var t,r=[];function o(){t&&clearTimeout(t),t=setTimeout(function(){r.length&&e()},n)}this.push=function(e){e instanceof Array?r.push.apply(r,e):r.push(e),o()},this.updateWithWins=function(e){e.forEach(function(n){r.forEach(function(e){"bidResponse"===e.event&&e.auctionId==n.auctionId&&e.adUnitCode==n.adUnitCode&&e.adId==n.adId&&e.adapter==n.adapter&&(e.bidWon=!0)})})},this.popAll=function(){var e=r;return r=[],o(),e},this.peekAll=function(){return r},this.init=o}}},[860]);