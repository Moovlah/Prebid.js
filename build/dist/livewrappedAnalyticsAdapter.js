pbjsChunk([39],{571:function(t,e,n){t.exports=n(572)},572:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"BID_WON_TIMEOUT",function(){return u});var b=n(0),g=n(4),a=n(6),o=n(5),r=n.n(o),i=n(8);function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}var E,u=500,I={auctions:{}},c=s(Object(a.a)({EMPTYURL:"",ANALYTICSTYPE:"endpoint"}),{track:function(t){var e=t.eventType,n=t.args,a=b.timestamp();switch(b.logInfo("LIVEWRAPPED_EVENT:",[e,n]),e){case r.a.EVENTS.AUCTION_INIT:b.logInfo("LIVEWRAPPED_AUCTION_INIT:",n),I.auctions[n.auctionId]={bids:{},bidAdUnits:{}};break;case r.a.EVENTS.BID_REQUESTED:b.logInfo("LIVEWRAPPED_BID_REQUESTED:",n),I.auctions[n.auctionId].timeStamp=n.start,n.bids.forEach(function(t){var e;I.auctions[n.auctionId].gdprApplies=n.gdprConsent?n.gdprConsent.gdprApplies:void 0,I.auctions[n.auctionId].gdprConsent=n.gdprConsent?n.gdprConsent.consentString:void 0,t.lwflr&&(e=t.lwflr.flr,e=(t.lwflr.bflrs?t.lwflr.bflrs[t.bidder]:void 0)||e),I.auctions[n.auctionId].bids[t.bidId]={bidder:t.bidder,adUnit:t.adUnitCode,isBid:!1,won:!1,timeout:!1,sendStatus:0,readyToSend:0,start:n.start,lwFloor:e,floorData:t.floorData,auc:t.auc,buc:t.buc},b.logInfo(t)}),b.logInfo(c.requestEvents);break;case r.a.EVENTS.BID_RESPONSE:b.logInfo("LIVEWRAPPED_BID_RESPONSE:",n);var o=I.auctions[n.auctionId].bids[n.requestId];o.isBid=n.getStatusCode()===r.a.STATUS.GOOD,o.width=n.width,o.height=n.height,o.cpm=n.cpm,o.ttr=n.timeToRespond,o.readyToSend=1,o.mediaType="native"==n.mediaType?2:"video"==n.mediaType?4:1,o.ttr||(o.ttr=a-o.start),I.auctions[n.auctionId].bidAdUnits[o.adUnit]||(I.auctions[n.auctionId].bidAdUnits[o.adUnit]={sent:0,timeStamp:I.auctions[n.auctionId].timeStamp});break;case r.a.EVENTS.BIDDER_DONE:b.logInfo("LIVEWRAPPED_BIDDER_DONE:",n),n.bids.forEach(function(t){var e=I.auctions[t.auctionId].bids[t.bidId||t.requestId];e.ttr||(e.ttr=a-e.start),e.readyToSend=1});break;case r.a.EVENTS.BID_WON:b.logInfo("LIVEWRAPPED_BID_WON:",n);var i=I.auctions[n.auctionId].bids[n.requestId];i.won=!0,0!=i.sendStatus&&c.sendEvents();break;case r.a.EVENTS.BID_TIMEOUT:b.logInfo("LIVEWRAPPED_BID_TIMEOUT:",n),n.forEach(function(t){I.auctions[t.auctionId].bids[t.bidId].timeout=!0});break;case r.a.EVENTS.AUCTION_END:b.logInfo("LIVEWRAPPED_AUCTION_END:",n),setTimeout(function(){c.sendEvents()},u)}}});function y(t,e){for(var n=0,n=0;n<t.length&&(t[n].gdprApplies!=e.gdprApplies||t[n].gdprConsent!=e.gdprConsent);n++);return n==t.length&&(t[n]={gdprApplies:e.gdprApplies,gdprConsent:e.gdprConsent}),n}function T(t,e){for(var n=0,n=0;n<t.length&&t[n]!=e;n++);return n==t.length&&(t[n]=e),n}c.originEnableAnalytics=c.enableAnalytics,c.allRequestEvents=[],c.enableAnalytics=function(t){E=t.options,c.originEnableAnalytics(t)},c.sendEvents=function(){var i,e,r,a,t,s,u,c,d,l,p,f,n=(i=[],e=[],r=[],Object.keys(I.auctions).forEach(function(t){var n=I.auctions[t],a=y(e,n),o=T(r,t);Object.keys(I.auctions[t].bids).forEach(function(t){var e=n.bids[t];1&e.sendStatus||(e.sendStatus|=1,i.push({timeStamp:n.timeStamp,adUnit:e.adUnit,bidder:e.bidder,gdpr:a,floor:e.lwFloor,auctionId:o,auc:e.auc,buc:e.buc}))})}),{gdpr:e,auctionIds:r,sentRequests:i}),o={publisherId:E.publisherId,gdpr:n.gdpr,auctionIds:n.auctionIds,requests:n.sentRequests,responses:(l=n.gdpr,p=n.auctionIds,f=[],Object.keys(I.auctions).forEach(function(i){Object.keys(I.auctions[i].bids).forEach(function(t){var e=I.auctions[i],n=y(l,e),a=T(p,i),o=e.bids[t];!o.readyToSend||2&o.sendStatus||o.timeout||(o.sendStatus|=2,f.push({timeStamp:e.timeStamp,adUnit:o.adUnit,bidder:o.bidder,width:o.width,height:o.height,cpm:o.cpm,ttr:o.ttr,IsBid:o.isBid,mediaType:o.mediaType,gdpr:n,floor:o.floorData?o.floorData.floorValue:o.lwFloor,floorCur:o.floorData?o.floorData.floorCurrency:void 0,auctionId:a,auc:o.auc,buc:o.buc}))})}),f),wins:(u=n.gdpr,c=n.auctionIds,d=[],Object.keys(I.auctions).forEach(function(i){Object.keys(I.auctions[i].bids).forEach(function(t){var e=I.auctions[i],n=y(u,e),a=T(c,i),o=e.bids[t];4&o.sendStatus||!o.won||(o.sendStatus|=4,d.push({timeStamp:e.timeStamp,adUnit:o.adUnit,bidder:o.bidder,width:o.width,height:o.height,cpm:o.cpm,mediaType:o.mediaType,gdpr:n,floor:o.floorData?o.floorData.floorValue:o.lwFloor,floorCur:o.floorData?o.floorData.floorCurrency:void 0,auctionId:a,auc:o.auc,buc:o.buc}))})}),d),timeouts:(t=n.auctionIds,s=[],Object.keys(I.auctions).forEach(function(a){var o=T(t,a);Object.keys(I.auctions[a].bids).forEach(function(t){var e=I.auctions[a],n=e.bids[t];8&n.sendStatus||!n.timeout||(n.sendStatus|=8,s.push({bidder:n.bidder,adUnit:n.adUnit,timeStamp:e.timeStamp,auctionId:o,auc:n.auc,buc:n.buc}))})}),s),bidAdUnits:(a=[],Object.keys(I.auctions).forEach(function(t){var n=I.auctions[t];Object.keys(n.bidAdUnits).forEach(function(t){var e=n.bidAdUnits[t];e.sent||(e.sent=1,a.push({adUnit:t,timeStamp:e.timeStamp}))})}),a),rcv:function(){try{return b.getWindowTop().I12C&&1===b.getWindowTop().I12C.Morph}catch(t){}}()};0==o.requests.length&&0==o.responses.length&&0==o.wins.length&&0==o.timeouts.length||Object(g.a)(E.endpoint||"https://lwadm.com/analytics/10",void 0,JSON.stringify(o),{method:"POST"})},i.default.registerAnalyticsAdapter({adapter:c,code:"livewrapped"}),e.default=c},6:function(t,e,n){"use strict";e.a=function(t){var o,i=t.url,e=t.analyticsType,r=t.global,a=t.handler,s=[],u=0,n=!0;e!==w&&!C||function(){if(n){for(var t=0;t<s.length;t++)s[t]();s.push=function(t){t()},n=!1}g.logMessage("event count sent to ".concat(r,": ").concat(u))}();return{track:function(t){var e=t.eventType,n=t.args;this.getAdapterType()===C&&window[r](a,e,n);this.getAdapterType()===w&&function(t){var e=t.eventType,n=t.args,a=t.callback;Object(l.a)(i,a,JSON.stringify({eventType:e,args:n}))}.apply(void 0,arguments)},enqueue:c,enableAnalytics:d,disableAnalytics:function(){g._each(o,function(t,e){b.off(e,t)}),this.enableAnalytics=this._oldEnable?this._oldEnable:d},getAdapterType:function(){return e},getGlobal:function(){return r},getHandler:function(){return a},getUrl:function(){return i}};function c(t){var e=t.eventType,n=t.args,a=this;r&&window[r]&&e&&n?this.track({eventType:e,args:n}):s.push(function(){u++,a.track({eventType:e,args:n})})}function d(e){var t,n=this,a=this;"object"!==f(e)||"object"!==f(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling))?(b.getEvents().forEach(function(t){var e,n;t&&(e=t.eventType,n=t.args,e!==h&&c.call(a,{eventType:e,args:n}))}),p(t={},y,function(t){return n.enqueue({eventType:y,args:t})}),p(t,T,function(t){return n.enqueue({eventType:T,args:t})}),p(t,v,function(t){return n.enqueue({eventType:v,args:t})}),p(t,m,function(t){return n.enqueue({eventType:m,args:t})}),p(t,h,function(t){return n.enqueue({eventType:h,args:t})}),p(t,S,function(t){return n.enqueue({eventType:S,args:t})}),p(t,D,function(t){return n.enqueue({eventType:D,args:t})}),p(t,A,function(t){return n.enqueue({eventType:A,args:t})}),p(t,_,function(t){return n.enqueue({eventType:_,args:t})}),p(t,I,function(t){return n.enqueue({eventType:I,args:t})}),p(t,O,function(t){return n.enqueue({eventType:O,args:t})}),p(t,N,function(t){return n.enqueue({eventType:N,args:t})}),p(t,U,function(t){return n.enqueue({eventType:U,args:t})}),p(t,E,function(t){t.config="object"===f(e)&&e.options||{},n.enqueue({eventType:E,args:t})}),o=t,g._each(o,function(t,e){b.on(e,t)})):g.logMessage('Analytics adapter for "'.concat(r,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return g.logMessage('Analytics adapter for "'.concat(r,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var a=n(5),o=n.n(a),l=n(4);function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var b=n(9),g=n(0),i=o.a.EVENTS,E=i.AUCTION_INIT,I=i.AUCTION_END,y=i.REQUEST_BIDS,T=i.BID_REQUESTED,h=i.BID_TIMEOUT,v=i.BID_RESPONSE,m=i.NO_BID,S=i.BID_WON,D=i.BID_ADJUSTMENT,A=i.BIDDER_DONE,_=i.SET_TARGETING,O=i.AD_RENDER_FAILED,N=i.AUCTION_DEBUG,U=i.ADD_AD_UNITS,w="endpoint",C="bundle"}},[571]);