pbjsChunk([269],{476:function(e,t,r){e.exports=r(477)},477:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return l});var a=r(1),d=r(2),p=r(0),m=r(3);function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,d=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){d=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(d)throw n}}}}function s(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function o(e,t){return void 0!==p.deepAccess(e,"mediaTypes.".concat(t))}var v="[account_id]",f="https://us-e-node1.gothamads.com/bid?pass=".concat(v,"&integration=prebidjs"),c={0:"title",2:"icon",3:"image",5:"sponsoredBy",4:"body",1:"cta"},u={title:{id:0,name:"title"},icon:{id:2,type:1,name:"img"},image:{id:3,type:3,name:"img"},sponsoredBy:{id:5,name:"data",type:1},body:{id:4,name:"data",type:2},cta:{id:1,type:12,name:"data"}},l={code:"gothamads",supportedMediaTypes:[d.b,d.d,d.c],isBidRequestValid:function(e){return Boolean(e.params.accountId)&&Boolean(e.params.placementId)},buildRequests:function(e,t){if(e&&0===e.length)return[];var r,a=e[0].params.accountId,i=f.replace(v,a),n=window;try{r=new URL(t.refererInfo.referer),n=window.top}catch(e){r=n.location,p.logMessage(e)}var o,d=[],s=y(e);try{for(s.s();!(o=s.n()).done;){var c=o.value,u=h(c),l={id:c.bidId,test:m.b.getConfig("debug")?1:0,cur:["USD"],device:{w:n.screen.width,h:n.screen.height,language:navigator&&navigator.language?-1!=navigator.language.indexOf("-")?navigator.language.split("-")[0]:navigator.language:""},site:{page:r.pathname,host:r.host},source:{tid:c.transactionId},tmax:c.timeout,imp:[u]};d.push(l)}}catch(e){s.e(e)}finally{s.f()}return{method:"POST",url:i,data:d}},interpretResponse:function(e){if(!e||!e.body)return[];var t,r=[],a=y(e.body);try{for(a.s();!(t=a.n()).done;){var i=t.value,n=i.seatbid[0].bid[0].ext&&i.seatbid[0].bid[0].ext.mediaType?i.seatbid[0].bid[0].ext.mediaType:d.b,o={requestId:i.id,cpm:i.seatbid[0].bid[0].price,width:i.seatbid[0].bid[0].w,height:i.seatbid[0].bid[0].h,ttl:i.ttl||1200,currency:i.cur||"USD",netRevenue:!0,creativeId:i.seatbid[0].bid[0].crid,dealId:i.seatbid[0].bid[0].dealid,mediaType:n};switch(n){case d.d:o.vastXml=i.seatbid[0].bid[0].adm,o.vastUrl=i.seatbid[0].bid[0].ext.vastUrl;break;case d.c:o.native=b(i.seatbid[0].bid[0].adm);break;default:o.ad=i.seatbid[0].bid[0].adm}r.push(o)}}catch(e){a.e(e)}finally{a.f()}return r}},b=function(e){var t=e.native,r=t.assets,a=t.link,i=t.imptrackers,n=t.jstracker,o={clickUrl:a.url,clickTrackers:a.clicktrackers||void 0,impressionTrackers:i||void 0,javascriptTrackers:n?[n]:void 0};return r.forEach(function(e){var t=c[e.id],r=t&&e[u[t].name];r&&(o[t]=r.text||r.value||{url:r.url,width:r.w,height:r.h})}),o},h=function(e){var t={id:e.transactionId,secure:1,ext:{placementId:e.params.placementId}};return o(e,d.b)&&(t.banner=w(e)),o(e,d.d)&&(t.video=I(e)),o(e,d.c)&&(t.native={ver:"1.2",request:g(e)}),t},g=function(e){var t={id:e.transactionId,ver:"1.2"},r=p._map(e.mediaTypes.native,function(e,t){var r=u[t],a={required:1&e.required};if(r){a.id=r.id;var i,n,o,d=e.aspect_ratios;return d&&d[0]&&(n=(d=d[0]).min_width||0,o=d.ratio_height*n/d.ratio_width|0),e.sizes&&(n=(i=T(e.sizes))[0],o=i[1]),a[r.name]={},e.len&&(a[r.name].len=e.len),r.type&&(a[r.name].type=r.type),n&&(a[r.name].wmin=n),o&&(a[r.name].hmin=o),a}}).filter(Boolean);return t.assets=r,t},w=function(e){var t={},r=A(e,"banner");return t.w=r[0],t.h=r[1],t},A=function(e,t){var r=e.mediaTypes;if("video"===t){var a=[];return r.video&&r.video.w&&r.video.h?a=[r.video.w,r.video.h]:Array.isArray(p.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?a=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(a=e.sizes[0]),a}var i=[];return Array.isArray(r.banner.sizes)?i=r.banner.sizes[0]:Array.isArray(e.sizes)&&0<e.sizes.length?i=e.sizes:p.logWarn("no sizes are setup or found"),i},I=function(e){for(var t={},r=0,a=["mimes","minduration","maxduration","protocols","startdelay","placement","skip","skipafter","minbitrate","maxbitrate","delivery","playbackmethod","api","linearity"];r<a.length;r++){var i=a[r];void 0!==e.mediaTypes.video[i]&&(t[i]=e.mediaTypes.video[i])}var n=A(e,"video");return t.w=n[0],t.h=n[1],t},T=function(e){var t;return(t=[]).concat.apply(t,i(e))};Object(a.registerBidder)(l)}},[476]);