pbjsChunk([233],{563:function(e,r,n){e.exports=n(564)},564:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"spec",function(){return i});var d=n(0),a=n(1),u=n(2);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s,l="LEMMA: ",c="USD",m=0,i={code:"lemma",supportedMediaTypes:[u.b,u.d],isBidRequestValid:function(e){return!(!e||!e.params)&&(d.isNumber(e.params.pubId)?e.params.adunitId?!!(!e.params.hasOwnProperty("video")||e.params.video.hasOwnProperty("mimes")&&d.isArray(e.params.video.mimes)&&0!==e.params.video.mimes.length)||(d.logWarn(l+"Error: For video ads, mimes is mandatory and must specify atlease 1 mime value. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1):(d.logWarn(l+"Error: adUnitId is mandatory. Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1):(d.logWarn(l+"Error: publisherId is mandatory and cannot be string. Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1))},buildRequests:function(e,r){var n;r&&r.refererInfo&&(n=r.refererInfo);var a,i,t,o=function(e,r){try{var n={id:""+(new Date).getTime(),at:2,tmax:300,cur:[c],imp:function(e){var r=[],n=e.map(function(e){var r,n,a={},i=e.hasOwnProperty("sizes")?e.sizes:[],t="",o=[],s=e&&e.params?e.params:null;a={id:e.bidId,tagid:s.adunitId?s.adunitId.toString():void 0,secure:"https:"===window.location.protocol?1:0,bidfloorcur:s.currency?s.currency:c},s.bidFloor&&(a.bidfloor=s.bidFloor);if(e.hasOwnProperty("mediaTypes"))for(t in e.mediaTypes)switch(t){case u.b:(r=function(e){var r,n=[];{var a,i;"banner"!==e.mediaType&&!d.deepAccess(e,"mediaTypes.banner")||(a=(e?e.params:null).banner,(i=f(e)||[])&&0==i.length&&(i=e.mediaTypes.banner.sizes[0]),i&&0<i.length?((r={}).w=i[0],r.h=i[1],r.pos=0,a&&(r=d.deepClone(a)),0<(i=e.mediaTypes.banner.sizes).length&&(n=[],i.forEach(function(e){1<e.length&&n.push({w:e[0],h:e[1]})}),0<n.length&&(r.format=n))):d.logWarn(l+"Error: mediaTypes.banner.sizes missing for adunit: "+e.params.adunitId))}return r}(e))&&(a.banner=r);break;case u.d:(n=function(e){var r;{var n,a,i;"video"!==e.mediaType&&!d.deepAccess(e,"mediaTypes.video")||(n=e?e.params:null,(a=f(e)||[])&&0==a.length&&(a=e.mediaTypes&&e.mediaTypes.video?e.mediaTypes.video.playerSize:[]),a&&0<a.length?(i=n.video,r={},i&&(r=d.deepClone(i)),r.w=a[0],r.h=a[1]):d.logWarn(l+"Error: mediaTypes.video.sizes missing for adunit: "+e.params.adunitId))}return r}(e))&&(a.video=n)}else r={pos:0,w:i&&i[0]?i[0][0]:0,h:i&&i[0]?i[0][1]:0},d.isArray(i)&&1<i.length&&((i=i.splice(1,i.length-1)).forEach(function(e){o.push({w:e[0],h:e[1]})}),r.format=o),a.banner=r;return function(a,i){var t=-1;"function"==typeof i.getFloor&&[u.b,u.d].forEach(function(e){var r,n;a.hasOwnProperty(e)&&("object"!==p(r=i.getFloor({currency:a.bidfloorcur,mediaType:e,size:"*"}))||r.currency!==a.bidfloorcur||isNaN(parseInt(r.floor))||(n=parseFloat(r.floor),t=-1==t?n:Math.min(n,t)))});a.bidfloor&&(t=Math.max(t,a.bidfloor));a.bidfloor=!isNaN(t)&&0<t?t:void 0}(a,e),a.hasOwnProperty(u.b)||a.hasOwnProperty(u.d)?a:void 0});n&&n.forEach(function(e){e&&r.push(e)});return r}(e),user:{},ext:{}},a=e[0],i=function(e){var r=e&&e.params?e.params:null;if(r){m=r.pubId?r.pubId:0;var n=r.app;if(n)return{publisher:{id:m.toString()},id:n.id,name:n.name,bundle:n.bundle,storeurl:n.storeUrl,domain:n.domain,cat:n.categories,pagecat:n.page_category}}return null}(a),t=function(e,r){var n=e&&e.params?e.params:null;if(n){m=n.pubId?n.pubId:"0";var a=n.siteId?n.siteId:"0";if(!n.app)return{publisher:{id:m.toString()},domain:function(e){var r=document.createElement("a");return r.setAttribute("href",e),r.hostname}(r.pageURL),id:a.toString(),ref:r.refURL,page:r.pageURL}}return null}(a,r),o=function(e){var r=e&&e.params?e.params:null;if(r)return{dnt:d.getDNT()?1:0,ua:navigator.userAgent,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,w:window.screen.width||window.innerWidth,h:window.screen.height||window.innerHeigh,geo:{country:r.country,lat:r.latitude,lon:r.longitude,region:r.region,city:r.city,zip:r.zip},ip:r.ip,devicetype:r.device_type,ifa:r.ifa};return null}(a);return i&&(n.app=i),t&&(n.site=t),o&&(n.device=o),n}catch(e){d.logError(l,"ERROR ",e)}}(e,function(e){var r={};r.pageURL=e&&e.referer?e.referer:window.location.href,e&&e.referer?r.refURL=e.referer:r.refURL="";return r}(n));if(0!=o.imp.length)return i=o,(t=(a=r)&&a.params?a.params:null)&&(i.tmax=t.tmax,i.bcat=t.bcat),{method:"POST",url:function(e){var r=e&&e[0].params?e[0].params:null;if(r)return m=r.pubId?r.pubId:0,s=r.adunitId?r.adunitId:0,"https://ads.lemmatechnologies.com/lemma/servad?pid="+m+"&aid="+s;return null}(e),data:JSON.stringify(o)}},interpretResponse:function(e,r){return function(r,e){var n=[];try{var t;e.seatbid&&(t=e.curr||c,e.seatbid.forEach(function(e){e.bid.forEach(function(a){var e=function(e){try{if(e)return JSON.parse(e)}catch(e){d.logError(l,"ERROR",e)}return null}(r.data),i={requestId:a.impid,cpm:parseFloat(a.price).toFixed(2),width:a.w,height:a.h,creativeId:a.crid,currency:t,netRevenue:!1,ttl:300,referrer:e.site.ref,ad:a.adm};a.dealid&&(i.dealId=a.dealid),e.imp&&0<e.imp.length&&e.imp.forEach(function(e){if(a.impid===e.id)switch(r=a.adm,n=i,new RegExp(/VAST.*version/).test(r)?n.mediaType=u.d:n.mediaType=u.b,i.mediaType){case u.b:break;case u.d:i.width=a.hasOwnProperty("w")?a.w:e.video.w,i.height=a.hasOwnProperty("h")?a.h:e.video.h,i.vastXml=a.adm}var r,n}),n.push(i)})}))}catch(e){d.logError(l,"ERROR ",e)}return n}(r,e.body)},getUserSyncs:function(e){var r="https://sync.lemmatechnologies.com/js/usersync.html?pid="+m;if(e.iframeEnabled)return[{type:"iframe",url:r}];d.logWarn(l+"Please enable iframe based user sync.")}};function f(e){return e.sizes&&d.isArray(e.sizes[0])&&0<e.sizes[0].length?e.sizes[0]:null}Object(a.registerBidder)(i)}},[563]);