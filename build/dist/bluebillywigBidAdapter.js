pbjsChunk([49],{19:function(e,t,r){"use strict";t.b=function(e){var t=[];for(var r in e){var n;e.hasOwnProperty(r)&&("pubProvidedId"===r?t=t.concat(e.pubProvidedId):(n=function(e,t){var r=d[t];if(r&&e){var n={};n.source=r.source;var i=s.isFn(r.getValue)?r.getValue(e):e;if(s.isStr(i)){var o,a,c={id:i,atype:r.atype};return!s.isFn(r.getUidExt)||(o=r.getUidExt(e))&&(c.ext=o),n.uids=[c],!s.isFn(r.getEidExt)||(a=r.getEidExt(e))&&(n.ext=a),n}}return null}(e[r],r))&&t.push(n))}return t},t.a=function(e){var r=[];return e.filter(function(e){return s.isPlainObject(e.idObj)&&Object.keys(e.idObj).length}).forEach(function(t){Object.keys(t.idObj).forEach(function(e){s.deepAccess(t,"config.bidders")&&Array.isArray(t.config.bidders)&&s.deepAccess(d,e+".source")&&r.push({source:d[e].source,bidders:t.config.bidders})})}),r};var s=r(0),d={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=s.pick(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},sharedid:{source:"sharedid.org",atype:1,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.third?{third:e.third}:void 0}},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},admixerId:{source:"admixer.net",atype:3}}},320:function(e,t,r){e.exports=r(321)},321:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"spec",function(){return E});var a=r(0),n=r(10),c=r.n(n),i=r(1),o=r(2),s=r(3),d=r(12),u=r(19);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=window.location.search.match(/bbpbs_debug=true/),m={BIDDER_CODE:"bluebillywig",AUCTION_URL:"$$URL_STARTpbs.bluebillywig.com/openrtb2/auction?pub=$$PUBLICATION",SYNC_URL:"$$URL_STARTpbs.bluebillywig.com/static/cookie-sync.html?pub=$$PUBLICATION",RENDERER_URL:"https://$$PUBLICATION.bbvms.com/r/$$RENDERER.js",DEFAULT_TIMEOUT:5e3,DEFAULT_TTL:300,DEFAULT_WIDTH:768,DEFAULT_HEIGHT:432,DEFAULT_NET_REVENUE:!0,VIDEO_PARAMS:["mimes","minduration","maxduration","protocols","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext"]},y=s.b.getConfig,g={addSiteAppDevice:function(e,t){"object"===l(y("app"))?e.app=y("app"):(e.site={},"object"===l(y("site"))&&(e.site=y("site")),t&&(e.site.page=t)),"object"===l(y("device"))&&(e.device=y("device")),e.device||(e.device={}),e.device.w||(e.device.w=window.innerWidth),e.device.h||(e.device.h=window.innerHeight)},addSchain:function(e,t){var r=a.deepAccess(t,"0.schain");r&&(e.source.ext={schain:r})},addCurrency:function(e){var t=y("currency.adServerCurrency");t&&"string"==typeof t?e.cur=[t]:Array.isArray(t)&&t.length&&(e.cur=[t[0]])},addUserIds:function(e,t){var r=a.deepAccess(t,"0.userId"),n=Object(u.b)(r);n.length&&a.deepSetValue(e,"user.ext.eids",n)},substituteUrl:function(e,t,r){return e.replace("$$URL_START",b?"https://dev.":"https://").replace("$$PUBLICATION",t).replace("$$RENDERER",r)},getAuctionUrl:function(e){return g.substituteUrl(m.AUCTION_URL,e)},getSyncUrl:function(e){return g.substituteUrl(m.SYNC_URL,e)},getRendererUrl:function(e,t){return g.substituteUrl(m.RENDERER_URL,e,t)},transformVideoParams:function(t,e){var r=(t=a.deepClone(t)).playerSize||[m.DEFAULT_WIDTH,m.DEFAULT_HEIGHT];return Array.isArray(r[0])&&(r=r[0]),t.w=r[0],t.h=r[1],t.placement=3,e&&(t=p(t,e)),Object.keys(t).forEach(function(e){-1===m.VIDEO_PARAMS.indexOf(e)&&delete t[e]}),t},transformRTBToPrebidProps:function(e,t){var r={cpm:e.price,currency:t.cur,netRevenue:m.DEFAULT_NET_REVENUE,bidId:e.impid,requestId:e.impid,creativeId:e.crid,mediaType:o.d,width:e.w||m.DEFAULT_WIDTH,height:e.h||m.DEFAULT_HEIGHT,ttl:m.DEFAULT_TTL},n=a.deepAccess(e,"ext.prebid.targeting"),i=a.deepAccess(e,"ext.prebid.cache");return i&&"object"===l(i.vastXml)&&i.vastXml.cacheId&&i.vastXml.url?(r.videoCacheKey=i.vastXml.cacheId,r.vastUrl=i.vastXml.url):n&&n.hb_uuid&&n.hb_cache_host&&n.hb_cache_path&&(r.videoCacheKey=n.hb_uuid,r.vastUrl="https://".concat(n.hb_cache_host).concat(n.hb_cache_path,"?uuid=").concat(n.hb_uuid)),e.adm&&(r.ad=e.adm,r.vastXml=e.adm),r.vastUrl||!e.nurl||e.adm||(r.vastUrl=e.nurl),r}},f={bootstrapPlayer:function(e){var t,r,n,i={code:e.adUnitCode};e.vastXml?i.vastXml=e.vastXml:e.vastUrl&&(i.vastUrl=e.vastUrl),e.vastXml||e.vastUrl?window.bluebillywig&&window.bluebillywig.renderers?(t=f.getRendererId(e.publicationName,e.rendererCode),r=document.getElementById(e.adUnitCode),(n=c()(window.bluebillywig.renderers,function(e){return e._id===t}))?n.bootstrap(i,r,e.rendererSettings||{}):a.logWarn("".concat(m.BIDDER_CODE,": Couldn't find a renderer with ").concat(t))):a.logWarn("".concat(m.BIDDER_CODE,": renderer code failed to initialize...")):a.logWarn("".concat(m.BIDDER_CODE,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var r=d.a.install({url:e,loaded:!1,adUnitCode:t});try{r.setRender(f.outstreamRender)}catch(e){a.logWarn("".concat(m.BIDDER_CODE,": Error tying to setRender on renderer"),e)}return r},outstreamRender:function(e){e.renderer.push(function(){f.bootstrapPlayer(e)})},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},E={code:m.BIDDER_CODE,supportedMediaTypes:[o.d],syncStore:{bidders:[]},isBidRequestValid:function(e){if(!e.params)return a.logError("".concat(m.BIDDER_CODE,": no params set on bid. Rejecting bid: "),e),!1;if(!e.params.hasOwnProperty("publicationName")||"string"!=typeof e.params.publicationName)return a.logError("".concat(m.BIDDER_CODE,": no publicationName specified in bid params, or it's not a string. Rejecting bid: "),e),!1;if(!/^\w+\.?\w+$/.test(e.params.publicationName))return a.logError("".concat(m.BIDDER_CODE,": publicationName must be in format 'publication' or 'publication.environment'. Rejecting bid: "),e),!1;if(!e.params.hasOwnProperty("rendererCode")||"string"!=typeof e.params.rendererCode)return a.logError("".concat(m.BIDDER_CODE,": no rendererCode was specified in bid params. Rejecting bid: "),e),!1;if(!/^[\w+_]+$/.test(e.params.rendererCode))return a.logError("".concat(m.BIDDER_CODE,": rendererCode must be alphanumeric, including underscores. Rejecting bid: "),e),!1;if(!e.params.accountId)return a.logError("".concat(m.BIDDER_CODE,": no accountId specified in bid params. Rejecting bid: "),e),!1;if(!e.params.hasOwnProperty("connections"))return a.logError("".concat(m.BIDDER_CODE,": no connections specified in bid. Rejecting bid: "),e),!1;if(!Array.isArray(e.params.connections))return a.logError("".concat(m.BIDDER_CODE,": connections is not of type array. Rejecting bid: "),e),!1;for(var t=0;t<e.params.connections.length;t++)if(!e.params.hasOwnProperty(e.params.connections[t]))return a.logError("".concat(m.BIDDER_CODE,": connection specified in params.connections, but not configured in params. Rejecting bid: "),e),!1;return!e.params.hasOwnProperty("video")||null!==e.params.video&&"object"===l(e.params.video)?!e.params.hasOwnProperty("rendererSettings")||null!==e.params.rendererSettings&&"object"===l(e.params.rendererSettings)?e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(o.d)?e.mediaTypes[o.d].hasOwnProperty("context")?"outstream"===e.mediaTypes[o.d].context||(a.logError("".concat(m.BIDDER_CODE,': video.context is invalid, must be "outstream". Rejecting bid: '),e),!1):(a.logError("".concat(m.BIDDER_CODE,": no context specified in bid. Rejecting bid: "),e),!1):(a.logError("".concat(m.BIDDER_CODE,": mediaTypes or mediaTypes.video is not specified. Rejecting bid: "),e),!1):(a.logError("".concat(m.BIDDER_CODE,": params.rendererSettings must be of type object. Rejecting bid: "),e),!1):(a.logError("".concat(m.BIDDER_CODE,": params.video must be of type object. Rejecting bid: "),e),!1)},buildRequests:function(e,t){var n=this,i=[];e.forEach(function(r){n.syncStore.publicationName||(n.syncStore.publicationName=r.params.publicationName),n.syncStore.accountId||(n.syncStore.accountId=r.params.accountId);var e=r.params.connections.reduce(function(e,t){return e[t]=r.params[t],-1===n.syncStore.bidders.indexOf(t)&&n.syncStore.bidders.push(t),e},{}),t=g.transformVideoParams(a.deepAccess(r,"mediaTypes.video"),a.deepAccess(r,"params.video"));i.push({id:r.bidId,ext:e,secure:"https"===window.location.protocol?1:0,video:t})});var r,o={id:t.auctionId,source:{tid:t.auctionId},tmax:m.DEFAULT_TIMEOUT,imp:i,test:b?1:0,ext:{prebid:{targeting:{includewinners:!0,includebidderkeys:!1}}}};return t.gdprConsent&&(r=0,"boolean"==typeof t.gdprConsent.gdprApplies&&(r=t.gdprConsent.gdprApplies?1:0),a.deepSetValue(o,"regs.ext.gdpr",r),a.deepSetValue(o,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&(a.deepSetValue(o,"regs.ext.us_privacy",t.uspConsent),this.syncStore.uspConsent=t.uspConsent),1==y("coppa")&&a.deepSetValue(o,"regs.coppa",1),g.addSiteAppDevice(o,t.refererInfo&&t.refererInfo.referer),g.addSchain(o,e),g.addCurrency(o),g.addUserIds(o,e),{method:"POST",url:g.getAuctionUrl(e[0].params.publicationName),data:JSON.stringify(o),bidderRequest:t}},interpretResponse:function(n,i){if(!(n=n.body||{}).hasOwnProperty("seatbid")||!Array.isArray(n.seatbid))return[];var o=[];return n.seatbid.forEach(function(e){e.bid&&Array.isArray(e.bid)&&e.bid.forEach(function(t){t=g.transformRTBToPrebidProps(t,n);var e=c()(i.bidderRequest.bids,function(e){return e.bidId===t.bidId}).params;t.publicationName=e.publicationName,t.rendererCode=e.rendererCode,t.accountId=e.accountId,t.rendererSettings=e.rendererSettings;var r=g.getRendererUrl(t.publicationName,t.rendererCode);t.renderer=f.newRenderer(r,t.adUnitCode),o.push(t)})}),o},getUserSyncs:function(e,t,r){if(!e.iframeEnabled)return[];var n=[];return r.gdprApplies&&n.push("gdpr=".concat(r.gdprApplies?1:0)),r.gdprApplies&&r.consentString&&n.push("gdpr_consent=".concat(r.consentString)),this.syncStore.uspConsent&&n.push("usp_consent=".concat(this.syncStore.uspConsent)),n.push("accountId=".concat(this.syncStore.accountId)),n.push("bidders=".concat(btoa(JSON.stringify(this.syncStore.bidders)))),n.push("cb=".concat(Date.now(),"-").concat(Math.random().toString().replace(".",""))),b&&n.push("bbpbs_debug=true"),[{type:"iframe",url:"".concat(g.getSyncUrl(this.syncStore.publicationName),"&").concat(n.join("&"))}]}};Object(i.registerBidder)(E)}},[320]);