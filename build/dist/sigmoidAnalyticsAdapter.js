pbjsChunk([16],{6:function(e,t,n){"use strict";t.a=function(e){var o,r=e.url,t=e.analyticsType,i=e.global,a=e.handler,s=[],u=0,n=!0;t!==w&&!q||function(){if(n){for(var e=0;e<s.length;e++)s[e]();s.push=function(e){e()},n=!1}d.logMessage("event count sent to ".concat(i,": ").concat(u))}();return{track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===q&&window[i](a,t,n);this.getAdapterType()===w&&function(e){var t=e.eventType,n=e.args,a=e.callback;Object(f.a)(r,a,JSON.stringify({eventType:t,args:n}))}.apply(void 0,arguments)},enqueue:c,enableAnalytics:l,disableAnalytics:function(){d._each(o,function(e,t){y.off(t,e)}),this.enableAnalytics=this._oldEnable?this._oldEnable:l},getAdapterType:function(){return t},getGlobal:function(){return i},getHandler:function(){return a},getUrl:function(){return r}};function c(e){var t=e.eventType,n=e.args,a=this;i&&window[i]&&t&&n?this.track({eventType:t,args:n}):s.push(function(){u++,a.track({eventType:t,args:n})})}function l(t){var e,n=this,a=this;"object"!==p(t)||"object"!==p(t.options)||(void 0===t.options.sampling||Math.random()<parseFloat(t.options.sampling))?(y.getEvents().forEach(function(e){var t,n;e&&(t=e.eventType,n=e.args,t!==D&&c.call(a,{eventType:t,args:n}))}),g(e={},b,function(e){return n.enqueue({eventType:b,args:e})}),g(e,E,function(e){return n.enqueue({eventType:E,args:e})}),g(e,h,function(e){return n.enqueue({eventType:h,args:e})}),g(e,m,function(e){return n.enqueue({eventType:m,args:e})}),g(e,D,function(e){return n.enqueue({eventType:D,args:e})}),g(e,S,function(e){return n.enqueue({eventType:S,args:e})}),g(e,_,function(e){return n.enqueue({eventType:_,args:e})}),g(e,A,function(e){return n.enqueue({eventType:A,args:e})}),g(e,I,function(e){return n.enqueue({eventType:I,args:e})}),g(e,T,function(e){return n.enqueue({eventType:T,args:e})}),g(e,N,function(e){return n.enqueue({eventType:N,args:e})}),g(e,U,function(e){return n.enqueue({eventType:U,args:e})}),g(e,O,function(e){return n.enqueue({eventType:O,args:e})}),g(e,v,function(e){e.config="object"===p(t)&&t.options||{},n.enqueue({eventType:v,args:e})}),o=e,d._each(o,function(e,t){y.on(t,e)})):d.logMessage('Analytics adapter for "'.concat(i,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return d.logMessage('Analytics adapter for "'.concat(i,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var a=n(5),o=n.n(a),f=n(4);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=n(9),d=n(0),r=o.a.EVENTS,v=r.AUCTION_INIT,T=r.AUCTION_END,b=r.REQUEST_BIDS,E=r.BID_REQUESTED,D=r.BID_TIMEOUT,h=r.BID_RESPONSE,m=r.NO_BID,S=r.BID_WON,_=r.BID_ADJUSTMENT,A=r.BIDDER_DONE,I=r.SET_TARGETING,N=r.AD_RENDER_FAILED,U=r.AUCTION_DEBUG,O=r.ADD_AD_UNITS,w="endpoint",q="bundle"},820:function(e,t,n){e.exports=n(821)},821:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),u=n.n(a),o=n(6),r=n(5),i=n.n(r),s=n(8),c=n(7);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var f=Object(c.b)(),g=n(0),p=i.a.EVENTS.AUCTION_INIT,y=i.a.EVENTS.AUCTION_END,d=i.a.EVENTS.BID_WON,v=i.a.EVENTS.BID_REQUESTED,T=i.a.EVENTS.BID_ADJUSTMENT,b=i.a.EVENTS.BID_RESPONSE,E={publisherIds:[],utmTagData:[],adUnits:[]},D={options:{},events:[]},h={options:{},events:[]},m="not_started",S="sigmoid_analytics_",_=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],A="utm_timeout",I=36e5,N="session_id",U="session_timeout";function O(){return S.concat(N)}function w(){return S.concat(U)}function q(){var e,t;t=f.getDataFromLocalStorage(w()),Date.now()-t>I&&(e=g.generateUUID(),f.setDataInLocalStorage(O(),e)),E.sessionId=f.getDataFromLocalStorage(O())?f.getDataFromLocalStorage(O()):"",f.setDataInLocalStorage(w(),Date.now())}function B(){f.setDataInLocalStorage(j(),Date.now())}function j(){return S.concat(A)}function k(e){return S.concat(e)}function L(){return void 0!==E.adUnits&&0<E.adUnits.length}var R=l(Object(o.a)({url:"https://kinesis.us-east-1.amazonaws.com/",analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;if(void 0!==E.publisherIds&&0<E.publisherIds.length){var a,o,r,i,s=l({},n);if(s&&s.ad&&(s.ad=""),t===p&&(m="started"),t===d&&"not_started"===m)return q(),a=t,o=s,D.options=E,L()&&!u()(E.adUnits,o.adUnitCode)||(D.events=[{args:o,eventType:a}]),void(0<D.events.length&&C(0,D,"bidWon"));t===y?(q(),h.options=E,0<h.events.length&&h.events.some(function(e){return v===e.eventType||d===e.eventType})&&C(0,h,"eventStack"),m="not_started"):(i=s,(r=t)===v?(L()&&(i.bids=function(e){var t=[];return e.forEach(function(e){u()(E.adUnits,e.placementCode)&&t.push(e)}),t}(i.bids)),0<i.bids.length&&h.events.push({eventType:r,args:i})):function(e,t){if(L()){var n=[T,b,d];if(!u()(E.adUnits,t)&&u()(n,e))return}return 1}(r,i.adUnitCode)&&h.events.push({eventType:r,args:i}))}}});function C(e,o,r){AWS.config.credentials=new AWS.Credentials({accessKeyId:"accesskey",secretAccessKey:"secretkey"}),AWS.config.region="us-east-1",AWS.config.credentials.get(function(e){var t,n,a;e?g.logError(e):(t=new AWS.Kinesis({apiVersion:"2013-12-02"}),n=[],(a={}).Data=JSON.stringify(o)+"\n",a.PartitionKey="partition-"+Math.random().toString(36).substring(7),n.push(a),t.putRecords({Records:n,StreamName:"sample-stream"}),"eventStack"===r&&(h.events=[]))})}R.originEnableAnalytics=R.enableAnalytics,R.enableAnalytics=function(e){(E=e.options).utmTagData=this.buildUtmTagData(),g.logInfo("Sigmoid Analytics enabled with config",E),R.originEnableAnalytics(e)},R.buildUtmTagData=function(){var o={},r=!1;return _.forEach(function(e){var t,a,n=(t=e,a={},window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(e,t,n){a[t]=void 0!==n?n:""}),a[t]?a[t]:"");""!==n&&(r=!0),o[e]=n}),_.forEach(function(e){var t;r?(f.setDataInLocalStorage(k(e),o[e]),B()):(t=f.getDataFromLocalStorage(j()),36e5<Date.now()-t||(o[e]=f.getDataFromLocalStorage(k(e))?f.getDataFromLocalStorage(k(e)):"",B()))}),o},s.default.registerAnalyticsAdapter({adapter:R,code:"sigmoid"}),t.default=R}},[820]);