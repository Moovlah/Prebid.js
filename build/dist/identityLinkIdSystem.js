pbjsChunk([256],{505:function(e,t,n){e.exports=n(506)},506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"storage",function(){return c}),n.d(t,"identityLinkSubmodule",function(){return s});var d=n(0),o=n(4),i=n(11),r=n(7),c=Object(r.b)(),s={name:"identityLink",gvlid:97,decode:function(e){return{idl_env:e}},getId:function(e,t){var n=e&&e.params||{};if(n&&"string"==typeof n.pid){var i=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,r=i?t.consentString:"",o=2===d.deepAccess(t,"vendorData.tcfPolicyVersion");if(!i||r&&""!==r){var c="https://api.rlcdn.com/api/identity/envelope?pid=".concat(n.pid).concat(i?(o?"&ct=4&cv=":"&ct=1&cv=")+r:"");return{callback:function(t){window.ats?(d.logInfo("identityLink: ATS exists!"),window.ats.retrieveEnvelope(function(e){e?(d.logInfo("identityLink: An envelope can be retrieved from ATS!"),l(!0),t(JSON.parse(e).envelope)):a(c,t,n)})):a(c,t,n)}}}d.logInfo("identityLink: Consent string is required to call envelope API.")}else d.logError("identityLink: requires partner id to be defined")}};function a(e,n,t){var i,r={success:function(e){var t;if(e)try{t=JSON.parse(e)}catch(e){d.logInfo(e)}n(t&&t.envelope?t.envelope:"")},error:function(e){d.logInfo("identityLink: identityLink: ID fetch encountered an error",e),n()}};t.use3P&&!c.getCookie("_lr_retry_request")&&((i=new Date).setTime(i.getTime()+36e5),c.setCookie("_lr_retry_request","true",i.toUTCString()),d.logInfo("identityLink: A 3P retrieval is attempted!"),l(!1),Object(o.a)(e,r,void 0,{method:"GET",withCredentials:!0}))}function l(e){var t=new Date;t.setTime(t.getTime()+2592e6),c.setCookie("_lr_env_src_ats",e,t.toUTCString())}Object(i.e)("userId",s)}},[505]);