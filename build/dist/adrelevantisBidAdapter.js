pbjsChunk([369],{244:function(e,r,a){e.exports=a(245)},245:function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),a.d(r,"spec",function(){return c});var l=a(12),m=a(0),y=a(3),t=a(1),f=a(2),n=a(10),v=a.n(n),s=a(13),g=a.n(s),b=a(25);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e}).apply(this,arguments)}function _(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return o(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,t=new Array(r);a<r;a++)t[a]=e[a];return t}var k="https://ssp.adrelevantis.com/prebid",d=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],I=["age","externalUid","segments","gender","dnt","language"],w=["geo","device_id"],p={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},c={code:"adrelevantis",aliases:["adr","adsmart","compariola"],supportedMediaTypes:[f.b,f.d,f.c],isBidRequestValid:function(e){return!!e.params.placementId},buildRequests:function(e,r){var a,t=e.map(T),n=v()(e,S);!0===y.b.getConfig("coppa")&&(a={coppa:!0}),n&&(a={},Object.keys(n.params.user).filter(function(e){return g()(I,e)}).forEach(function(e){return a[e]=n.params.user[e]}));var s,i=v()(e,P);i&&i.params&&i.params.app&&(s={},Object.keys(i.params.app).filter(function(e){return g()(w,e)}).forEach(function(e){return s[e]=i.params.app[e]}));var o,d=v()(e,O);d&&d.params&&i.params.app&&i.params.app.id&&(o={appid:d.params.app.id});var p,c={tags:_(t),user:a,sdk:{source:"pbjs",version:"4.35.0-pre"}};i&&(c.device=s),d&&(c.app=o),r&&r.gdprConsent&&(c.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies}),r&&r.refererInfo&&(p={rd_ref:encodeURIComponent(r.refererInfo.referer),rd_top:r.refererInfo.reachedTop,rd_ifs:r.refererInfo.numIframes,rd_stk:r.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},c.referrer_detection=p);var u,l=y.b.getLegacyFpd(y.b.getConfig("ortb2"));return l&&l.context&&(u={keywords:l.context.keywords||"",category:m.deepAccess(l,"context.data.category")||""},c.fpd=u),function(e,a){var t=[];{var n,r;15<e.tags.length?(n=m.deepClone(e),m.chunk(e.tags,15).forEach(function(e){n.tags=e;var r=JSON.stringify(n);t.push({method:"POST",url:k,data:r,bidderRequest:a})})):(r=JSON.stringify(e),t={method:"POST",url:k,data:r,bidderRequest:a})}return t}(c,r)},interpretResponse:function(e,r){var n=this,s=r.bidderRequest;e=e.body;var i=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var r,a,t=(r=e)&&r.ads&&r.ads.length&&v()(r.ads,function(e){return e.rtb});t&&0!==t.cpm&&g()(n.supportedMediaTypes,t.ad_type)&&((a=function(r,e,a){var t=m.getBidRequest(r.uuid,[a]),n={requestId:r.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:t.adUnitCode,adrelevantis:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};e.advertiser_id&&(n.meta=h({},n.meta,{advertiserId:e.advertiser_id}));if(e.rtb.video){var s,i;switch(h(n,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),m.deepAccess(t,"mediaTypes.video.context")){case b.b:n.adResponse=r,n.adResponse.ad=n.adResponse.ads[0],n.adResponse.ad.video=n.adResponse.ad.rtb.video,n.vastXml=e.rtb.video.content,e.renderer_url&&(s=v()(a.bids,function(e){return e.bidId===r.uuid}),i=m.deepAccess(s,"renderer.options"),n.renderer=function(e,r){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=l.a.install({id:r.renderer_id,url:r.renderer_url,config:a,loaded:!1,adUnitCode:e});try{t.setRender(C)}catch(e){m.logWarn("Prebid Error calling setRender on renderer",e)}return t.setEventHandlers({impression:function(){return m.logMessage("AdRelevantis outstream video impression event")},loaded:function(){return m.logMessage("AdRelevantis outstream video loaded event")},ended:function(){m.logMessage("AdRelevantis outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),t}(n.adUnitCode,e,i));break;case b.a:n.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}}else if(e.rtb[f.c]){var o=e.rtb[f.c],d=e.viewability.config.replace("src=","data-src="),p=o.javascript_trackers;null==p?p=d:m.isStr(p)?p=[p,d]:p.push(d),n[f.c]={title:o.title,body:o.desc,body2:o.desc2,cta:o.ctatext,rating:o.rating,sponsoredBy:o.sponsored,privacyLink:o.privacy_link,address:o.address,downloads:o.downloads,likes:o.likes,phone:o.phone,price:o.price,salePrice:o.saleprice,clickUrl:o.link.url,displayUrl:o.displayurl,clickTrackers:o.link.click_trackers,impressionTrackers:o.impression_trackers,javascriptTrackers:p},o.main_img&&(n.native.image={url:o.main_img.url,height:o.main_img.height,width:o.main_img.width}),o.icon&&(n.native.icon={url:o.icon.url,height:o.icon.height,width:o.icon.width})}else{h(n,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{var c=e.rtb.trackers[0].impression_urls[0],u=m.createTrackPixelHtml(c);n.ad+=u}catch(e){m.logError("Error appending tracking pixel",e)}}return n}(e,t,s)).mediaType=t.ad_type===f.d?f.d:f.b,i.push(a))}),i;var a="in response for ".concat(s.bidderCode," adapter");return e&&e.error&&(a+=": ".concat(e.error)),m.logError(a),i},transformBidParams:function(a,e){return a=m.convertTypes({placementId:"number",keywords:m.transformBidderParamKeywords},a),e&&(a.use_pmt_rule="boolean"==typeof a.usePaymentRule&&a.usePaymentRule,a.usePaymentRule&&delete a.usePaymentRule,u(a.keywords)&&a.keywords.forEach(R),Object.keys(a).forEach(function(e){var r=m.convertCamelToUnderscore(e);r!==e&&(a[r]=a[e],delete a[e])})),a}};function u(e){return m.isArray(e)&&0<e.length}function R(e){u(e.value)&&""===e.value[0]&&delete e.value}function C(e){var r,a;r=e.adUnitCode,(a=document.getElementById(r).querySelectorAll("div[id^='google_ads']"))[0]&&a[0].style.setProperty("display","none"),e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,r,a){e.renderer.handleVideoEvent({id:r,eventName:a})}.bind(null,e))})}function T(r){var e,a,n,s,t={};t.sizes=A(r.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=r.bidId,r.params.placementId&&(t.id=parseInt(r.params.placementId,10)),r.params.cpm&&(t.cpm=r.params.cpm),t.allow_smaller_sizes=r.params.allowSmallerSizes||!1,t.use_pmt_rule=r.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0,r.params.reserve&&(t.reserve=r.params.reserve),r.params.position&&(t.position={above:1,below:2}[r.params.position]||0),r.params.trafficSourceCode&&(t.traffic_source_code=r.params.trafficSourceCode),r.params.privateSizes&&(t.private_sizes=A(r.params.privateSizes)),r.params.supplyType&&(t.supply_type=r.params.supplyType),r.params.pubClick&&(t.pubclick=r.params.pubClick),r.params.extInvCode&&(t.ext_inv_code=r.params.extInvCode),r.params.externalImpId&&(t.external_imp_id=r.params.externalImpId),m.isEmpty(r.params.keywords)||(0<(e=m.transformBidderParamKeywords(r.params.keywords)).length&&e.forEach(R),t.keywords=e),r.params.category&&(t.category=r.params.category),r.mediaType!==f.c&&!m.deepAccess(r,"mediaTypes.".concat(f.c))||(t.ad_types.push(f.c),0===t.sizes.length&&(t.sizes=A([1,1])),r.nativeParams&&(n=r.nativeParams,s={},Object.keys(n).forEach(function(e){var r,a=p[e]&&p[e].serverName||p[e]||e,t=p[e]&&p[e].requiredParams;s[a]=h({},t,n[e]),a!==p.image.serverName&&a!==p.icon.serverName||!s[a].sizes||(r=s[a].sizes,(m.isArrayOfNums(r)||m.isArray(r)&&0<r.length&&r.every(function(e){return m.isArrayOfNums(e)}))&&(s[a].sizes=A(s[a].sizes))),a===p.privacyLink&&(s.privacy_supported=!0)}),a=s,t[f.c]={layouts:[a]}));var i=m.deepAccess(r,"mediaTypes.".concat(f.d)),o=m.deepAccess(r,"mediaTypes.video.context");return t.hb_source=1,r.mediaType!==f.d&&!i||t.ad_types.push(f.d),(r.mediaType===f.d||i&&"outstream"!==o)&&(t.require_asset_url=!0),r.params.video&&(t.video={},Object.keys(r.params.video).filter(function(e){return g()(d,e)}).forEach(function(e){return t.video[e]=r.params.video[e]})),r.renderer&&(t.video=h({},t.video,{custom_renderer_present:!0})),(m.isEmpty(r.mediaType)&&m.isEmpty(r.mediaTypes)||r.mediaType===f.b||r.mediaTypes&&r.mediaTypes[f.b])&&t.ad_types.push(f.b),t}function A(e){var r=[],a={};if(m.isArray(e)&&2===e.length&&!m.isArray(e[0]))a.width=parseInt(e[0],10),a.height=parseInt(e[1],10),r.push(a);else if("object"===i(e))for(var t=0;t<e.length;t++){var n=e[t];(a={}).width=parseInt(n[0],10),a.height=parseInt(n[1],10),r.push(a)}return r}function S(e){return!!e.params.user}function P(e){if(e.params)return!!e.params.app}function O(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}Object(t.registerBidder)(c)}},[244]);