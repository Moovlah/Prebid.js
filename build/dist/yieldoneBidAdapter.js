pbjsChunk([65],{974:function(e,n,t){e.exports=t(975)},975:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"spec",function(){return r});var f=t(0),g=t(3),i=t(1),b=t(12),h=t(2),r={code:"yieldone",aliases:["y1"],supportedMediaTypes:[h.b,h.d],isBidRequestValid:function(e){return!!e.params.placementId},buildRequests:function(e,a){return e.map(function(e){var n,t,i,r={v:"hb1",p:e.params.placementId,cb:Math.floor(99999999999*Math.random()),r:a.refererInfo.referer,uid:e.bidId,tid:e.transactionId,uc:e.adUnitCode,tmax:g.b.getConfig("bidderTimeout"),t:"i"},d=f.deepAccess(e,"mediaTypes.video");return f.isEmpty(e.mediaType)&&f.isEmpty(e.mediaTypes)||e.mediaType===h.b||e.mediaTypes&&e.mediaTypes[h.b]?(n=f.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes,r.sz=f.parseSizesInput(n).join(",")):e.mediaType!==h.d&&!d||(t=f.deepAccess(e,"mediaTypes.video.playerSize")||e.sizes,i=f.parseSizesInput(t)[0],r.w=i.split("x")[0],r.h=i.split("x")[1]),{method:"GET",url:"https://y.one.impact-ad.jp/h_bid",data:r}})},interpretResponse:function(e,n){var t,i,r,d,a,c,o,s=[],p=e.body,l=p.crid||0,u=p.width||0,m=p.height||0,w=1e3*p.cpm||0;return 0!==u&&0!==m&&0!==w&&0!==l&&(t=p.dealId||"",i=p.renderid||"",r=p.currency||"JPY",d=void 0===p.netRevenue||p.netRevenue,a=n.data.r||"",c={requestId:p.uid,cpm:w,width:p.width,height:p.height,creativeId:l,dealId:t,currency:r,netRevenue:d,ttl:g.b.getConfig("_bidderTimeout"),referrer:a},p.adTag&&"ViewableRendering"===i?(c.mediaType=h.b,o='\n        <script src="'.concat("https://img.ak.impact-ad.jp/ic/pone/ivt/firstview/js/prebid-adformat-config.js",'"><\/script>\n        <script>\n        let width =').concat(c.width,";\n        let height =").concat(c.height,";\n        let adTag = `").concat(p.adTag.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/'/g,"\\'").replace(/"/g,'\\"'),'`;\n        let targetId ="').concat(n.data.uc,'";\n        window.YONEPBViewable = {};\n        window.YONEPBViewable.executed = false;\n        const viewablePercentage = window.pb_conf.viewablePercentage;\n        const viewableRange = height * 0.01 * viewablePercentage;\n        const iframe = document.createElement(\'iframe\');\n        iframe.setAttribute("style", "border: 0; margin: 0 auto; left: 0; top: 0; width:" + width + "px; height:" + height + "px;");\n        iframe.frameBorder = 0; iframe.scrolling = \'no\';\n        const inDap = document.createElement(\'script\');\n        inDap.innerHTML = "inDapIF = true;";\n        iframe.appendChild(inDap);\n        window.frameElement.parentElement.appendChild(iframe);\n        const doc = iframe.contentWindow ? iframe.contentWindow.document : iframe.contentDocument;\n        if(!window.parent.$sf){\n          let target = window.top.document.getElementById(targetId);\n          window.top.addEventListener(\'scroll\', () => {\n              const targetRect = target.getBoundingClientRect();\n              if (!window.YONEPBViewable.executed && window.top.innerHeight - targetRect.top > viewableRange) {\n                  window.YONEPBViewable.executed = true;\n                  doc.open(); doc.write(adTag); doc.close();\n                  window.frameElement.style.display = "none";\n              }\n            }, false);\n        }else{\n          let disp = function(){\n            if(!window.YONEPBViewable.executed && window.parent.$sf.ext.inViewPercentage() > viewablePercentage){\n                window.YONEPBViewable.executed = true;\n                doc.open(); doc.write(adTag); doc.close();\n                window.frameElement.style.display = "none";\n            }\n            let id = setTimeout(disp, 100);\n            if(window.YONEPBViewable.executed){clearTimeout(id);}\n          };\n          disp();\n        }\n        <\/script>\n        '),c.ad=o):p.adTag?(c.mediaType=h.b,c.ad=p.adTag):p.adm&&(c.mediaType=h.d,c.vastXml=p.adm,c.renderer=("cmer"===i?function(e){var n=b.a.install({id:e.uid,url:"https://an.cmertv.com/hb/renderer/cmertv-video-yone-prebid.min.js",loaded:!1});try{n.setRender(v)}catch(e){f.logWarn("Prebid Error calling setRender on newRenderer",e)}return n}:function(e){var n=b.a.install({id:e.uid,url:"https://img.ak.impact-ad.jp/ic/pone/ivt/firstview/js/dac-video-prebid.min.js",loaded:!1});try{n.setRender(y)}catch(e){f.logWarn("Prebid Error calling setRender on newRenderer",e)}return n})(p)),s.push(c)),s},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://y.one.impact-ad.jp/push_sync"}]}};function y(e){e.renderer.push(function(){window.DACIVTPREBID.renderPrebid(e)})}function v(e){e.renderer.push(function(){window.CMERYONEPREBID.renderPrebid(e)})}Object(i.registerBidder)(r)}},[974]);