pbjsChunk([351],{288:function(e,t,n){e.exports=n(289)},289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return A});var r=n(1),c=n(3),d=n(0),i=n(7);function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function s(i){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach(function(e){var t,n,r;t=i,r=a[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})}return i}var a,l,p,f,h,u,b,v,g={DSU_KEY:"apr_dsu",BIDDER_CODE:"apstream",GVLID:394},m=Object(i.b)(g.GVLID,g.BIDDER_CODE),D=(a="apr_dsu",p="YicAu6ZpNG",f={USERREPORT:l="1"},h=function(e,t){var n=E(e,t);return("0000000"+n.h.toString(16)).substr(-8)+("0000000"+n.l.toString(16)).substr(-8)}.bind(null,[2251905623,1801168887,1769155591,711914637]),u=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),b=null,v={},{readOrCreateDsu:function(){var e;try{e=m.getDataFromLocalStorage(a)}catch(e){return null}e=e||S();try{m.setDataInLocalStorage(a,e)}catch(e){return null}return e}});function O(e,t){var n=e.l+t.l,r={h:e.h+t.h+(n/2>>>31)>>>0,l:n>>>0};e.h=r.h,e.l=r.l}function w(e,t){e.h^=t.h,e.h>>>=0,e.l^=t.l,e.l>>>=0}function y(e,t){var n={h:e.h<<t|e.l>>>32-t,l:e.l<<t|e.h>>>32-t};e.h=n.h,e.l=n.l}function I(e){var t=e.l;e.l=e.h,e.h=t}function j(e,t,n,r){O(e,t),O(n,r),y(t,13),y(r,16),w(t,e),w(r,n),I(e),O(n,t),O(e,r),y(t,17),y(r,21),w(t,n),w(r,e),I(n)}function C(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function E(e,t){"string"==typeof t&&(t=function(e){if("function"==typeof TextEncoder)return(new TextEncoder).encode(e);e=unescape(encodeURIComponent(e));for(var t=new Uint8Array(e.length),n=0,r=e.length;n<r;n++)t[n]=e.charCodeAt(n);return t}(t));var n={h:e[1]>>>0,l:e[0]>>>0},r={h:e[3]>>>0,l:e[2]>>>0},i={h:n.h,l:n.l},a=n,o={h:r.h,l:r.l},c=r,s=t.length,u=s-7,d=new Uint8Array(new ArrayBuffer(8));w(i,{h:1936682341,l:1886610805}),w(o,{h:1685025377,l:1852075885}),w(a,{h:1819895653,l:1852142177}),w(c,{h:1952801890,l:2037671283});for(var l=0;l<u;){var p={h:C(t,l+4),l:C(t,l)};w(c,p),j(i,o,a,c),j(i,o,a,c),w(i,p),l+=8}d[7]=s;for(var f=0;l<s;)d[f++]=t[l++];for(;f<7;)d[f++]=0;var h={h:d[7]<<24|d[6]<<16|d[5]<<8|d[4],l:d[3]<<24|d[2]<<16|d[1]<<8|d[0]};w(c,h),j(i,o,a,c),j(i,o,a,c),w(i,h),w(a,{h:0,l:255}),j(i,o,a,c),j(i,o,a,c),j(i,o,a,c),j(i,o,a,c);var b=i;return w(b,o),w(b,a),w(b,c),b}function R(){var e=(e=b||window.location.toString()).replace(/\.demo\.audienceproject\.com\//,"/");if(v.url===e)return v.parsed;var t,n,r,i,a=(n=0!==(t=e).indexOf("/")&&-1!==t.indexOf("/")&&(-1===t.indexOf(":")||t.indexOf(":")>t.indexOf("/")),r=u.exec(n?"noscheme://"+t:t),(i={scheme:!n&&r[2]||"",host:r[4]||"",hostname:r[4]?r[4].split(":")[0]:"",pathname:r[5]||"",search:r[7]||"",hash:r[9]||"",toString:function(){return t}}).origin=i.scheme+"://"+i.host,i);return v.url=e,v.parsed=a}function S(){var e,t=d.generateUUID(),n=R(),r=h(t+n.toString()),i=r.substr(0,4),a=r.substr(4),t=t.substr(0,19)+i+"-"+a,o=(e=(new Date).getTime()-new Date(2019,0,1).getTime(),Math.floor(e/864e5)),c=h(n.origin),s=[f.USERREPORT,o,c].join("."),u=h(t+s+p);return[l,u,t,s].join(".")}function x(e){return e&&!1!==e.gdprApplies?e.consentString:null}function P(e){return d.deepAccess(e,"gdprConsent")?function(e){var t=x(e);if(!t)return null;var n="static"!=c.b.getConfig("consentManagement.cmpApi"),r=!!(e.vendorData.vendorConsents||(e.vendorData.vendor||{}).consents||{})[g.GVLID.toString(10)];return n&&r?t:null}(e.gdprConsent):"disabled"}function U(e){return e.map(function(e){var t=e.bidId,n="";switch(Object.keys(e.mediaTypes)[0]){case"video":n="v";break;case"native":n="n";break;case"audio":n="a";break;default:n="b"}var r,i=",c=".concat(e.adUnitCode);return e.params.code&&(i=",c=".concat(encodeURIComponent(e.params.code))),e.params.adunitId&&(i=",u=".concat(encodeURIComponent(e.params.adunitId))),"".concat(t,":t=").concat(n,",s=").concat((r=e.sizes,!1===Array.isArray(r[0])&&(r=[r]),r.map(function(e){return e[0]+"x"+e[1]}).join("_"))).concat(i)}).join(";")}function T(e){var a=[];return e.forEach(function(e){var t,n,r=(n=(t=e).params.publisherId||c.b.getConfig("apstream.publisherId"),t.params.test||c.b.getConfig("apstream.test")?"https://mock-bapi.userreport.com/v2/".concat(n,"/bid"):t.params.endpoint?"".concat(t.params.endpoint).concat(n,"/bid"):"https://bapi.userreport.com/v2/".concat(n,"/bid")),i=a.filter(function(e){return-1<e.endpoint.indexOf(r)})[0];i?i.bids.push(e):a.push({endpoint:r,bids:[e]})}),a}var A={code:g.BIDDER_CODE,gvlid:g.GVLID,isBidRequestValid:function(e){var t=!(!c.b.getConfig("apstream.publisherId")&&!e.params.publisherId),n=1===Object.keys(e.mediaTypes).length;return t&&n},buildRequests:function(e,t){var n={med:encodeURIComponent(window.location.href),auid:t.auctionId,ref:document.referrer,dnt:d.getDNT()?1:0,sr:"".concat(window.screen.width,"x").concat(window.screen.height,"@").concat(window.devicePixelRatio)},r=x(t.gdprConsent);n.iab_consent=r;var i={withCredentials:!0},a=P(t),o=c.b.getConfig("apstream.noDsu");return n.dsu=!a||o?"":D.readOrCreateDsu(),a&&"disabled"!==a||(i.withCredentials=!1),T(e).map(function(e){return{method:"GET",url:e.endpoint,data:s(s({},n),{},{bids:U(e.bids),rnd:Math.random()}),options:i}})},interpretResponse:function(e){var t=e&&e.body;return t&&t.length?t.map(function(e){return{requestId:e.bidId,cpm:e.bidDetails.cpm,width:e.bidDetails.width,height:e.bidDetails.height,creativeId:e.bidDetails.creativeId,currency:e.bidDetails.currency||"USD",netRevenue:e.bidDetails.netRevenue,dealId:e.bidDetails.dealId,ad:function(e,t,n){if(!t&&!n)return e;var r=e;return t&&t.forEach(function(e){var t=d.createTrackPixelHtml(e);r+=t}),n&&n.forEach(function(e){var t='<script src="'.concat(e,'"><\/script>');r+=t}),r}(e.bidDetails.ad,e.bidDetails.noticeUrls,e.bidDetails.impressionScripts),ttl:e.bidDetails.ttl}}):[]}};Object(r.registerBidder)(A)}},[288]);