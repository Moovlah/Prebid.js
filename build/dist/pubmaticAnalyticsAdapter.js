pbjsChunk([29],{6:function(e,n,t){"use strict";n.a=function(e){var r,o=e.url,n=e.analyticsType,s=e.global,i=e.handler,a=[],d=0,t=!0;n!==O&&!A||function(){if(t){for(var e=0;e<a.length;e++)a[e]();a.push=function(e){e()},t=!1}g.logMessage("event count sent to ".concat(s,": ").concat(d))}();return{track:function(e){var n=e.eventType,t=e.args;this.getAdapterType()===A&&window[s](i,n,t);this.getAdapterType()===O&&function(e){var n=e.eventType,t=e.args,i=e.callback;Object(p.a)(o,i,JSON.stringify({eventType:n,args:t}))}.apply(void 0,arguments)},enqueue:u,enableAnalytics:c,disableAnalytics:function(){g._each(r,function(e,n){f.off(n,e)}),this.enableAnalytics=this._oldEnable?this._oldEnable:c},getAdapterType:function(){return n},getGlobal:function(){return s},getHandler:function(){return i},getUrl:function(){return o}};function u(e){var n=e.eventType,t=e.args,i=this;s&&window[s]&&n&&t?this.track({eventType:n,args:t}):a.push(function(){d++,i.track({eventType:n,args:t})})}function c(n){var e,t=this,i=this;"object"!==l(n)||"object"!==l(n.options)||(void 0===n.options.sampling||Math.random()<parseFloat(n.options.sampling))?(f.getEvents().forEach(function(e){var n,t;e&&(n=e.eventType,t=e.args,n!==I&&u.call(i,{eventType:n,args:t}))}),b(e={},v,function(e){return t.enqueue({eventType:v,args:e})}),b(e,T,function(e){return t.enqueue({eventType:T,args:e})}),b(e,h,function(e){return t.enqueue({eventType:h,args:e})}),b(e,C,function(e){return t.enqueue({eventType:C,args:e})}),b(e,I,function(e){return t.enqueue({eventType:I,args:e})}),b(e,E,function(e){return t.enqueue({eventType:E,args:e})}),b(e,w,function(e){return t.enqueue({eventType:w,args:e})}),b(e,U,function(e){return t.enqueue({eventType:U,args:e})}),b(e,S,function(e){return t.enqueue({eventType:S,args:e})}),b(e,m,function(e){return t.enqueue({eventType:m,args:e})}),b(e,D,function(e){return t.enqueue({eventType:D,args:e})}),b(e,R,function(e){return t.enqueue({eventType:R,args:e})}),b(e,N,function(e){return t.enqueue({eventType:N,args:e})}),b(e,y,function(e){e.config="object"===l(n)&&n.options||{},t.enqueue({eventType:y,args:e})}),r=e,g._each(r,function(e,n){f.on(n,e)})):g.logMessage('Analytics adapter for "'.concat(s,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return g.logMessage('Analytics adapter for "'.concat(s,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var i=t(5),r=t.n(i),p=t(4);function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=t(9),g=t(0),o=r.a.EVENTS,y=o.AUCTION_INIT,m=o.AUCTION_END,v=o.REQUEST_BIDS,T=o.BID_REQUESTED,I=o.BID_TIMEOUT,h=o.BID_RESPONSE,C=o.NO_BID,E=o.BID_WON,w=o.BID_ADJUSTMENT,U=o.BIDDER_DONE,S=o.SET_TARGETING,D=o.AD_RENDER_FAILED,R=o.AUCTION_DEBUG,N=o.ADD_AD_UNITS,O="endpoint",A="bundle"},722:function(e,n,t){e.exports=t(723)},723:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(6),r=t(8),o=t(5),s=t.n(o),c=t(4),p=t(3),b=t(0),a=t(17);function d(){return(d=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l="https://t.pubmatic.com/",f=l+"wl?",g=l+"wt?",y="PubMatic-Analytics: ",m={auctions:{}},v="success",T="no-bid",I="error",h="request-error",C="timeout-error",E="",w="banner",U="USD",S=2,D=window.encodeURIComponent,R=0,N=0,O=0,A=[];function _(e){return{width:e.w||e[0],height:e.h||e[1]}}function k(e){return{banner:1,native:1,video:1}.hasOwnProperty(e)}function q(i){return b.pick(i,["bidder",function(e){return e.toLowerCase()},"bidId","status",function(){return T},"finalSource as source","params","adUnit",function(){return b.pick(i,["adUnitCode","transactionId","sizes as dimensions",function(e){return e.map(_)},"mediaTypes",function(e){return n=e,(t=i).mediaType&&k(t.mediaType)?[t.mediaType]:Array.isArray(n)?n.filter(k):"object"===u(n)?(t.sizes||(t.dimensions=[],b._each(n,function(e){return t.dimensions=t.dimensions.concat(e.sizes.map(_))})),Object.keys(n).filter(k)):[w];var n,t}])}])}function j(e,n){return e.params.regexPattern?e.params.regexPattern:e.bidResponse&&e.bidResponse.regexPattern?e.bidResponse.regexPattern:e.params.kgpv?e.params.kgpv:n}function P(e,a){var n,t,i,r=e.auctionId,o=p.b.getConfig("pageUrl")||m.auctions[r].referer||"",d=m.auctions[r],s={s:[]},u=f;d&&(d.sent||(u+="pubid="+R,s.pubid=""+R,s.iid=""+r,s.to=""+d.timeout,s.purl=o,s.orig=(n=o,(t=window.document.createElement("a")).href=n,t.hostname),s.tst=Math.round((new window.Date).getTime()/1e3),s.pid=""+N,s.pdvid=""+O,s.dvc={plt:function(){var e=3;try{var n,t=navigator.userAgent;t&&b.isStr(t)&&""!=t.trim()&&(t=t.toLowerCase().trim(),n=new RegExp("(mobi|tablet|ios).*"),e=t.match(n)?2:1)}catch(e){}return e}()},s.tgid=(i=parseInt(p.b.getConfig("testGroupId")||0))<=15&&0<=i?i:0,s.s=Object.keys(d.adUnitCodes).reduce(function(e,n){var i,r,o,t=d.adUnitCodes[n],s={sn:n,sz:t.dimensions.map(function(e){return e[0]+"x"+e[1]}),ps:(i=t,r=n,o=(o=a.filter(function(e){return e.adUnitCode===n}))&&0<o.length?o[0]:null,Object.keys(i.bids).reduce(function(e,n){var t=i.bids[n];return e.push({pn:t.bidder,bidid:t.bidId,db:t.bidResponse?0:1,kgpv:j(t,r),kgpsv:t.params.kgpv?t.params.kgpv:r,psz:t.bidResponse?t.bidResponse.dimensions.width+"x"+t.bidResponse.dimensions.height:"0x0",eg:t.bidResponse?t.bidResponse.bidGrossCpmUSD:0,en:t.bidResponse?t.bidResponse.bidPriceUSD:0,di:t.bidResponse&&t.bidResponse.dealId||E,dc:t.bidResponse&&t.bidResponse.dealChannel||E,l1:t.bidResponse?t.clientLatencyTimeMs:0,l2:0,ss:-1<A.indexOf(t.bidder)?1:0,t:t.status==I&&t.error.code==C?1:0,wb:o&&o.requestId===t.bidId?1:0,mi:t.bidResponse&&t.bidResponse.mi||void 0,af:t.bidResponse&&t.bidResponse.mediaType||void 0,ocpm:t.bidResponse&&t.bidResponse.originalCpm||0,ocry:t.bidResponse&&t.bidResponse.originalCurrency||U,piid:t.bidResponse&&t.bidResponse.partnerImpId||E}),e},[]))};return e.push(s),e},[]),d.sent=!0,Object(c.a)(u,null,"json="+D(JSON.stringify(s)),{contentType:"application/x-www-form-urlencoded",withCredentials:!0,method:"POST"})))}function x(e){var n,t,i=m.auctions[e.auctionId].adUnitCodes[e.adUnitCode].bids[e.requestId];i?(i.source=(void 0===(n=i.source||e.source)?n="client":"s2s"===n&&(n="server"),n.toLowerCase()),function(e,n){switch(n.getStatusCode()){case s.a.STATUS.GOOD:e.status=v,delete e.error;break;case s.a.STATUS.NO_BID:e.status=T,delete e.error;break;default:e.status=I,e.error={code:h}}}(i,e),i.clientLatencyTimeMs=Date.now()-m.auctions[e.auctionId].timestamp,i.bidResponse=(t=e,b.pick(t,["bidPriceUSD",function(){return"string"==typeof t.currency&&t.currency.toUpperCase()===U?window.parseFloat(Number(t.cpm).toFixed(S)):"function"==typeof t.getCpmInNewCurrency?window.parseFloat(Number(t.getCpmInNewCurrency(U)).toFixed(S)):(b.logWarn(y+"Could not determine the Net cpm in USD for the bid thus using bid.cpm",t),t.cpm)},"bidGrossCpmUSD",function(){return"string"==typeof t.originalCurrency&&t.originalCurrency.toUpperCase()===U?window.parseFloat(Number(t.originalCpm).toFixed(S)):"function"==typeof Object(a.a)().convertCurrency?window.parseFloat(Number(Object(a.a)().convertCurrency(t.originalCpm,t.originalCurrency,U)).toFixed(S)):(b.logWarn(y+"Could not determine the Gross cpm in USD for the bid, thus using bid.originalCpm",t),t.originalCpm)},"dealId","currency","cpm",function(){return window.parseFloat(Number(t.cpm).toFixed(S))},"originalCpm",function(){return window.parseFloat(Number(t.originalCpm).toFixed(S))},"originalCurrency","dealChannel","meta","status","error","bidId","mediaType","params","mi","regexPattern",function(){return t.regexPattern||void 0},"partnerImpId","dimensions",function(){return b.pick(t,["width","height"])}]))):b.logError(y+"Could not find associated bid request for bid response with requestId: ",e.requestId)}function M(e){var n,t,i,r,o;m.auctions[e.auctionId].adUnitCodes[e.adUnitCode].bidWon=e.requestId,n=e.auctionId,t=e.adUnitCode,i=m.auctions[n].adUnitCodes[t].bidWon,r=m.auctions[n].adUnitCodes[t].bids[i],o=g,o+="pubid="+R,o+="&purl="+D(p.b.getConfig("pageUrl")||m.auctions[n].referer||""),o+="&tst="+Math.round((new window.Date).getTime()/1e3),o+="&iid="+D(n),o+="&bidid="+D(i),o+="&pid="+D(N),o+="&pdvid="+D(O),o+="&slot="+D(t),o+="&pn="+D(r.bidder),o+="&en="+D(r.bidResponse.bidPriceUSD),o+="&eg="+D(r.bidResponse.bidGrossCpmUSD),o+="&kgpv="+D(j(r,t)),o+="&piid="+D(r.bidResponse.partnerImpId||E),Object(c.a)(o,null,null,{contentType:"application/x-www-form-urlencoded",withCredentials:!0,method:"GET"})}var B=Object(i.a)({analyticsType:"endpoint"}),F=d({},B,{enableAnalytics:function(e){var n=0<arguments.length&&void 0!==e?e:{},t=!1;"object"===u(n.options)?(n.options.publisherId&&(R=Number(n.options.publisherId)),N=Number(n.options.profileId)||0,O=Number(n.options.profileVersionId)||0):(b.logError(y+"Config not found."),t=!0),R||(b.logError(y+"Missing publisherId(Number)."),t=!0),t?b.logError(y+"Not collecting data due to error(s)."):B.enableAnalytics.call(this,n)},disableAnalytics:function(){O=N=R=0,A=[],B.disableAnalytics.apply(this,arguments)},track:function(e){var n,t,i=e.eventType,r=e.args;switch(i){case s.a.EVENTS.AUCTION_INIT:!function(e){var n;n=p.b.getConfig("s2sConfig"),A=n&&b.isArray(n.bidders)?n.bidders:[];var t=b.pick(e,["timestamp","timeout","bidderDonePendingCount",function(){return e.bidderRequests.length}]);t.adUnitCodes={},t.referer=e.bidderRequests[0].refererInfo.referer,m.auctions[e.auctionId]=t}(r);break;case s.a.EVENTS.BID_REQUESTED:(t=r).bids.forEach(function(e){m.auctions[t.auctionId].adUnitCodes.hasOwnProperty(e.adUnitCode)||(m.auctions[t.auctionId].adUnitCodes[e.adUnitCode]={bids:{},bidWon:!1,dimensions:e.sizes}),m.auctions[t.auctionId].adUnitCodes[e.adUnitCode].bids[e.bidId]=q(e)});break;case s.a.EVENTS.BID_RESPONSE:x(r);break;case s.a.EVENTS.BIDDER_DONE:n=r,m.auctions[n.auctionId].bidderDonePendingCount--,n.bids.forEach(function(e){var n=m.auctions[e.auctionId].adUnitCodes[e.adUnitCode].bids[e.bidId||e.requestId];void 0!==e.serverResponseTimeMs&&(n.serverLatencyTimeMs=e.serverResponseTimeMs),n.status||(n.status=T),n.clientLatencyTimeMs||(n.clientLatencyTimeMs=Date.now()-m.auctions[e.auctionId].timestamp)});break;case s.a.EVENTS.BID_WON:M(r);break;case s.a.EVENTS.AUCTION_END:!function(e){var n=this,t=Object(a.a)().getHighestCpmBids()||[];setTimeout(function(){P.call(n,e,t)},0===m.auctions[e.auctionId].bidderDonePendingCount?500:2e3)}(r);break;case s.a.EVENTS.BID_TIMEOUT:r.forEach(function(e){var n=m.auctions[e.auctionId].adUnitCodes[e.adUnitCode].bids[e.bidId||e.requestId];n?(n.status=I,n.error={code:C}):b.logWarn(y+"bid not found")})}}});r.default.registerAnalyticsAdapter({adapter:F,code:"pubmatic"}),n.default=F}},[722]);