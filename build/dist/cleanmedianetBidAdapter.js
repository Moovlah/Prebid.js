pbjsChunk([323],{348:function(e,r,t){e.exports=t(349)},349:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"helper",function(){return A}),t.d(r,"spec",function(){return o});var v=t(0),n=t(1),h=t(3),a=t(12),b=t(2),i=t(13),x=t.n(i);function w(){return(w=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var A={getTopWindowDomain:function(e){var r=e.indexOf("://")+"://".length;return e.substring(r,e.indexOf("/",r)<0?e.length:e.indexOf("/",r))},startsWith:function(e,r){return e.substr(0,r.length)===r},getMediaType:function(e){return e.ext?e.ext.media_type?e.ext.media_type.toLowerCase():e.ext.vast_url?b.d:b.b:b.b}},o={code:"cleanmedianet",aliases:[],supportedMediaTypes:[b.b,b.d],isBidRequestValid:function(e){return!!e.params.supplyPartnerId&&"string"==typeof e.params.supplyPartnerId&&(void 0===e.params.bidfloor||"number"==typeof e.params.bidfloor)&&(void 0===e.params.adpos||"number"==typeof e.params.adpos)&&(void 0===e.params.protocols||Array.isArray(e.params.protocols))&&(void 0===e.params.instl||0===e.params.instl||1===e.params.instl)},buildRequests:function(e,m){var y=this;return e.map(function(e){var r=e.adUnitCode,t=e.auctionId,n=e.mediaTypes,i=e.params,o=e.sizes,a=e.transactionId,d="".concat("https://bidder.cleanmediaads.com","/r/").concat(i.supplyPartnerId,"/bidr?rformat=open_rtb&reqformat=rtb_json&bidder=prebid")+(i.query?"&"+i.query:""),s=h.b.getConfig("pageUrl")||m.refererInfo.referer,p={id:t,site:{domain:A.getTopWindowDomain(s),page:s,ref:m.refererInfo.referer},device:{ua:navigator.userAgent,dnt:v.getDNT()?1:0,h:screen.height,w:screen.width,language:navigator.language},imp:[],ext:{},user:{ext:{}}};m.gdprConsent&&m.gdprConsent.consentString&&m.gdprConsent.gdprApplies&&(p.ext.gdpr_consent={consent_string:m.gdprConsent.consentString,consent_required:m.gdprConsent.gdprApplies},p.regs={ext:{gdpr:!0===m.gdprConsent.gdprApplies?1:0}},p.user={ext:{consent:m.gdprConsent.consentString}});var u,c,l,f={id:a,instl:1===i.instl?1:0,tagid:r,bidfloor:i.bidfloor||0,bidfloorcur:"USD",secure:1},g=i.favoredMediaType&&x()(y.supportedMediaTypes,i.favoredMediaType);if(n&&!n.banner||g&&i.favoredMediaType!==b.b||(u=w({},f,{banner:{w:o.length?o[0][0]:300,h:o.length?o[0][1]:250,pos:i.pos||0,topframe:v.inIframe()?0:1}}),p.imp.push(u)),n&&n.video&&(g&&i.favoredMediaType!==b.d||(c={video:{protocols:i.protocols||[1,2,3,4,5,6],pos:i.pos||0,ext:{context:n.video.context}}},l=n.video.playerSize||o,v.isArray(l[0])?(c.video.w=l[0][0],c.video.h=l[0][1]):v.isNumber(l[0])?(c.video.w=l[0],c.video.h=l[1]):(c.video.w=300,c.video.h=250),c=w({},f,c),p.imp.push(c))),0!==p.imp.length)return{method:"POST",url:d,data:p,bidRequest:e}})},interpretResponse:function(e,n){var i=e&&e.body;if(!i)return v.logError("empty response"),[];var r=i.seatbid.reduce(function(e,r){return e.concat(r.bid)},[]),o=[];return r.forEach(function(e){var r,t={requestId:n.bidRequest.bidId,cpm:e.price,width:e.w,height:e.h,ttl:360,creativeId:e.crid||e.adid,netRevenue:!0,currency:e.cur||i.cur,mediaType:A.getMediaType(e)};v.deepAccess(n.bidRequest,"mediaTypes."+t.mediaType)&&(t.mediaType===b.b?o.push(w({},t,{ad:e.adm})):t.mediaType===b.d&&(r=v.deepAccess(n.bidRequest,"mediaTypes.video.context"),o.push(w({},t,{vastUrl:e.ext.vast_url,vastXml:e.adm,renderer:"outstream"===r?function(e,r){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=a.a.install({url:e.params&&e.params.rendererUrl||r.ext&&r.ext.renderer_url||"https://s.wlplayer.com/video/latest/renderer.js",config:t,loaded:!1});try{n.setRender(d)}catch(e){v.logWarn("Prebid Error calling setRender on renderer",e)}return n}(n.bidRequest,e):void 0}))))}),o},getUserSyncs:function(e,r,t){var n=[],i=!(!t||"boolean"!=typeof t.gdprApplies)&&t.gdprApplies?"gc="+encodeURIComponent(t.consentString):"gc=missing";return r.forEach(function(e){var r;e.body&&((r=e.body).ext&&Array.isArray(r.ext.utrk)&&r.ext.utrk.forEach(function(e){var r=e.url+(0<e.url.indexOf("?")?"&"+i:"?"+i);return n.push({type:e.type,url:r})}),Array.isArray(r.seatbid)&&r.seatbid.forEach(function(e){Array.isArray(e.bid)&&e.bid.forEach(function(e){e.ext&&Array.isArray(e.ext.utrk)&&e.ext.utrk.forEach(function(e){var r=e.url+(0<e.url.indexOf("?")?"&"+i:"?"+i);return n.push({type:e.type,url:r})})})}))}),n}};function d(r){r.renderer.push(function(){var e=r.adUnitCode+"/"+r.adId;window.GamoshiPlayer.renderAd({id:e,debug:0<=window.location.href.indexOf("pbjsDebug"),placement:document.getElementById(r.adUnitCode),width:r.width,height:r.height,events:{ALL_ADS_COMPLETED:function(){return window.setTimeout(function(){window.GamoshiPlayer.removeAd(e)},300)}},vastUrl:r.vastUrl,vastXml:r.vastXml})})}Object(n.registerBidder)(o)}},[348]);