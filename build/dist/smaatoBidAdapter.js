pbjsChunk([127],{828:function(e,t,n){e.exports=n(829)},829:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",function(){return o});var c=n(0),r=n(1),d=n(3),s=n(2);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n,r,a=e.map(function(e){var t,n=c.deepAccess(e,"mediaTypes.banner"),r=c.deepAccess(e,"mediaTypes.video"),a={id:e.bidId,tagid:c.deepAccess(e,"params.adspaceId")};return n&&(t=c.getAdUnitSizes(e).map(function(e){return{w:e[0],h:e[1]}}),a.banner={w:t[0].w,h:t[0].h,format:t}),r&&(a.video={mimes:r.mimes,minduration:r.minduration,startdelay:r.startdelay,linearity:r.linearity,w:r.playerSize[0][0],h:r.playerSize[0][1],maxduration:r.maxduration,skip:r.skip,protocols:r.protocols,ext:{rewarded:r.ext&&r.ext.rewarded?r.ext.rewarded:0},skipmin:r.skipmin,api:r.api}),a}),i={id:t.auctionId,at:1,imp:a,cur:["USD"],tmax:t.timeout,site:{id:window.location.hostname,publisher:{id:c.deepAccess(e[0],"params.publisherId")},domain:window.location.hostname,page:window.location.href,ref:t.refererInfo.referer},device:{language:navigator&&navigator.language?navigator.language.split("-")[0]:"",ua:navigator.userAgent,dnt:c.getDNT()?1:0,h:screen.height,w:screen.width},regs:{coppa:!0===d.b.getConfig("coppa")?1:0,ext:{}},user:{ext:{}},ext:{client:u}},o=d.b.getConfig("ortb2")||{};p(i.user,o.user),p(i.site,o.site),t.gdprConsent&&!0===t.gdprConsent.gdprApplies&&(c.deepSetValue(i,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0),c.deepSetValue(i,"user.ext.consent",t.gdprConsent.consentString)),void 0!==t.uspConsent&&c.deepSetValue(i,"regs.ext.us_privacy",t.uspConsent),c.deepAccess(e[0],"params.app")&&(n=c.deepAccess(e[0],"params.app.geo"),c.deepSetValue(i,"device.geo",n),r=c.deepAccess(e[0],"params.app.ifa"),c.deepSetValue(i,"device.ifa",r));var s=c.deepAccess(e[0],"userIdAsEids");return s&&s.length&&c.deepSetValue(i,"user.ext.eids",s),c.logInfo("[SMAATO] OpenRTB Request:",i),JSON.stringify(i)}var u="prebid_js_4.35.0-pre_1.1",o={code:"smaato",supportedMediaTypes:[s.b,s.d],isBidRequestValid:function(e){return"object"===a(e.params)&&"string"==typeof e.params.publisherId&&"string"==typeof e.params.adspaceId},buildRequests:function(e,t){return c.logInfo("[SMAATO] Client version:",u),{method:"POST",url:e[0].params.endpoint||"https://prebid.ad.smaato.net/oapi/prebid",data:i(e,t),options:{withCredentials:!0,crossOrigin:!0}}},interpretResponse:function(e){if(c.isEmpty(e.body))return c.logInfo("[SMAATO] Empty response body HTTP 204, no bids"),[];var t=e.headers,r=t.get("X-SMT-ADTYPE"),n=t.get("X-SMT-Expires"),a=300;c.logInfo("[SMAATO] Expires:",n),n&&(a=Math.floor((n-Date.now())/1e3));var i=e.body;c.logInfo("[SMAATO] OpenRTB Response:",i);var o=[];return i.seatbid.forEach(function(n){n.bid.forEach(function(e){var t={requestId:e.impid,cpm:e.price||0,width:e.w,height:e.h,ttl:a,creativeId:e.crid,dealId:e.dealid||null,netRevenue:c.deepAccess(e,"ext.net",!0),currency:i.cur,meta:{advertiserDomains:e.adomain,networkName:e.bidderName,agencyId:n.seat}};switch(r){case"Img":t.ad=m(e.adm),t.meta.mediaType=s.b,o.push(t);break;case"Richmedia":t.ad=l(e.adm),t.meta.mediaType=s.b,o.push(t);break;case"Video":t.vastXml=e.adm,t.meta.mediaType=s.d,o.push(t);break;default:c.logInfo("[SMAATO] Invalid ad type:",r)}})}),c.logInfo("[SMAATO] Prebid bids:",o),o},getUserSyncs:function(){return[]}};Object(r.registerBidder)(o);var m=function(e){var t=JSON.parse(e).image,n="";t.clicktrackers.forEach(function(e){n+="fetch(decodeURIComponent('".concat(encodeURIComponent(e),"'), {cache: 'no-cache'});")});var r='<div style="cursor:pointer" onclick="'.concat(n,";window.open(decodeURIComponent('").concat(encodeURIComponent(t.img.ctaurl),'\'));"><img src="').concat(t.img.url,'" width="').concat(t.img.w,'" height="').concat(t.img.h,'"/>');return t.impressiontrackers.forEach(function(e){r+='<img src="'.concat(e,'" alt="" width="0" height="0"/>')}),r+"</div>"},l=function(e){var t=JSON.parse(e).richmedia,n="";t.clicktrackers.forEach(function(e){n+="fetch(decodeURIComponent('".concat(encodeURIComponent(e),"'), {cache: 'no-cache'});")});var r='<div onclick="'.concat(n,'">').concat(t.mediadata.content);return t.impressiontrackers.forEach(function(e){r+='<img src="'.concat(e,'" alt="" width="0" height="0"/>')}),r+"</div>"}}},[828]);