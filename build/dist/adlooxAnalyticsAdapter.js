pbjsChunk([56],{210:function(t,n,e){t.exports=e(211)},211:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),e.d(n,"COMMAND",function(){return A}),n.command=function(t,n,e){var o=d.getUniqueIdentifierStr();E[o]={cmd:t,data:n,callback:function(){delete E[o],e&&e.apply(null,arguments)}},T.context&&h(o)};var o=e(8),r=e(6),i=e(39),a=e(23),c=e(35),l=e(5),s=(e.n(l),e(10)),u=e.n(s),d=e(0);function p(){return(p=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}).apply(this,arguments)}function f(){}var g="adlooxAnalyticsAdapter",y=2,v=6,b={client:function(t,n){return n.client},clientid:function(t,n){return n.clientid},tagid:function(t,n){return n.tagid},platformid:function(t,n){return n.platformid},targetelt:function(t,n){return n.toselector(t)},creatype:function(t,n){return"video"==t.mediaType?v:y},pbAdSlot:function(n,t){var e=u()(a.a.getAdUnits(),function(t){return n.adUnitCode===t.code});return d.deepAccess(e,"fpd.context.pbAdSlot")||d.getGptSlotInfoForAdUnitCode(n.adUnitCode).gptSlot||n.adUnitCode}},m={id1:function(t){return t.adUnitCode},id2:"%%pbAdSlot%%",id3:function(t){return t.bidder},id4:function(t){return t.adId},id5:function(t){return t.dealId},id6:function(t){return t.creativeId},id7:function(t){return t.size},id11:"$ADLOOX_WEBSITE"},T=p(Object(r.a)({analyticsType:"endpoint"}),{track:function(t){var n=t.eventType,e=t.args;T["handle_".concat(n)]&&(d.logInfo(g,"track",n,e),T["handle_".concat(n)](e))}});T.context=null,T.originEnableAnalytics=T.enableAnalytics,T.enableAnalytics=function(t){T.context=null,d.logInfo(g,"config",t),d.isPlainObject(t.options)?void 0===t.options.js||d.isStr(t.options.js)?void 0===t.options.toselector||d.isFn(t.options.toselector)?d.isStr(t.options.client)?d.isNumber(t.options.clientid)?d.isNumber(t.options.tagid)?d.isNumber(t.options.platformid)?void 0===t.options.params||d.isPlainObject(t.options.params)?(T.context={js:t.options.js||"https://j.adlooxtracking.com/ads/js/tfav_adl_%%clientid%%.js",toselector:t.options.toselector||function(t){var n=(n=d.getGptSlotInfoForAdUnitCode(t.adUnitCode).divId||t.adUnitCode).replace(/^\d/,"\\3$& ");return"#".concat(n)},client:t.options.client,clientid:t.options.clientid,tagid:t.options.tagid,platformid:t.options.platformid,params:[]},t.options.params=d.mergeDeep({},m,t.options.params||{}),Object.keys(t.options.params).forEach(function(n){Array.isArray(t.options.params[n])||(t.options.params[n]=[t.options.params[n]]),t.options.params[n].forEach(function(t){return T.context.params.push([n,t])})}),Object.keys(E).forEach(h),T.originEnableAnalytics(t)):d.logError(g,"invalid params options value"):d.logError(g,"invalid platformid options value"):d.logError(g,"invalid tagid options value"):d.logError(g,"invalid clientid options value"):d.logError(g,"invalid client options value"):d.logError(g,"invalid toselector options value"):d.logError(g,"invalid js options value"):d.logError(g,"missing options")},T.originDisableAnalytics=T.disableAnalytics,T.disableAnalytics=function(){T.context=null,T.originDisableAnalytics()},T.url=function(t,n,e){function o(t){return t.replace(/%%([a-z]+)%%/gi,function(t,n){return b[n]?b[n](e,T.context):t})}t=o(t);for(var r=(n=n||[]).length;0<r--;){if(d.isFn(n[r][1]))try{n[r][1]=n[r][1](e)}catch(t){d.logError(g,"macro",n[r][0],t.message),n[r][1]="ERROR: ".concat(t.message)}d.isStr(n[r][1])&&(n[r][1]=o(n[r][1]))}return t+function(t){function n(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})}for(var e=[],o=t.length;0<o--;)void 0!==t[o][1]&&null!==t[o][1]&&!1!==t[o][1]&&e.unshift(n(t[o][0])+(!0!==t[o][1]?"="+n(t[o][1]):""));return e.join("&")}(n)},T["handle_".concat(l.EVENTS.AUCTION_END)]=function(t){var n,e;t.auctionStatus==c.a&&0<t.bidsReceived.length&&(T["handle_".concat(l.EVENTS.AUCTION_END)]=f,d.logMessage(g,"preloading verification JS"),n=d.parseUrl(T.url("".concat(T.context.js,"#"))),(e=document.createElement("link")).setAttribute("href","".concat(n.protocol,"://").concat(n.host).concat(n.pathname)),e.setAttribute("rel","preload"),e.setAttribute("as","script"),d.insertElement(e))},T["handle_".concat(l.EVENTS.BID_WON)]=function(t){var n,e,o=T.context.toselector(t);try{n=document.querySelector(o)}catch(t){}n?(d.logMessage(g,"measuring '".concat(t.mediaType,"' unit at '").concat(t.adUnitCode,"'")),e=T.context.params.concat([["tagid","%%tagid%%"],["platform","%%platformid%%"],["fwtype",4],["targetelt","%%targetelt%%"],["creatype","%%creatype%%"]]),Object(i.a)(T.url("".concat(T.context.js,"#"),e,t),"adloox")):d.logWarn(g,"unable to find ad unit code '".concat(t.adUnitCode,"' slot using selector '").concat(o,"' (use options.toselector to change), ignoring"))},o.default.registerAnalyticsAdapter({adapter:T,code:"adloox",gvlid:93}),n.default=T;var E={},A={CONFIG:"config",URL:"url",TRACK:"track"};function h(t){var n=E[t],e=n.cmd,o=n.data,r=n.callback;switch(d.logInfo(g,"command",e,o),e){case A.CONFIG:r({client:T.context.client,clientid:T.context.clientid,tagid:T.context.tagid,platformid:T.context.platformid});break;case A.URL:o.ids&&(o.args=o.args.concat(T.context.params.filter(function(t){return/^id([1-9]|10)$/.test(t[0])}))),r(T.url(o.url,o.args,o.bid));break;case A.TRACK:T.track(o),r();break;default:d.logWarn(g,"command unknown",e)}}},6:function(t,n,e){"use strict";n.a=function(t){var r,i=t.url,n=t.analyticsType,a=t.global,o=t.handler,c=[],l=0,e=!0;n!==j&&!C||function(){if(e){for(var t=0;t<c.length;t++)c[t]();c.push=function(t){t()},e=!1}y.logMessage("event count sent to ".concat(a,": ").concat(l))}();return{track:function(t){var n=t.eventType,e=t.args;this.getAdapterType()===C&&window[a](o,n,e);this.getAdapterType()===j&&function(t){var n=t.eventType,e=t.args,o=t.callback;Object(d.a)(i,o,JSON.stringify({eventType:n,args:e}))}.apply(void 0,arguments)},enqueue:s,enableAnalytics:u,disableAnalytics:function(){y._each(r,function(t,n){g.off(n,t)}),this.enableAnalytics=this._oldEnable?this._oldEnable:u},getAdapterType:function(){return n},getGlobal:function(){return a},getHandler:function(){return o},getUrl:function(){return i}};function s(t){var n=t.eventType,e=t.args,o=this;a&&window[a]&&n&&e?this.track({eventType:n,args:e}):c.push(function(){l++,o.track({eventType:n,args:e})})}function u(n){var t,e=this,o=this;"object"!==f(n)||"object"!==f(n.options)||(void 0===n.options.sampling||Math.random()<parseFloat(n.options.sampling))?(g.getEvents().forEach(function(t){var n,e;t&&(n=t.eventType,e=t.args,n!==E&&s.call(o,{eventType:n,args:e}))}),p(t={},m,function(t){return e.enqueue({eventType:m,args:t})}),p(t,T,function(t){return e.enqueue({eventType:T,args:t})}),p(t,A,function(t){return e.enqueue({eventType:A,args:t})}),p(t,h,function(t){return e.enqueue({eventType:h,args:t})}),p(t,E,function(t){return e.enqueue({eventType:E,args:t})}),p(t,I,function(t){return e.enqueue({eventType:I,args:t})}),p(t,_,function(t){return e.enqueue({eventType:_,args:t})}),p(t,S,function(t){return e.enqueue({eventType:S,args:t})}),p(t,O,function(t){return e.enqueue({eventType:O,args:t})}),p(t,b,function(t){return e.enqueue({eventType:b,args:t})}),p(t,N,function(t){return e.enqueue({eventType:N,args:t})}),p(t,D,function(t){return e.enqueue({eventType:D,args:t})}),p(t,U,function(t){return e.enqueue({eventType:U,args:t})}),p(t,v,function(t){t.config="object"===f(n)&&n.options||{},e.enqueue({eventType:v,args:t})}),r=t,y._each(r,function(t,n){g.on(n,t)})):y.logMessage('Analytics adapter for "'.concat(a,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return y.logMessage('Analytics adapter for "'.concat(a,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var o=e(5),r=e.n(o),d=e(4);function p(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var g=e(9),y=e(0),i=r.a.EVENTS,v=i.AUCTION_INIT,b=i.AUCTION_END,m=i.REQUEST_BIDS,T=i.BID_REQUESTED,E=i.BID_TIMEOUT,A=i.BID_RESPONSE,h=i.NO_BID,I=i.BID_WON,_=i.BID_ADJUSTMENT,S=i.BIDDER_DONE,O=i.SET_TARGETING,N=i.AD_RENDER_FAILED,D=i.AUCTION_DEBUG,U=i.ADD_AD_UNITS,j="endpoint",C="bundle"}},[210]);