pbjsChunk([33],{6:function(e,t,n){"use strict";t.a=function(e){var i,a=e.url,t=e.analyticsType,o=e.global,r=e.handler,u=[],c=0,n=!0;t!==U&&!M||function(){if(n){for(var e=0;e<u.length;e++)u[e]();u.push=function(e){e()},n=!1}g.logMessage("event count sent to ".concat(o,": ").concat(c))}();return{track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===M&&window[o](r,t,n);this.getAdapterType()===U&&function(e){var t=e.eventType,n=e.args,r=e.callback;Object(l.a)(a,r,JSON.stringify({eventType:t,args:n}))}.apply(void 0,arguments)},enqueue:d,enableAnalytics:s,disableAnalytics:function(){g._each(i,function(e,t){f.off(t,e)}),this.enableAnalytics=this._oldEnable?this._oldEnable:s},getAdapterType:function(){return t},getGlobal:function(){return o},getHandler:function(){return r},getUrl:function(){return a}};function d(e){var t=e.eventType,n=e.args,r=this;o&&window[o]&&t&&n?this.track({eventType:t,args:n}):u.push(function(){c++,r.track({eventType:t,args:n})})}function s(t){var e,n=this,r=this;"object"!==m(t)||"object"!==m(t.options)||(void 0===t.options.sampling||Math.random()<parseFloat(t.options.sampling))?(f.getEvents().forEach(function(e){var t,n;e&&(t=e.eventType,n=e.args,t!==h&&d.call(r,{eventType:t,args:n}))}),p(e={},v,function(e){return n.enqueue({eventType:v,args:e})}),p(e,T,function(e){return n.enqueue({eventType:T,args:e})}),p(e,I,function(e){return n.enqueue({eventType:I,args:e})}),p(e,O,function(e){return n.enqueue({eventType:O,args:e})}),p(e,h,function(e){return n.enqueue({eventType:h,args:e})}),p(e,A,function(e){return n.enqueue({eventType:A,args:e})}),p(e,E,function(e){return n.enqueue({eventType:E,args:e})}),p(e,_,function(e){return n.enqueue({eventType:_,args:e})}),p(e,C,function(e){return n.enqueue({eventType:C,args:e})}),p(e,b,function(e){return n.enqueue({eventType:b,args:e})}),p(e,S,function(e){return n.enqueue({eventType:S,args:e})}),p(e,w,function(e){return n.enqueue({eventType:w,args:e})}),p(e,D,function(e){return n.enqueue({eventType:D,args:e})}),p(e,y,function(e){e.config="object"===m(t)&&t.options||{},n.enqueue({eventType:y,args:e})}),i=e,g._each(i,function(e,t){f.on(t,e)})):g.logMessage('Analytics adapter for "'.concat(o,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return g.logMessage('Analytics adapter for "'.concat(o,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var r=n(5),i=n.n(r),l=n(4);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=n(9),g=n(0),a=i.a.EVENTS,y=a.AUCTION_INIT,b=a.AUCTION_END,v=a.REQUEST_BIDS,T=a.BID_REQUESTED,h=a.BID_TIMEOUT,I=a.BID_RESPONSE,O=a.NO_BID,A=a.BID_WON,E=a.BID_ADJUSTMENT,_=a.BIDDER_DONE,C=a.SET_TARGETING,S=a.AD_RENDER_FAILED,w=a.AUCTION_DEBUG,D=a.ADD_AD_UNITS,U="endpoint",M="bundle"},671:function(e,t,n){e.exports=n(672)},672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"AUCTION_STATES",function(){return Q});var r=n(6),i=n(5),a=n.n(i),o=n(8),f=n(4),u=n(10),c=n.n(u),d=n(13),F=n.n(d);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function m(i){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach(function(e){var t,n,r;t=i,r=a[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(a,e))})}return i}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g,G=n(0),Q={INIT:"initialized",ENDED:"ended",COMPLETED:"completed"},y="0.1",b="0.1",v="https://prebid.openx.net/ox/analytics/",T=a.a.EVENTS,H=T.AUCTION_INIT,J=T.BID_REQUESTED,Y=T.BID_RESPONSE,K=T.BID_TIMEOUT,$=T.AUCTION_END,Z=T.BID_WON,ee="slotOnload",h=["utm_campaign","utm_source","utm_medium","utm_term","utm_content"],I={utm_campaign:"name",utm_source:"source",utm_medium:"medium",utm_term:"term",utm_content:"content"},O={orgId:void 0,publisherPlatformId:void 0,publisherAccountId:void 0,sampling:.05,testCode:"default",campaign:{},adUnits:[],payloadWaitTime:1e3,payloadWaitTimePadding:2e3},te={},ne=1,A=window.googletag||{};A.cmd=A.cmd||[];var E=z(Object(r.a)({urlParam:"",analyticsType:"endpoint"}));function _(e){var t,n,r,i,a,o,u,c,d,s,l,p,m,f,g,y,b,v,T,h,I,O,A,E,_,C,S,w,D,U,M,P,N,R,j,q,x,k,B,L,W=e.eventType,X=e.args;switch(G.logMessage(W,z({},X)),W){case H:x=(q=X).auctionId,k=q.timestamp,B=q.timeout,L=q.adUnitCodes,te[x]={id:x,startTime:k,endTime:void 0,timeout:B,auctionOrder:ne,userIds:[],adUnitCodesCount:L.length,adunitCodesRenderedCount:0,state:Q.INIT,auctionSendDelayTimer:void 0},te[x].adUnitCodeToAdUnitMap=L.reduce(function(e,t){return e[t]={code:t,adPosition:void 0,bidRequestsMap:{}},e},{}),ne++;break;case J:U=(D=X).auctionId,M=D.bids,P=D.start,N=D.timeout,R=te[U],j=R.adUnitCodeToAdUnitMap,M.forEach(function(e){var t=e.adUnitCode,n=e.bidder,r=e.bidId,i=e.mediaTypes,a=e.params,o=e.src,u=e.userId;R.userIds.push(u),j[t].bidRequestsMap[r]={bidder:n,params:a,mediaTypes:i,source:o,startTime:P,timedOut:!1,timeLimit:N,bids:{}}});break;case Y:d=(c=X).auctionId,s=c.adUnitCode,l=c.requestId,p=c.cpm,m=c.creativeId,f=c.requestTimestamp,g=c.responseTimestamp,y=c.ts,b=c.mediaType,v=c.dealId,T=c.ttl,h=c.netRevenue,I=c.currency,O=c.originalCpm,A=c.originalCurrency,E=c.width,_=c.height,C=c.timeToRespond,S=c.adId,w=c.meta,te[d].adUnitCodeToAdUnitMap[s].bidRequestsMap[l].bids[S]={cpm:p,creativeId:m,requestTimestamp:f,responseTimestamp:g,ts:y,adId:S,meta:w,mediaType:b,dealId:v,ttl:T,netRevenue:h,currency:I,originalCpm:O,originalCurrency:A,width:E,height:_,latency:C,winner:!1,rendered:!1,renderTime:0};break;case K:u=X,G._each(u,function(e){var t=e.auctionId,n=e.adUnitCode,r=e.bidId,i=G.deepAccess(te,"".concat(t,".adUnitCodeToAdUnitMap.").concat(n,".bidRequestsMap.").concat(r));i&&(i.timedOut=!0)});break;case $:!function(e){var t=te[e.auctionId];if(!t)return;ie(t),t.endTime=e.auctionEnd,t.state=Q.ENDED,re(t)}(X);break;case Z:n=(t=X).auctionId,r=t.adUnitCode,i=t.requestId,a=t.adId,(o=G.deepAccess(te,"".concat(n,".adUnitCodeToAdUnitMap.").concat(r,".bidRequestsMap.").concat(i,".bids.").concat(a)))&&(o.winner=!0);break;case ee:!function(e){var t=e.slot,n=Date.now(),r=t.getSlotElementId(),i=V(function(i){var a,o,u;return i?(G._each(te,function(r){r.state!==Q.COMPLETED&&G._each(r.adUnitCodeToAdUnitMap,function(n){G._each(n.bidRequestsMap,function(e){G._each(e.bids,function(e,t){i===t&&(a=r,o=n,u=e)})})})}),[a,o,u]):[]}(t.getTargeting("hb_adid")[0]),3),a=i[0],o=i[1],u=i[2];if(!a&&!(a=function(e){var r,i=[e.getSlotElementId(),e.getAdUnitPath()];return G._each(te,function(n){n.state!==Q.COMPLETED&&G._each(n.adUnitCodeToAdUnitMap,function(e,t){F()(i,t)&&(r=n)})}),r}(t)))return;{var c,d,s;ie(a),a.adunitCodesRenderedCount++,u&&(c=function(){var e=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:e,y:t}}(),d=c.x,s=c.y,u.rendered=!0,u.renderTime=n,o.adPosition=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=document.querySelector("#"+e),i=!1;{var a,o,u,c,d,s,l,p,m,f,g;r?(a=r.getBoundingClientRect())&&(o=window.innerWidth||document.documentElement.clientWidth,u=window.innerHeight||document.documentElement.clientHeight,c=Math.max(0,a.left+t),d=Math.min(o,a.right+t),s=Math.max(0,a.top+n),l=Math.min(u,a.bottom+n),p=d-c,f=0<(m=l-s)&&0<p?m*p:0,0<(g=(a.right-a.left)*(a.bottom-a.top))&&(i=g<=2*f)):G.logWarn("OX: DOM element not for id "+e)}return i}(r,d,s)?"ATF":"BTF")}a.adunitCodesRenderedCount===a.adUnitCodesCount&&(a.state=Q.COMPLETED);re(a)}(X)}}function re(m){var e=m.adunitCodesRenderedCount===m.adUnitCodesCount?g.payloadWaitTime:g.payloadWaitTime+g.payloadWaitTimePadding;m.auctionSendDelayTimer=setTimeout(function(){var e,t,n,r,i,a,o,u,c,d,s,l,p=JSON.stringify([(t=(e=m).startTime,n=e.endTime,r=e.state,i=e.timeout,a=e.auctionOrder,o=e.userIds,u=e.adUnitCodeToAdUnitMap,c=g.orgId,d=g.publisherPlatformId,s=g.publisherAccountId,l=g.campaign,{adapterVersion:y,schemaVersion:b,orgId:c,publisherPlatformId:d,publisherAccountId:s,campaign:l,state:r,startTime:t,endTime:n,timeLimit:i,auctionOrder:a,deviceType:navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?"Mobile":"Desktop",deviceOSType:-1!=navigator.userAgent.indexOf("Android")?"Android":-1!=navigator.userAgent.indexOf("like Mac")?"iOS":-1!=navigator.userAgent.indexOf("Win")?"Windows":-1!=navigator.userAgent.indexOf("Mac")?"Macintosh":-1!=navigator.userAgent.indexOf("Linux")?"Linux":-1!=navigator.appVersion.indexOf("X11")?"Unix":"Others",browser:function(){var e=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),t=navigator.userAgent.match("CriOS"),n=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),r=/Firefox/.test(navigator.userAgent),i=/Trident/.test(navigator.userAgent)||/MSIE/.test(navigator.userAgent),a=/Edge/.test(navigator.userAgent);return i?"Internet Explorer":a?"Microsoft Edge":t?"Chrome":n?"Safari":r?"Firefox":e?"Chrome":"Others"}(),testCode:g.testCode,userIdProviders:function(e){return G._map(e,function(e){return G._map(e,function(e,t){return!!function(e,t){var n;switch(e){case"digitrustid":n=G.deepAccess(t,"data.id");break;case"lipb":n=t.lipbid;break;default:n=t}return!G.isEmpty(n)}(t,e)&&t}).filter(function(e){return e})}).reduce(G.flatten,[]).filter(G.uniques).sort()}(o),adUnits:function(e){return G._map(e,function(e){var t;return{code:e.code,adPosition:e.adPosition,bidRequests:(t=e.bidRequestsMap,G._map(t,function(e){var t,n,r=e.bidder,i=e.source,a=e.bids,o=e.mediaTypes,u=e.timeLimit,c=e.timedOut;return{bidder:r,source:i,hasBidderResponded:0<Object.keys(a).length,availableAdSizes:(n=o,G._map(n,function(e,t){return G.parseSizesInput(e.sizes).map(function(e){return"".concat(t,"_").concat(e)})}).reduce(G.flatten,[])),availableMediaTypes:(t=o,G._map(t,function(e,t){return t})),timeLimit:u,timedOut:c,bidResponses:G._map(e.bids,function(e){var t=e.cpm,n=e.creativeId,r=e.ts,i=e.meta,a=e.mediaType,o=e.dealId,u=e.ttl,c=e.netRevenue,d=e.currency,s=e.width,l=e.height,p=e.latency,m=e.winner,f=e.rendered,g=e.renderTime;return{microCpm:1e6*t,netRevenue:c,currency:d,mediaType:a,height:l,width:s,size:"".concat(s,"x").concat(l),dealId:o,latency:p,ttl:u,winner:m,creativeId:n,ts:r,rendered:f,renderTime:g,meta:i}})}}))}})}(u)})]);Object(f.a)(v,function(){delete te[m.id]},p,{contentType:"application/json"})},e)}function ie(e){e.auctionSendDelayTimer&&(clearTimeout(e.auctionSendDelayTimer),e.auctionSendDelayTimer=void 0)}E.originEnableAnalytics=E.enableAnalytics,E.enableAnalytics=function(){var e,n,r,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{options:{}};!function(e){var i=e.options,t=i&&void 0!==i.orgId,n=[["orgId","string",t],["publisherPlatformId","string",!t],["publisherAccountId","number",!t],["sampling","number",!1],["enableV2","boolean",!1],["testPipeline","boolean",!1],["adIdKey","string",!1],["payloadWaitTime","number",!1],["payloadWaitTimePadding","number",!1]],r=c()(n,function(e){var t=V(e,3),n=t[0],r=t[1];return t[2]&&!i.hasOwnProperty(n)||i.hasOwnProperty(n)&&s(i[n])!==r});{var a,o,u;r&&(a=V(r,3),o=a[0],u=a[1],a[2]?G.logError("OpenXAnalyticsAdapter: Expected '".concat(o,"' to exist and of type '").concat(u,"'")):G.logError("OpenXAnalyticsAdapter: Expected '".concat(o,"' to be type '").concat(u,"'")))}return!r}(t)||((g=m(m({},O),t.options)).campaign=m(m({},(e=G.getWindowLocation(),n=G.parseQS(e&&e.search),r={},h.forEach(function(e){var t=n[e];t&&(r[I[e]]=decodeURIComponent(t))}),r)),g.campaign),G.logInfo("OpenX Analytics enabled with config",g),E.track=_,A.cmd.push(function(){var e=A.pubads();e.addEventListener&&e.addEventListener(ee,function(e){E.track({eventType:ee,args:e}),G.logInfo("OX: SlotOnLoad event triggered")})}),E.originEnableAnalytics(t))},o.default.registerAnalyticsAdapter({adapter:E,code:"openx"}),(t.default=E).reset=function(){te={},ne=1}}},[671]);