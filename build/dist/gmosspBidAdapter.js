pbjsChunk([271],{472:function(r,e,t){r.exports=t(473)},473:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),t.d(e,"spec",function(){return u});var n=t(1),y=t(0),f=t(3),i=t(2),u={code:"gmossp",supportedMediaTypes:[i.b],isBidRequestValid:function(r){return!!r.params.sid},buildRequests:function(r,e){for(var t=[],n={url:function(r){if(r&&r.referer)return r.referer;try{return window.top.location.href}catch(r){return window.location.href}}(e.refererInfo),ref:function(){try{return window.top.document.referrer}catch(r){return document.referrer}}()},i=function(){if(f.b.getConfig("currency.adServerCurrency"))return f.b.getConfig("currency.adServerCurrency");return"JPY"}(),u=y.getDNT()?"1":"0",d=0;d<r.length;d++){var c=r[d],o=c.transactionId,p=c.bidId,a=y.getBidIdParameter("sid",c.params),s=y.tryAppendQueryString("","tid",o);s=y.tryAppendQueryString(s,"bid",p),s=y.tryAppendQueryString(s,"ver","4.35.0-pre"),s=y.tryAppendQueryString(s,"sid",a),s=y.tryAppendQueryString(s,"url",n.url),s=y.tryAppendQueryString(s,"ref",n.ref),s=y.tryAppendQueryString(s,"cur",i),s=y.tryAppendQueryString(s,"dnt",u),t.push({method:"GET",url:"https://sp.gmossp-sp.jp/hb/prebid/query.ad",data:s})}return t},interpretResponse:function(r){var t=r.body;if(y.isEmpty(t))return[];try{t.imps.forEach(function(r){var e=y.createTrackPixelHtml(r);t.ad+=e})}catch(r){y.logError("Error appending tracking pixel",r)}return[{requestId:t.bid,cpm:t.price,currency:t.cur,width:t.w,height:t.h,ad:t.ad,creativeId:t.creativeId,netRevenue:!0,ttl:t.ttl||300}]},getUserSyncs:function(e,r){var t=[];return r.length&&r.forEach(function(r){e.pixelEnabled&&r.body&&r.body.syncs.length&&r.body.syncs.forEach(function(r){t.push({type:"image",url:r})})}),t}};Object(n.registerBidder)(u)}},[472]);