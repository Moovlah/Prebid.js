pbjsChunk([161],{744:function(e,r,n){e.exports=n(745)},745:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"QUANTCAST_DOMAIN",function(){return h}),n.d(r,"QUANTCAST_TEST_DOMAIN",function(){return g}),n.d(r,"QUANTCAST_NET_REVENUE",function(){return u}),n.d(r,"QUANTCAST_TEST_PUBLISHER",function(){return A}),n.d(r,"QUANTCAST_TTL",function(){return m}),n.d(r,"QUANTCAST_PROTOCOL",function(){return S}),n.d(r,"QUANTCAST_PORT",function(){return C}),n.d(r,"QUANTCAST_FPA",function(){return I}),n.d(r,"storage",function(){return N}),n.d(r,"spec",function(){return p});var v=n(0),i=n(4),f=n(3),t=n(7),o=n(1),a=n(10),s=n.n(a),y="quantcast",b="11",T="1",h="qcx.quantserve.com",g="s2s-canary.quantserve.com",u=!0,A="test-publisher",m=4,S="https",C="8443",I="__qca",N=Object(t.b)(b,y);function U(e){var r=e.sizes||e.mediaTypes.banner.sizes;return{banner:{battr:e.params.battr,sizes:r.map(function(e){return{width:e[0],height:e[1]}})},placementCode:e.placementCode,bidFloor:e.params.bidFloor||1e-10}}var d=!1,p={code:y,GVLID:b,supportedMediaTypes:["banner","video"],isBidRequestValid:function(e){return!!e.params.publisherId},buildRequests:function(e,r){var n,i,t,o,a=e||[],d=v.deepAccess(r,"gdprConsent")||{},p=v.deepAccess(r,"uspConsent"),c=v.deepAccess(r,"refererInfo.referer"),u=v.deepAccess(r,"refererInfo.canonicalUrl")||f.b.getConfig("pageUrl")||v.deepAccess(window,"location.href"),m=(n=u)?n.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0]:n;if(d.gdprApplies&&d.vendorData){if(1===d.apiVersion&&(t=(i=d.vendorData).vendorConsents&&i.vendorConsents[b],o=i.purposeConsents&&i.purposeConsents[T],!t||!o))return void v.logInfo("".concat(y,": No purpose 1 consent for TCF v1"));if(2===d.apiVersion&&!function(e){var r=e.publisher?e.publisher.restrictions:{},n=r&&r[T]?r[T][b]:null;if(0!==n&&2!==n){var i=e.vendor&&e.vendor.consents&&e.vendor.consents[b],t=e.purpose&&e.purpose.consents&&e.purpose.consents[T];return i&&t}}(d.vendorData))return void v.logInfo("".concat(y,": No purpose 1 consent for TCF v2"))}var l=[];return a.forEach(function(e){var r,n,i;if(e.mediaTypes)if(e.mediaTypes.video&&"instream"===e.mediaTypes.video.context)i={},(n=e).params.video&&(i.mimes=n.params.video.mimes,i.minduration=n.params.video.minduration,i.maxduration=n.params.video.maxduration,i.protocols=n.params.video.protocols,i.startdelay=n.params.video.startdelay,i.linearity=n.params.video.linearity,i.battr=n.params.video.battr,i.maxbitrate=n.params.video.maxbitrate,i.playbackmethod=n.params.video.playbackmethod,i.delivery=n.params.video.delivery,i.placement=n.params.video.placement,i.api=n.params.video.api),n.mediaTypes.video.mimes&&(i.mimes=n.mediaTypes.video.mimes),v.isArray(n.mediaTypes.video.playerSize[0])?(i.w=n.mediaTypes.video.playerSize[0][0],i.h=n.mediaTypes.video.playerSize[0][1]):(i.w=n.mediaTypes.video.playerSize[0],i.h=n.mediaTypes.video.playerSize[1]),r={video:i,placementCode:n.placementCode,bidFloor:n.params.bidFloor||1e-10};else{if(!e.mediaTypes.banner)return void v.logInfo("".concat(y,": No supported mediaTypes found in ").concat(JSON.stringify(e.mediaTypes)));r=U(e)}else r=U(e);var t={publisherId:e.params.publisherId,requestId:e.bidId,imp:[r],site:{page:u,referrer:c,domain:m},bidId:e.bidId,gdprSignal:d.gdprApplies?1:0,gdprConsent:d.consentString,uspSignal:p?1:0,uspConsent:p,coppa:!0===f.b.getConfig("coppa")?1:0,prebidJsVersion:"4.35.0-pre",fpa:N.getCookie(I)||""},o=JSON.stringify(t),a=e.params.publisherId===A?g:h,s="".concat(S,"://").concat(a,":").concat(C,"/qchb");l.push({data:o,method:"POST",url:s})}),l},interpretResponse:function(e){if(void 0===e)return v.logError("Server Response is undefined"),[];var c=e.body;return void 0!==c&&c.hasOwnProperty("bids")?v.isEmpty(c.bids)?[]:c.bids.map(function(e){var r=e.ad,n=e.cpm,i=e.width,t=e.height,o=e.creativeId,a=e.currency,s=e.videoUrl,d=e.dealId,p={requestId:c.requestId,cpm:n,width:i,height:t,ad:r,ttl:m,creativeId:o,netRevenue:u,currency:a};return void 0!==s&&s&&(p.vastUrl=s,p.mediaType="video"),void 0!==d&&d&&(p.dealId=d),p}):(v.logError("Sub-optimal JSON received from Quantcast server"),[])},onTimeout:function(){var e="".concat(S,"://").concat(h,":").concat(C,"/qchb_notify?type=timeout");Object(i.a)(e,null,null)},getUserSyncs:function(e,r){var n,i,t=[];return!d&&e.pixelEnabled&&((n=s()(r,function(e){return v.deepAccess(e.body,"userSync.url")}))&&(i=v.deepAccess(n.body,"userSync.url"),t.push({type:"image",url:i})),d=!0),t},resetUserSync:function(){d=!1}};Object(o.registerBidder)(p)}},[744]);