pbjsChunk([156],{754:function(e,r,t){e.exports=t(755)},755:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(a){i.d(n,"ENDPOINT",function(){return s}),i.d(n,"spec",function(){return t});var o=i(0),e=i(1),u=i(3),d=i(2);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s="https://app.readpeak.com/header/prebid",p={TITLE_LEN:70,DESCR_LEN:120,SPONSORED_BY_LEN:50,IMG_MIN:150,ICON_MIN:50,CTA_LEN:50},t={code:"readpeak",supportedMediaTypes:[d.c],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.publisherId&&e.nativeParams)},buildRequests:function(e,r){var t=u.b.getConfig("currency"),n=t&&t.adServerCurrency||"USD",i={id:e[0].bidderRequestId,imp:e.map(function(e){var r;{var t;"function"==typeof e.getFloor&&(t=e.getFloor({currency:"USD",mediaType:"native",size:"*"}),r="USD"===t.currency?t.floor:void 0)}return{id:e.bidId,native:function(e){if(e.nativeParams){var r=[];return c(r,function(e,r,t){if(r)return{id:e,required:r.required?1:0,title:{len:r.len||t}};return null}(1,e.nativeParams.title,p.TITLE_LEN)),c(r,function(e,r,t,n,i){return r?{id:e,required:r.required?1:0,img:{type:t,wmin:r.wmin||n,hmin:r.hmin||i}}:null}(2,e.nativeParams.image,3,e.nativeParams.wmin||p.IMG_MIN,e.nativeParams.hmin||p.IMG_MIN)),c(r,l(3,e.nativeParams.sponsoredBy,1,p.SPONSORED_BY_LEN)),c(r,l(4,e.nativeParams.body,2,p.DESCR_LEN)),c(r,l(5,e.nativeParams.cta,12,p.CTA_LEN)),{request:JSON.stringify({assets:r}),ver:"1.1"}}return null}(e),bidfloor:r||e.params.bidfloor||0,bidfloorcur:(r?"USD":e.params.bidfloorcur)||"USD",tagId:e.params.tagId||"0"}}).filter(function(e){return null!=e.native}),site:function(e,r){var t=u.b.getConfig("pageUrl")||r&&r.refererInfo&&r.refererInfo.referer,n=e&&0<e.length?e[0].params.publisherId:"0",i=e&&0<e.length?e[0].params.siteId:"0";if(e[0].params.app)return;return{publisher:{id:n.toString(),domain:u.b.getConfig("publisherDomain")},id:i?i.toString():n.toString(),page:t,domain:t&&Object(o.parseUrl)(t).hostname||u.b.getConfig("publisherDomain")}}(e,r),app:function(e){var r=e&&0<e.length?e[0].params.publisherId:"0",t=e[0].params.app;if(t)return{publisher:{id:r.toString()},bundle:t.bundle,storeurl:t.storeUrl,domain:t.domain};return}(e),device:{ua:navigator.userAgent,language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,devicetype:/(ios|ipod|ipad|iphone|android)/i.test(a.navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(a.navigator.userAgent)?3:2},cur:[n],source:{fd:1,tid:e[0].transactionId,ext:{prebid:"4.35.0-pre"}}};return r.gdprConsent&&(i.user={ext:{consent:r.gdprConsent.consentString||""}},i.regs={ext:{gdpr:void 0===r.gdprConsent.gdprApplies||r.gdprConsent.gdprApplies}}),{method:"POST",url:s,data:JSON.stringify(i)}},interpretResponse:function(e,r){return function(e,t){var n={},i={};if(!t.body)return[];t=t.body,f(e.data).imp.forEach(function(e){n[e.id]=e}),t&&t.seatbid.forEach(function(e){return e.bid.forEach(function(e){i[e.impid]=e})});var a=[];return Object.keys(n).forEach(function(e){var r;i[e]&&(r={requestId:e,cpm:i[e].price,creativeId:i[e].crid,ttl:300,netRevenue:!0,mediaType:d.c,currency:t.cur,native:function(e,r){if(e&&e.native){var t=f(r.adm),n={};if(t&&t.assets){t.assets.forEach(function(e){n.title=e.title?e.title.text:n.title,n.body=e.data&&4===e.id?e.data.value:n.body,n.sponsoredBy=e.data&&3===e.id?e.data.value:n.sponsoredBy,n.image=e.img&&2===e.id?{url:e.img.url,width:e.img.w||750,height:e.img.h||500}:n.image,n.cta=e.data&&5===e.id?e.data.value:n.cta}),t.link&&(n.clickUrl=encodeURIComponent(t.link.url));var i=t.imptrackers||[];return i.unshift(Object(o.replaceAuctionPrice)(r.burl,r.price)),n.impressionTrackers=i,n}}return null}(n[e],i[e])},i[e].adomain&&(r.meta={advertiserDomains:i[e].adomain}),a.push(r))}),a}(r,e)}};function c(e,r){r&&e.push(r)}function l(e,r,t,n){return r?{id:e,required:r.required?1:0,data:{type:t,len:r.len||n}}:null}function f(e){try{if(e)return"object"===r(e)?e:JSON.parse(e)}catch(e){Object(o.logError)("readpeakBidAdapter.safeParse","ERROR",e)}return null}Object(e.registerBidder)(t)}.call(n,i(36))}},[754]);