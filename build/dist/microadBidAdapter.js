pbjsChunk([209],{623:function(e,r,t){e.exports=t(624)},624:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"ENVIRONMENT",function(){return p}),t.d(r,"spec",function(){return n});var a=t(1),i=t(2),o={production:"https://s-rtb-pb.send.microad.jp/prebid",test:"https://rtbtest.send.microad.jp/prebid"},p="production";function c(e,r){return(e?-1:0)&r}var n={code:"microad",supportedMediaTypes:[i.b],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.spot&&e.mediaTypes&&(e.mediaTypes.banner||e.mediaTypes.native||e.mediaTypes.video))},buildRequests:function(e,n){var d=[];return e.forEach(function(e){var r,t,a=e.params,i={spot:a.spot,url:n.refererInfo.canonicalUrl||window.location.href,referrer:n.refererInfo.referer,bid_id:e.bidId,transaction_id:e.transactionId,media_types:c((r=e).mediaTypes.banner,1)|c(r.mediaTypes.native,2)|c(r.mediaTypes.video,4),cbt:Math.floor(Math.random()*Math.pow(10,18)).toString(16)+(new Date).getTime().toString(16)};a.url&&(i.url_macro=a.url.replace("${COMPASS_EXT_URL}","")),a.referrer&&(i.referrer_macro=a.referrer.replace("${COMPASS_EXT_REF}","")),a.ifa&&(i.ifa=a.ifa.replace("${COMPASS_EXT_IFA}","")),a.appid&&(i.appid=a.appid.replace("${COMPASS_EXT_APPID}","")),a.geo&&(t=a.geo.replace("${COMPASS_EXT_GEO}",""),/^[0-9.\-]+,[0-9.\-]+$/.test(t)&&(i.geo=t)),d.push({method:"GET",url:o[p],data:i,options:{Accept:"application/json"}})}),d},interpretResponse:function(e){var r,t=e.body,a=[];return t.cpm&&0<t.cpm&&(r={requestId:t.requestId,cpm:t.cpm,width:t.width,height:t.height,ad:t.ad,ttl:t.ttl,creativeId:t.creativeId,netRevenue:t.netRevenue,currency:t.currency},t.dealId&&(r.dealId=t.dealId),a.push(r)),a},getUserSyncs:function(a,e){var i=[];return(a.iframeEnabled||a.pixelEnabled)&&e.forEach(function(e){var r=e.body.syncUrls.iframe,t=e.body.syncUrls.image;a.iframeEnabled&&r&&r.forEach(function(e){i.push({type:"iframe",url:e})}),a.pixelEnabled&&t&&t.forEach(function(e){i.push({type:"image",url:e})})}),i}};Object(a.registerBidder)(n)}},[623]);