pbjsChunk([169],{716:function(e,o,t){e.exports=t(717)},717:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),t.d(o,"pubCommonIdSubmodule",function(){return I});var m=t(0),r=t(11),a=t(7),i=t(4);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v="PublisherCommonId",n="cookie",d="html5",c="00000000000000000000000000",l="https://id.sharedid.org/id",s="_sharedid",u="Thu, 01 Jan 1970 00:00:01 GMT",g=Object(a.b)(887,"pubCommonId");function f(e,o){try{var t,r;o&&(t=e.storage.name+s,r=new Date(Date.now()+864e5*g.expires).toUTCString(),e.storage.type===n?g.cookiesAreEnabled()&&g.setCookie(t,o,r,"LAX",I.domainOverride()):e.storage.type===d&&g.hasLocalStorage()&&(g.setDataInLocalStorage("".concat(t,"_exp"),r),g.setDataInLocalStorage(t,o)))}catch(e){m.logError(e)}}function h(e){try{var o=e.storage.name+s;if(e.storage.type===n){if(g.cookiesAreEnabled())return g.getCookie(o)}else if(e.storage.type===d&&g.hasLocalStorage()){var t=g.getDataFromLocalStorage("".concat(o,"_exp"));if(!t)return g.getDataFromLocalStorage(o);if(0<new Date(t).getTime()-Date.now())return g.getDataFromLocalStorage(o)}}catch(e){m.logError(e)}}function b(t,r,a){return{success:function(e){if(e)try{var o=JSON.parse(e);m.logInfo("PubCommonId: Generated SharedId: "+o.sharedId),o.sharedId&&(o.sharedId!==c?f(a,o.sharedId):function(e){try{var o=e.storage.name+s;e.storage.type===n?g.cookiesAreEnabled()&&g.setCookie(o,"",u):e.storage.type===d&&(g.removeDataFromLocalStorage("".concat(o,"_exp")),g.removeDataFromLocalStorage(o))}catch(e){m.logError(e)}}(a)),r(t)}catch(e){m.logError(e)}},error:function(){m.logInfo("PubCommonId: failed to get sharedid")}}}function y(t,r,a,n){return function(e){var o;"function"==typeof r&&r(),Object(i.a)((o=n)&&"boolean"==typeof o.gdprApplies&&o.gdprApplies?"".concat(l,"?gdpr=1&gdpr_consent=").concat(o.consentString):l,b(t,e,a),void 0,{method:"GET",withCredentials:!0})}}var I={name:"pubCommonId",gvlid:887,makeCallback:function(e,o){var t=1<arguments.length&&void 0!==o?o:"";if(e){var r=m.parseUrl(e);r.search.id=encodeURIComponent("pubcid:"+t);var a=m.buildUrl(r);return function(){m.triggerPixel(a)}}},decode:function(e,o){var t,r={pubcid:e},a=o.params,n=(a=void 0===a?{}:a).enableSharedId;return!(void 0!==n&&n)||(t=h(o))&&(r.sharedid={id:t}),r},getId:function(e,o,t){var r=0<arguments.length&&void 0!==e?e:{},a=1<arguments.length?o:void 0,n=2<arguments.length?t:void 0,i=r.params,d=(i=void 0===i?{}:i).create,c=void 0===d||d,l=i.pixelUrl,s=i.enableSharedId,u=void 0!==s&&s,g=n;if(!g){try{"object"===p(window[v])&&(g=window[v].getId())}catch(e){}g=g||(c&&m.hasDeviceAccess()?m.generateUUID():void 0)}var f=this.makeCallback(l,g);return{id:g,callback:u?y(g,f,r,a):f}},extendId:function(e,o,t){var r=0<arguments.length&&void 0!==e?e:{},a=2<arguments.length?t:void 0,n=r.params,i=(n=void 0===n?{}:n).extend,d=void 0!==i&&i,c=n.pixelUrl,l=n.enableSharedId,s=void 0!==l&&l;if(d){try{if("object"===p(window[v]))return void(s&&f(r,h(r)))}catch(e){}return c?{callback:this.makeCallback(c,a)}:(s&&f(r,h(r)),{id:a})}},domainOverride:function(){for(var e,o,t=document.domain.split("."),r="_gd".concat(Date.now()),a=0;a<t.length;a++){var n=t.slice(a).join(".");if(g.setCookie(r,"1",void 0,void 0,n),o=g.getCookie(r),g.setCookie(r,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,n),"1"!==o)return e;e=n}}};Object(r.e)("userId",I)}},[716]);