pbjsChunk([178],{693:function(e,r,t){e.exports=t(694)},694:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t.d(r,"parrableIdSubmodule",function(){return p});var g=t(0),o=t(10),m=t.n(o),O=t(4),n=t(11),v=t(21),I=t(8),a=t(7),i="_parrable_id",h="_parrable_eid",C="_parrable_optout",s=314496e5,k="Thu, 01 Jan 1970 00:00:00 GMT",_=Object(a.b)(928);function y(){var e,t,r=_.getCookie(i);return r?(e=decodeURIComponent(r),t={},e.split(",").forEach(function(e){var r=e.split(":");t[r[0]]=1==+r[1]||r[1]}),t):null}function E(e){var r,t,o;e&&(r=encodeURIComponent((o=[],(t=e).eid&&o.push("eid:"+t.eid),t.ibaOptout&&o.push("ibaOptout:1"),t.ccpaOptout&&o.push("ccpaOptout:1"),o.join(","))),_.setCookie(i,r,new Date(g.timestamp()+s).toGMTString(),"lax"))}function u(e,r){if(function(e){if(e){if(e.partners||e.partner)return e.storage&&g.logWarn("User ID - parrableId submodule does not require a storage config"),1;g.logError("User ID - parrableId submodule requires partner list")}else g.logError("User ID - parrableId submodule requires configParams")}(e)){var t,n=y();if(n||(n=function(){var e=_.getCookie(h),r="true"===_.getCookie(C);if(e||r){var t={};return e&&(t.eid=e),r&&(t.ibaOptout=r),t}return null}(),(t=n)&&(E(t),t.eid&&_.setCookie(h,"",k),t.ibaOptout&&_.setCookie(C,"",k))),function(e,r){var t=e.timezoneFilter;if(t&&!r){var o=(new Date).getTimezoneOffset()/60,n=Intl.DateTimeFormat().resolvedOptions().timeZone;return(!g.isEmpty(t.blockedZones)||!g.isEmpty(t.blockedOffsets))&&(a(t.blockedZones,n)||g.contains(t.blockedOffsets,o))||!(g.isEmpty(t.allowedZones)&&g.isEmpty(t.allowedOffsets)||a(t.allowedZones,n)||g.contains(t.allowedOffsets,o))}function a(e,r){var t=r&&r.toLowerCase();return e&&r&&m()(e,function(e){return e.toLowerCase()===t})}}(e,n))return null;var o,a,i=n?n.eid:null,s=Object(v.a)(),u=I.uspDataHandler.getConsentData(),p=r&&"boolean"==typeof r.gdprApplies&&r.gdprApplies,l=r&&p&&r.consentString||"",d=e.partners||e.partner,c={eid:i,trackers:"string"==typeof d?d.split(","):d,url:s.referer,prebidVersion:"4.35.0-pre",isIframe:g.inIframe()},f={data:(o=btoa(JSON.stringify(c)),a={"+":"-","/":"_","=":"."},o.replace(/[+/=]/g,function(e){return a[e]})),gdpr:p?1:0,_rand:Math.random()};u&&(f.us_privacy=u),p&&(f.gdpr_consent=l);var b={method:"GET",withCredentials:!0};return{callback:function(o){var e={success:function(e){var r=n?g.deepClone(n):{};if(e){try{var t=JSON.parse(e);t&&(!0!==t.ccpaOptout?r.eid=t.eid:(r.eid=null,r.ccpaOptout=!0),!0===t.ibaOptout&&(r.ibaOptout=!0))}catch(e){g.logError(e),o()}E(r),o(r)}else g.logError("parrableId: ID fetch returned an empty result"),o()},error:function(e){g.logError("parrableId: ID fetch encountered an error",e),o()}};Object(O.a)("https://h.parrable.com/prebid",e,f,b)},id:n}}}var p={name:"parrableId",gvlid:928,decode:function(e){if(e&&g.isPlainObject(e))return{parrableId:e}},getId:function(e,r){return u(e&&e.params||{},r)}};Object(n.e)("userId",p)}},[693]);