pbjsChunk([68],{966:function(e,a,r){e.exports=r(967)},967:function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),r.d(a,"spec",function(){return s});var w=r(0),n=r(1),t=r(10),b=r.n(t),A=r(2),j=r(12),P="https://ad.yieldlab.net",s={code:"yieldlab",supportedMediaTypes:[A.d,A.b],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.adslotId&&e.params.supplyId)},buildRequests:function(e,a){var i=[],o={ts:Date.now(),json:!0};w._each(e,function(e){if(i.push(e.params.adslotId),e.params.targeting&&(o.t=function(e){var a=[];for(var r in e){var n;e.hasOwnProperty(r)&&(n=e[r],a.push(r+"="+n))}return a.join("&")}(e.params.targeting)),e.userIdAsEids&&Array.isArray(e.userIdAsEids)&&(o.ids=function(e){for(var a=[],r=0;r<e.length;r++)a.push(e[r].source+":"+e[r].uids[0].id);return a.join(",")}(e.userIdAsEids)),e.params.customParams&&w.isPlainObject(e.params.customParams))for(var a in e.params.customParams)o[a]=e.params.customParams[a];var r,n,t,s,d;e.schain&&w.isPlainObject(e.schain)&&Array.isArray(e.schain.nodes)&&(o.schain=(r=e.schain,n=r.ver||"",t=1===r.complete||0===r.complete?r.complete:"",s=["asi","sid","hp","rid","name","domain","ext"],d=r.nodes.reduce(function(e,r){return e+"!".concat(s.map(function(e){return r[e]?(a=r[e],encodeURIComponent(a).replace(/!/g,"%21")):"";var a}).join(","))},""),"".concat(n,",").concat(t).concat(d)))}),a&&(a.refererInfo&&a.refererInfo.referer&&(o.pubref=a.refererInfo.referer),a.gdprConsent&&(o.gdpr="boolean"!=typeof a.gdprConsent.gdprApplies||a.gdprConsent.gdprApplies,o.gdpr&&(o.consent=a.gdprConsent.consentString)));var r=i.join(","),n=function(e){var a=[];for(var r in e){var n;e.hasOwnProperty(r)&&(n=e[r],"schain"!==r?a.push(encodeURIComponent(r)+"="+encodeURIComponent(n)):a.push(r+"="+n))}return a.join("&")}(o);return{method:"GET",url:"".concat(P,"/yp/").concat(r,"?").concat(n),validBidRequests:e,queryParams:o}},interpretResponse:function(f,e){var y=[],g=Date.now(),I=e.queryParams;return e.validBidRequests.forEach(function(a){var e,r,n,t,s,d,i,o,c,p,u,m,l,h,v;!f.body||(e=b()(f.body,function(e){return a.params.adslotId==e.id}))&&(r=2!==a.sizes.length||w.isArray(a.sizes[0])?a.sizes[0]:a.sizes,n=void 0!==a.params.adSize?R(a.params.adSize):void 0!==e.adsize?R(e.adsize):r,t=void 0!==a.params.extId?"&id="+a.params.extId:"",s=void 0!==e.adtype?e.adtype:"",d=I.gdpr?"&gdpr="+I.gdpr:"",i=I.consent?"&consent="+I.consent:"",o={requestId:a.bidId,cpm:e.price/100,width:n[0],height:n[1],creativeId:""+e.id,dealId:e["c.dealid"]?e["c.dealid"]:e.pid,currency:"EUR",netRevenue:!1,ttl:300,referrer:"",ad:'<script src="'.concat(P,"/d/").concat(e.id,"/").concat(a.params.supplyId,"/?ts=").concat(g).concat(t).concat(d).concat(i,'"><\/script>')},h=a,v=s,w.deepAccess(h,"mediaTypes.video")&&"video"===v.toLowerCase()&&(m=a,(c=(l=w.deepAccess(m,"mediaTypes.video.playerSize"))&&w.isArray(l[0])?l[0]:l)&&(o.width=c[0],o.height=c[1]),o.mediaType=A.d,o.vastUrl="".concat(P,"/d/").concat(e.id,"/").concat(a.params.supplyId,"/?ts=").concat(g).concat(t).concat(d).concat(i),u=a,"outstream"===w.deepAccess(u,"mediaTypes.video.context")&&((p=j.a.install({id:a.bidId,url:"https://ad.adition.com/dynamic.ad?a=o193092&ma_loadEvent=ma-start-event",loaded:!1})).setRender(C),o.renderer=p)),y.push(o))}),y}};function R(e){return e.split("x").map(Number)}function C(e){e.renderer.push(function(){window.ma_width=e.width,window.ma_height=e.height,window.ma_vastUrl=e.vastUrl,window.ma_container=e.adUnitCode,window.document.dispatchEvent(new Event("ma-start-event"))})}Object(n.registerBidder)(s)}},[966]);