pbjsChunk([19],{6:function(e,t,n){"use strict";t.a=function(e){var o,i=e.url,t=e.analyticsType,s=e.global,r=e.handler,a=[],c=0,n=!0;t!==j&&!R||function(){if(n){for(var e=0;e<a.length;e++)a[e]();a.push=function(e){e()},n=!1}g.logMessage("event count sent to ".concat(s,": ").concat(c))}();return{track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===R&&window[s](r,t,n);this.getAdapterType()===j&&function(e){var t=e.eventType,n=e.args,r=e.callback;Object(l.a)(i,r,JSON.stringify({eventType:t,args:n}))}.apply(void 0,arguments)},enqueue:u,enableAnalytics:d,disableAnalytics:function(){g._each(o,function(e,t){b.off(t,e)}),this.enableAnalytics=this._oldEnable?this._oldEnable:d},getAdapterType:function(){return t},getGlobal:function(){return s},getHandler:function(){return r},getUrl:function(){return i}};function u(e){var t=e.eventType,n=e.args,r=this;s&&window[s]&&t&&n?this.track({eventType:t,args:n}):a.push(function(){c++,r.track({eventType:t,args:n})})}function d(t){var e,n=this,r=this;"object"!==f(t)||"object"!==f(t.options)||(void 0===t.options.sampling||Math.random()<parseFloat(t.options.sampling))?(b.getEvents().forEach(function(e){var t,n;e&&(t=e.eventType,n=e.args,t!==h&&u.call(r,{eventType:t,args:n}))}),p(e={},v,function(e){return n.enqueue({eventType:v,args:e})}),p(e,I,function(e){return n.enqueue({eventType:I,args:e})}),p(e,A,function(e){return n.enqueue({eventType:A,args:e})}),p(e,D,function(e){return n.enqueue({eventType:D,args:e})}),p(e,h,function(e){return n.enqueue({eventType:h,args:e})}),p(e,T,function(e){return n.enqueue({eventType:T,args:e})}),p(e,S,function(e){return n.enqueue({eventType:S,args:e})}),p(e,O,function(e){return n.enqueue({eventType:O,args:e})}),p(e,E,function(e){return n.enqueue({eventType:E,args:e})}),p(e,y,function(e){return n.enqueue({eventType:y,args:e})}),p(e,U,function(e){return n.enqueue({eventType:U,args:e})}),p(e,k,function(e){return n.enqueue({eventType:k,args:e})}),p(e,w,function(e){return n.enqueue({eventType:w,args:e})}),p(e,m,function(e){e.config="object"===f(t)&&t.options||{},n.enqueue({eventType:m,args:e})}),o=e,g._each(o,function(e,t){b.on(t,e)})):g.logMessage('Analytics adapter for "'.concat(s,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return g.logMessage('Analytics adapter for "'.concat(s,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var r=n(5),o=n.n(r),l=n(4);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=n(9),g=n(0),i=o.a.EVENTS,m=i.AUCTION_INIT,y=i.AUCTION_END,v=i.REQUEST_BIDS,I=i.BID_REQUESTED,h=i.BID_TIMEOUT,A=i.BID_RESPONSE,D=i.NO_BID,T=i.BID_WON,S=i.BID_ADJUSTMENT,O=i.BIDDER_DONE,E=i.SET_TARGETING,U=i.AD_RENDER_FAILED,k=i.AUCTION_DEBUG,w=i.ADD_AD_UNITS,j="endpoint",R="bundle"},792:function(e,t,n){e.exports=n(793)},793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"storage",function(){return v}),n.d(t,"SEND_TIMEOUT",function(){return _}),n.d(t,"rubiConf",function(){return B}),t.getHostNameFromReferer=M,t.parseBidResponse=V;var r=n(6),p=n(8),o=n(5),i=n.n(o),d=n(4),l=n(3),f=n(0),s=n(17),a=n(7);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function g(o){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach(function(e){var t,n,r;t=o,r=i[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})}return o}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y,v=Object(a.b)(52,"rubicon"),u="rpaSession",I={1:"timeout-error",2:"input-error",3:"connect-error",4:"request-error",999:"generic-error"},h=Object(s.a)(),A=i.a.EVENTS,D=A.AUCTION_INIT,T=A.AUCTION_END,S=A.BID_REQUESTED,O=A.BID_RESPONSE,E=A.BIDDER_DONE,U=A.BID_TIMEOUT,k=A.BID_WON,w=A.SET_TARGETING,j=i.a.STATUS,R=j.GOOD,N=j.NO_BID,C=i.a.BID_STATUS.BID_REJECTED;l.b.getConfig("s2sConfig",function(e){var t=e.s2sConfig;y=t});var _=3e3,q="pbjs",F={auctions:{},targeting:{},timeouts:{},gpt:{}},B={pvid:f.generateUUID().slice(0,8),analyticsEventDelay:0};function M(t){try{Z.referrerHostname=f.parseUrl(t,{noDecodeWholeURL:!0}).hostname}catch(e){f.logError("Rubicon Analytics: Unable to parse hostname from supplied url: ",t,e),Z.referrerHostname=""}return Z.referrerHostname}function P(r){return Object.keys(r).reduce(function(e,t){var n=r[t];return"number"==typeof n?n=n.toFixed(3):"string"!=typeof n&&(n=String(n)),e[t]=n,e},{})}function L(e){return{width:e.w||e[0],height:e.h||e[1]}}function W(e){return-1!==["banner","native","video"].indexOf(e)}function x(e){return void 0===e?e="client":"s2s"===e&&(e="server"),e.toLowerCase()}function H(e,t){function i(t){return f.pick(t,["bidder","bidderDetail","bidId",function(e){return f.deepAccess(t,"bidResponse.pbsBidId")||f.deepAccess(t,"bidResponse.seatBidId")||e},"status","error","source",function(e,t){return e||(y&&Array.isArray(y.bidders)&&-1!==y.bidders.some(function(e){return e.toLowerCase()===t.bidder})?"server":"client")},"clientLatencyMillis","serverLatencyMillis","params","bidResponse",function(e){return e?f.pick(e,["bidPriceUSD","dealId","dimensions","mediaType","floorValue","floorRuleValue","floorRule","adomains"]):void 0}])}function r(e){return m(i(e),f.pick(e.adUnit,["adUnitCode","transactionId","videoAdFormat",function(){return e.videoAdFormat},"mediaTypes"]),{adserverTargeting:P(F.targeting[e.adUnit.adUnitCode]||{}),bidwonStatus:"success",accountId:G,siteId:e.siteId,zoneId:e.zoneId,samplingFactor:J})}var n,o,s,a=F.auctions[e],c=l.b.getConfig("pageUrl")||a&&a.referrer,u={eventTimeMillis:Date.now(),integration:B.int_type||q,version:"4.35.0-pre",referrerUri:c,referrerHostname:Z.referrerHostname||M(c),channel:"web"};B.wrapperName&&(u.wrapper={name:B.wrapperName,family:B.wrapperFamily,rule:B.rule_name}),a&&!a.sent?(n=Object.keys(a.bids).reduce(function(e,t){var n=a.bids[t],r=e[n.adUnit.adUnitCode];r||((r=e[n.adUnit.adUnitCode]=f.pick(n.adUnit,["adUnitCode","transactionId","mediaTypes","dimensions","adserverTargeting",function(){return P(F.targeting[n.adUnit.adUnitCode]||{})},"gam","pbAdSlot","pattern"])).bids=[],r.status="no-bid"),r.siteId&&r.zoneId||-1===Q.indexOf(n.bidder)||f.deepAccess(n,"params.accountId")==G&&(r.accountId=parseInt(G),r.siteId=parseInt(f.deepAccess(n,"params.siteId")),r.zoneId=parseInt(f.deepAccess(n,"params.zoneId"))),n.videoAdFormat&&!r.videoAdFormat&&(r.videoAdFormat=n.videoAdFormat);var o=["error","no-bid","success"];return o.indexOf(n.status)>o.indexOf(r.status)&&(r.status=n.status),r.bids.push(i(n)),e},{}),Object.keys(a.bids).forEach(function(e){var t=a.bids[e].adUnit.adUnitCode;m(a.bids[e],f.pick(n[t],["accountId","siteId","zoneId"]))}),o={clientTimeoutMillis:a.timeout,samplingFactor:J,accountId:G,adUnits:Object.keys(n).map(function(e){return n[e]})},a.floorData&&("noData"===a.floorData.location?o.floors=f.pick(a.floorData,["location","fetchStatus","floorProvider as provider"]):o.floors=f.pick(a.floorData,["location","modelVersion as modelName","modelWeight","modelTimestamp","skipped","enforcement",function(){return f.deepAccess(a.floorData,"enforcements.enforceJS")},"dealsEnforced",function(){return f.deepAccess(a.floorData,"enforcements.floorDeals")},"skipRate","fetchStatus","floorMin","floorProvider as provider"])),a.gdprConsent&&(o.gdpr=f.pick(a.gdprConsent,["gdprApplies as applies","consentString","apiVersion as version"])),a.session&&(u.session=f.pick(a.session,["id","pvid","start","expires"]),f.isEmpty(a.session.fpkvs)||(u.fpkvs=Object.keys(a.session.fpkvs).map(function(e){return{key:e,value:a.session.fpkvs[e]}}))),y&&(o.serverTimeoutMillis=y.timeout),u.auctions=[o],0<(s=Object.keys(a.bidsWon).reduce(function(e,t){var n=a.bidsWon[t];return n&&e.push(r(a.bids[n])),e},[])).length&&(u.bidsWon=s),a.sent=!0):t&&a&&a.bids[t]&&(u.bidsWon=[r(a.bids[t])]),Object(d.a)(this.getUrl(),null,JSON.stringify(u),{contentType:"application/json"})}function V(n,e,t){var r=function(t){var e,n;if(t.status===C&&f.deepAccess(t,"floorData.cpmAfterAdjustments"))e=t.floorData.cpmAfterAdjustments,n=t.floorData.floorCurrency;else{if("string"==typeof t.currency&&"USD"===t.currency.toUpperCase())return Number(t.cpm);e=t.cpm,n=t.currency}if("USD"===n)return Number(e);try{return Number(h.convertCurrency(e,n,"USD"))}catch(e){f.logWarn("Rubicon Analytics Adapter: Could not determine the bidPriceUSD of the bid ",t)}}(n);return e&&e.bidPriceUSD>r?e:f.pick(n,["bidPriceUSD",function(){return r},"dealId","status","mediaType","dimensions",function(){var e=n.width||n.playerWidth,t=n.height||n.playerHeight;return e&&t?{width:e,height:t}:void 0},"pbsBidId","seatBidId","floorValue",function(){return f.deepAccess(n,"floorData.floorValue")},"floorRuleValue",function(){return f.deepAccess(n,"floorData.floorRuleValue")},"floorRule",function(){return f.debugTurnedOn()?f.deepAccess(n,"floorData.floorRule"):void 0},"adomains",function(){var e=f.deepAccess(n,"meta.advertiserDomains");return Array.isArray(e)&&0<e.length?e.slice(0,10):void 0}])}function z(){return B.fpkvs=m(B.fpkvs||{},function(){var n;try{n=f.parseQS(f.getWindowLocation().search)}catch(e){n={}}return Object.keys(n).reduce(function(e,t){return t.match(/utm_/)&&(e[t.replace(/utm_/,"")]=n[t]),e},{})}()),Object.keys(B.fpkvs).forEach(function(e){B.fpkvs[e]=B.fpkvs[e]+""}),B.fpkvs}l.b.getConfig("rubicon",function(e){f.mergeDeep(B,e.rubicon),!0===f.deepAccess(e,"rubicon.updatePageView")&&(B.pvid=f.generateUUID().slice(0,8))});var G,J=1,Q=["rubicon"];function K(){var e=Date.now(),t=function(){var e=v.getDataFromLocalStorage(u);if(e)try{return JSON.parse(window.atob(e))}catch(e){f.logError("Rubicon Analytics: Unable to decode ".concat(u," value: "),e)}return{}}();return(!Object.keys(t).length||18e5<e-t.lastSeen||t.expires<e)&&(t={id:f.generateUUID(),start:e,expires:e+216e5}),Object.keys(t).length&&(t.lastSeen=e,t.fpkvs=g(g({},t.fpkvs),z()),t.pvid=B.pvid,function(e){try{v.setDataInLocalStorage(u,window.btoa(JSON.stringify(e)))}catch(e){f.logError("Rubicon Analytics: Unable to encode ".concat(u," value: "),e)}}(t)),t}function X(){window.googletag.pubads().addEventListener("slotRenderEnded",function(r){var o=f.isAdUnitCodeMatchingSlot(r.slot);Object.keys(F.auctions).forEach(function(n){(Object.keys(F.auctions[n].bids)||[]).forEach(function(e){var t=F.auctions[n].bids[e];o(t.adUnit.adUnitCode)&&(F.auctions[n].gamHasRendered[t.adUnit.adUnitCode]=!0,t.adUnit.gam=f.pick(r,["advertiserId",function(e){return f.isNumber(e)?e:void 0},"creativeId",function(e){return f.isNumber(r.sourceAgnosticCreativeId)?r.sourceAgnosticCreativeId:f.isNumber(e)?e:void 0},"lineItemId",function(e){return f.isNumber(r.sourceAgnosticLineItemId)?r.sourceAgnosticLineItemId:f.isNumber(e)?e:void 0},"adSlot",function(){return r.slot.getAdUnitPath()},"isSlotEmpty",function(){return r.isEmpty||void 0}]))}),B.waitForGamSlots&&!F.auctions[n].sent&&Object.keys(F.auctions[n].gamHasRendered).every(function(e){return F.auctions[n].gamHasRendered[e]})&&(clearTimeout(F.timeouts[n]),delete F.timeouts[n],0<B.analyticsEventDelay?setTimeout(function(){return H.call(Z,n)},B.analyticsEventDelay):H.call(Z,n))})})}var Y=Object(r.a)({analyticsType:"endpoint"}),Z=m({},Y,{referrerHostname:"",enableAnalytics:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=!1;J=1,"object"===b(t.options)&&(t.options.accountId&&(G=Number(t.options.accountId)),t.options.endpoint?this.getUrl=function(){return t.options.endpoint}:(f.logError("required endpoint missing from rubicon analytics"),n=!0),void 0!==t.options.sampling&&(J=1/parseFloat(t.options.sampling)),void 0!==t.options.samplingFactor&&(void 0!==t.options.sampling&&f.logWarn("Both options.samplingFactor and options.sampling enabled in rubicon analytics, defaulting to samplingFactor"),J=parseFloat(t.options.samplingFactor),t.options.sampling=1/J));var r=[1,10,20,40,100];-1===r.indexOf(J)?(n=!0,f.logError("invalid samplingFactor for rubicon analytics: "+J+", must be one of "+r.join(", "))):G||(n=!0,f.logError("required accountId missing for rubicon analytics")),n||Y.enableAnalytics.call(this,t)},disableAnalytics:function(){this.getUrl=Y.getUrl,G=void 0,B={},F.gpt.registered=!1,Y.disableAnalytics.apply(this,arguments)},track:function(e){var t,n=this,r=e.eventType,o=e.args;switch(r){case D:t=p.default.aliasRegistry,Object.keys(t).forEach(function(e){"rubicon"===t[e]&&Q.push(e)});var i=f.pick(o,["timestamp","timeout"]);i.bids={},i.bidsWon={},i.gamHasRendered={},i.referrer=f.deepAccess(o,"bidderRequests.0.refererInfo.referer");var s=f.deepAccess(o,"bidderRequests.0.bids.0.floorData");s&&(i.floorData=g({},s)),i.gdprConsent=f.deepAccess(o,"bidderRequests.0.gdprConsent"),i.session=v.localStorageIsEnabled()&&K(),F.auctions[o.auctionId]=i,!F.gpt.registered&&f.isGptPubadsDefined()?(X(),F.gpt.registered=!0):F.gpt.registered||(F.gpt.registered=!0,window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){X()}));break;case S:m(F.auctions[o.auctionId].bids,o.bids.reduce(function(e,r){return F.auctions[o.auctionId].bidsWon[r.adUnitCode]=!1,B.waitForGamSlots&&(F.auctions[o.auctionId].gamHasRendered[r.adUnitCode]=!1),e[r.bidId]=f.pick(r,["bidder",function(e){return e.toLowerCase()},"bidId","status",function(){return"no-bid"},"source",function(){return x(r.src)},"params",function(e,t){switch(t.bidder){case"rubicon":return f.pick(e,["accountId","siteId","zoneId"])}},"videoAdFormat",function(e,t){if("rubicon"===t.bidder)return{201:"pre-roll",202:"interstitial",203:"outstream",204:"mid-roll",205:"post-roll",207:"vertical"}[f.deepAccess(r,"params.video.size_id")];var n=parseInt(f.deepAccess(r,"params.video.startdelay"),10);return isNaN(n)?void 0:0<n?"mid-roll":{0:"pre-roll","-1":"mid-roll","-2":"post-roll"}[n]},"adUnit",function(){return f.pick(r,["adUnitCode","transactionId","sizes as dimensions",function(e){return e.map(L)},"mediaTypes",function(e){return r.mediaType&&W(r.mediaType)?[r.mediaType]:Array.isArray(e)?e.filter(W):"object"===b(e)?(r.sizes||(r.dimensions=[],f._each(e,function(e){return r.dimensions=r.dimensions.concat(e.sizes.map(L))})),Object.keys(e).filter(W)):["banner"]},"gam",function(){if("gam"===f.deepAccess(r,"fpd.context.adServer.name"))return{adSlot:r.fpd.context.adServer.adSlot}},"pbAdSlot",function(){return f.deepAccess(r,"fpd.context.pbAdSlot")},"pattern",function(){return f.deepAccess(r,"fpd.context.aupName")}])}]),e},{}));break;case O:var a=F.auctions[o.auctionId];!a.bids[o.requestId]&&o.originalRequestId&&(a.bids[o.requestId]=g({},a.bids[o.originalRequestId]),a.bids[o.requestId].bidId=o.requestId,a.bids[o.requestId].bidderDetail=o.targetingBidder);var c=a.bids[o.requestId];if(!f.deepAccess(c,"adUnit.gam.adSlot")&&f.deepAccess(o,"floorData.matchedFields.gptSlot")&&f.deepSetValue(c,"adUnit.gam.adSlot",o.floorData.matchedFields.gptSlot),!f.deepAccess(a,"floorData.enforcements")&&f.deepAccess(o,"floorData.enforcements")&&(a.floorData.enforcements=g({},o.floorData.enforcements)),!c){f.logError("Rubicon Anlytics Adapter Error: Could not find associated bid request for bid response with requestId: ",o.requestId);break}switch(c.source=x(c.source||o.source),o.getStatusCode()){case R:c.status="success",delete c.error;break;case N:c.status=o.status===C?"rejected-ipf":"no-bid",delete c.error;break;default:c.status="error",c.error={code:"request-error"}}c.clientLatencyMillis=c.timeToRespond||Date.now()-F.auctions[o.auctionId].timestamp,c.bidResponse=V(o,c.bidResponse);break;case E:var u=f.deepAccess(o,"serverErrors.0"),d=o.serverResponseTimeMs;o.bids.forEach(function(e){var t=F.auctions[e.auctionId].bids[e.bidId||e.requestId];void 0!==e.serverResponseTimeMs?t.serverLatencyMillis=e.serverResponseTimeMs:d&&"s2s"===e.source&&(t.serverLatencyMillis=d),!u||t.status&&-1===["no-bid","error"].indexOf(t.status)||(t.status="error",t.error={code:I[u.code]||I[999],description:u.message}),t.status||(t.status="no-bid"),t.clientLatencyMillis||(t.clientLatencyMillis=Date.now()-F.auctions[e.auctionId].timestamp)});break;case w:m(F.targeting,o);break;case k:var l=F.auctions[o.auctionId];l.bidsWon[o.adUnitCode]=o.requestId,!0===l.sent?H.call(this,o.auctionId,o.requestId):!B.waitForGamSlots&&Object.keys(l.bidsWon).reduce(function(e,t){return e=e&&l.bidsWon[t]},!0)&&(clearTimeout(F.timeouts[o.auctionId]),delete F.timeouts[o.auctionId],H.call(this,o.auctionId));break;case T:F.timeouts[o.auctionId]=setTimeout(function(){H.call(n,o.auctionId)},B.analyticsBatchTimeout||_);break;case U:o.forEach(function(e){var t=F.auctions[e.auctionId].bids[e.bidId||e.requestId];"error"!==t.status&&(t.status="error",t.error={code:"timeout-error",message:"marked by prebid.js as timeout"})})}}});p.default.registerAnalyticsAdapter({adapter:Z,code:"rubicon",gvlid:52}),t.default=Z}},[792]);