pbjsChunk([4],{6:function(e,t,n){"use strict";t.a=function(e){var o,i=e.url,t=e.analyticsType,r=e.global,a=e.handler,s=[],c=0,n=!0;t!==U&&!B||function(){if(n){for(var e=0;e<s.length;e++)s[e]();s.push=function(e){e()},n=!1}b.logMessage("event count sent to ".concat(r,": ").concat(c))}();return{track:function(e){var t=e.eventType,n=e.args;this.getAdapterType()===B&&window[r](a,t,n);this.getAdapterType()===U&&function(e){var t=e.eventType,n=e.args,a=e.callback;Object(l.a)(i,a,JSON.stringify({eventType:t,args:n}))}.apply(void 0,arguments)},enqueue:u,enableAnalytics:d,disableAnalytics:function(){b._each(o,function(e,t){p.off(t,e)}),this.enableAnalytics=this._oldEnable?this._oldEnable:d},getAdapterType:function(){return t},getGlobal:function(){return r},getHandler:function(){return a},getUrl:function(){return i}};function u(e){var t=e.eventType,n=e.args,a=this;r&&window[r]&&t&&n?this.track({eventType:t,args:n}):s.push(function(){c++,a.track({eventType:t,args:n})})}function d(t){var e,n=this,a=this;"object"!==g(t)||"object"!==g(t.options)||(void 0===t.options.sampling||Math.random()<parseFloat(t.options.sampling))?(p.getEvents().forEach(function(e){var t,n;e&&(t=e.eventType,n=e.args,t!==m&&u.call(a,{eventType:t,args:n}))}),f(e={},v,function(e){return n.enqueue({eventType:v,args:e})}),f(e,T,function(e){return n.enqueue({eventType:T,args:e})}),f(e,h,function(e){return n.enqueue({eventType:h,args:e})}),f(e,S,function(e){return n.enqueue({eventType:S,args:e})}),f(e,m,function(e){return n.enqueue({eventType:m,args:e})}),f(e,E,function(e){return n.enqueue({eventType:E,args:e})}),f(e,D,function(e){return n.enqueue({eventType:D,args:e})}),f(e,O,function(e){return n.enqueue({eventType:O,args:e})}),f(e,_,function(e){return n.enqueue({eventType:_,args:e})}),f(e,I,function(e){return n.enqueue({eventType:I,args:e})}),f(e,N,function(e){return n.enqueue({eventType:N,args:e})}),f(e,A,function(e){return n.enqueue({eventType:A,args:e})}),f(e,w,function(e){return n.enqueue({eventType:w,args:e})}),f(e,y,function(e){e.config="object"===g(t)&&t.options||{},n.enqueue({eventType:y,args:e})}),o=e,b._each(o,function(e,t){p.on(t,e)})):b.logMessage('Analytics adapter for "'.concat(r,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return b.logMessage('Analytics adapter for "'.concat(r,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var a=n(5),o=n.n(a),l=n(4);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=n(9),b=n(0),i=o.a.EVENTS,y=i.AUCTION_INIT,I=i.AUCTION_END,v=i.REQUEST_BIDS,T=i.BID_REQUESTED,m=i.BID_TIMEOUT,h=i.BID_RESPONSE,S=i.NO_BID,E=i.BID_WON,D=i.BID_ADJUSTMENT,O=i.BIDDER_DONE,_=i.SET_TARGETING,N=i.AD_RENDER_FAILED,A=i.AUCTION_DEBUG,w=i.ADD_AD_UNITS,U="endpoint",B="bundle"},976:function(e,t,n){e.exports=n(977)},977:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),o=n(6),i=n(8),r=n(5),s=n.n(r),c=n(0),u=n(7),d=n(21),l=n(71),f=n.n(l);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,o=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var y,I=Object(u.b)(),v={auctions:{}},T="yuktamediaAnalytics_",m=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"],h=c.getWindowLocation(),S=Object(d.a)().referer,E={userAgent:window.navigator.userAgent,timezoneOffset:(new Date).getTimezoneOffset(),language:window.navigator.language,screenWidth:window.screen.width,screenHeight:window.screen.height,pageViewId:c.generateUUID(),host:h.host,path:h.pathname,search:h.search,hash:h.hash,referer:S,refererDomain:c.parseUrl(S).host,yuktamediaAnalyticsVersion:"v3.1.0",prebidVersion:pbjs.version};function D(){var e,t;t=I.getDataFromLocalStorage(T.concat("session_timeout")),36e5<Date.now()-t&&(e=c.generateUUID(),I.setDataInLocalStorage(T.concat("session_id"),e)),y.sessionId=I.getDataFromLocalStorage(T.concat("session_id"))?I.getDataFromLocalStorage(T.concat("session_id")):"",I.setDataInLocalStorage(T.concat("session_timeout"),Date.now())}function O(e){e.initOptions=b(E,y);var t=c.buildUrl({protocol:"https",hostname:"analytics-prebid.yuktamedia.com",pathname:"/api/bids"});"navigator"in window&&"sendBeacon"in window.navigator?window.navigator.sendBeacon(t,JSON.stringify(e)):Object(a.a)(t,void 0,JSON.stringify(e),{method:"POST",contentType:"text/plain"})}var _=b(Object(o.a)({analyticsType:"endpoint"}),{track:function(e){var t,n=e.eventType,i=e.args;if(void 0!==i)switch(n){case s.a.EVENTS.AUCTION_INIT:c.logInfo(T+"AUCTION_INIT:",JSON.stringify(i)),void 0!==i.auctionId&&i.auctionId.length&&(v.auctions[i.auctionId]={bids:{}});break;case s.a.EVENTS.BID_REQUESTED:c.logInfo(T+"BID_REQUESTED:",JSON.stringify(i)),void 0!==i.auctionId&&i.auctionId.length&&(void 0===v.auctions[i.auctionId]&&(v.auctions[i.auctionId]={bids:{}}),v.auctions[i.auctionId].timeStamp=i.start,i.bids.forEach(function(e){if(v.auctions[i.auctionId].bids[e.bidId]={bidder:e.bidder,adUnit:e.adUnitCode,sizes:c.parseSizesInput(e.sizes).toString(),isBid:!1,won:!1,timeout:!1,renderStatus:"bid-requested",bidId:e.bidId,auctionId:i.auctionId},void 0!==y.enableUserIdCollection&&y.enableUserIdCollection&&void 0!==e.userId)for(var t in Object.entries(e.userId)){var n=g(t,2),a=n[0],o=n[1],a="string"!=typeof a?JSON.stringify(a):a,o="string"!=typeof o?JSON.stringify(o):o;v.auctions[i.auctionId].bids[e.bidId]["userID-".concat(a)]=o}}));break;case s.a.EVENTS.BID_RESPONSE:if(c.logInfo(T+"BID_RESPONSE:",JSON.stringify(i)),void 0!==i.auctionId&&i.auctionId.length)if(void 0===v.auctions[i.auctionId])v.auctions[i.auctionId]={bids:{}};else if(Object.keys(v.auctions[i.auctionId].bids).length){var a=v.auctions[i.auctionId].bids[i.requestId];a.isBid=i.getStatusCode()===s.a.STATUS.GOOD,a.cpm=i.cpm,a.currency=i.currency,a.netRevenue=i.netRevenue,a.dealId=void 0!==i.dealId?i.dealId:"",a.mediaType=i.mediaType,"native"===a.mediaType&&(a.nativeTitle=void 0!==i.native.title?i.native.title:"",a.nativeSponsoredBy=void 0!==i.native.sponsoredBy?i.native.sponsoredBy:""),a.timeToRespond=i.timeToRespond,a.requestTimestamp=i.requestTimestamp,a.responseTimestamp=i.responseTimestamp,a.bidForSize=i.size;for(var o=0,r=Object.entries(i.adserverTargeting);o<r.length;o++)!function(){var e=g(r[o],2),t=e[0],n=e[1];["body","icon","image","linkurl","host","path"].every(function(e){return!f()(t,e)})&&(a["adserverTargeting-"+t]=n)}();a.renderStatus="bid-response-received"}break;case s.a.EVENTS.NO_BID:c.logInfo(T+"NO_BID:",JSON.stringify(i)),void 0!==i.auctionId&&i.auctionId.length&&(void 0===v.auctions[i.auctionId]?v.auctions[i.auctionId]={bids:{}}:Object.keys(v.auctions[i.auctionId].bids).length&&(v.auctions[i.auctionId].bids[i.bidId].renderStatus="no-bid"));break;case s.a.EVENTS.BID_WON:c.logInfo(T+"BID_WON:",JSON.stringify(i)),void 0!==y.enableSession&&y.enableSession&&D(),void 0!==i.auctionId&&i.auctionId.length&&(void 0===v.auctions[i.auctionId]?v.auctions[i.auctionId]={bids:{}}:Object.keys(v.auctions[i.auctionId].bids).length&&((t=v.auctions[i.auctionId].bids[i.requestId]).won=!0,t.renderStatus="bid-won",O({bids:[t]})));break;case s.a.EVENTS.BID_TIMEOUT:c.logInfo(T+"BID_TIMEOUT:",JSON.stringify(i)),i.length&&i.forEach(function(e){var t;void 0!==e&&void 0!==e.auctionId&&e.auctionId.length&&(void 0===v.auctions[i.auctionId]?v.auctions[i.auctionId]={bids:{}}:Object.keys(v.auctions[i.auctionId].bids).length&&((t=v.auctions[e.auctionId].bids[e.bidId]).timeout=!0,t.renderStatus="bid-timedout"))});break;case s.a.EVENTS.AUCTION_END:c.logInfo(T+"AUCTION_END:",JSON.stringify(i)),void 0!==y.enableSession&&y.enableSession&&D(),void 0!==i.auctionId&&i.auctionId.length&&O({bids:Object.values(v.auctions[i.auctionId].bids)})}}});_.buildUtmTagData=function(e){var o={},i=!1;return void 0!==e.enableUTMCollection&&e.enableUTMCollection&&(m.forEach(function(e){var t,a,n=(t=e,a={},window.location.href.replace(h.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(e,t,n){a[t]=void 0!==n?n:""}),a[t]?a[t]:"");""!==n&&(i=!0),o[e]=n}),m.forEach(function(e){var t;i?(I.setDataInLocalStorage(T.concat(e),o[e]),I.setDataInLocalStorage(T.concat("utm_timeout"),Date.now())):(t=I.getDataFromLocalStorage(T.concat("utm_timeout")),36e5<Date.now()-t||(o[e]=I.getDataFromLocalStorage(T.concat(e))?I.getDataFromLocalStorage(T.concat(e)):"",I.setDataInLocalStorage(T.concat("utm_timeout"),Date.now())))})),o},_.originEnableAnalytics=_.enableAnalytics,_.enableAnalytics=function(e){!e||!e.options||void 0!==e.options.pubId&&void 0!==e.options.pubKey?(y=b({},e.options,this.buildUtmTagData(e.options)),_.originEnableAnalytics(e)):c.logError("Need pubId and pubKey to log auction results. Please contact a YuktaMedia representative if you do not know your pubId and pubKey.")},i.default.registerAnalyticsAdapter({adapter:_,code:"yuktamedia"}),t.default=_}},[976]);