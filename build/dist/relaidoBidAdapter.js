pbjsChunk([153],{762:function(e,i,r){e.exports=r(763)},763:function(e,i,r){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isMobile=n,r.d(i,"spec",function(){return a});var m=r(0),t=r(1),f=r(2),l=r(12),d=r(7),h="api.relaido.jp",v="relaido_uuid",b=Object(d.b)();function y(e){e.renderer.push(function(){window.RelaidoPlayer.renderAd({adUnitCode:e.adUnitCode,width:e.width,height:e.height,vastXml:e.vastXml,mediaType:e.mediaType})})}function n(){var e=navigator.userAgent;return-1<e.indexOf("iPhone")||-1<e.indexOf("iPod")||-1<e.indexOf("Android")&&-1==e.indexOf("Tablet")}function g(e){return m.deepAccess(e,"mediaTypes.banner")}function I(e){return m.deepAccess(e,"mediaTypes.video")}function A(e){var i=[];if(e&&m.isArray(e)&&0<e.length)for(var r,t,d=0;d<e.length;d++){m.isArray(e[d])&&2==e[d].length&&(r=e[d][0],t=e[d][1],(300<=r&&250<=t||1==r&&1==t)&&i.push([r,t]))}return i}var a={code:"relaido",supportedMediaTypes:[f.b,f.d],isBidRequestValid:function(e){if(!m.deepAccess(e,"params.placementId"))return m.logWarn("placementId param is reqeuired."),!1;if(I(e)){if(!function(e){if(0<A(m.deepAccess(e,"mediaTypes.video.playerSize")).length){var i=m.deepAccess(e,"mediaTypes.video.context");if(i&&"outstream"===i)return!0}return!1}(e))return m.logWarn("Invalid mediaType video."),!1}else{if(!g(e))return m.logWarn("Invalid mediaTypes input banner or video."),!1;if(!function(e){if(!n())return!1;if(0<A(m.deepAccess(e,"mediaTypes.banner.sizes")).length)return!0;return!1}(e))return m.logWarn("Invalid mediaType banner."),!1}return!0},buildRequests:function(e,i){for(var r=[],t=0;t<e.length;t++){var d,n,a=e[t],c=m.getBidIdParameter("placementId",a.params),s=a.params.domain||h,o="https://".concat(s,"/bid/v1/prebid/").concat(c),p=function(){var e=b.getCookie(v);if(e)return e;var i=m.generateUUID();return b.setCookie(v,i),i}(),u=function(e){{if(I(e))return f.d;if(g(e))return f.b}return""}(a),l={version:"1.0.2",timeout_ms:i.timeout,ad_unit_code:a.adUnitCode,auction_id:a.auctionId,bidder:a.bidder,bidder_request_id:a.bidderRequestId,bid_requests_count:a.bidRequestsCount,bid_id:a.bidId,transaction_id:a.transactionId,media_type:u,uuid:p};I(a)?(d=A(m.deepAccess(a,"mediaTypes.video.playerSize")),l.width=d[0][0],l.height=d[0][1]):g(a)&&(n=A(m.deepAccess(a,"mediaTypes.banner.sizes")),l.width=n[0][0],l.height=n[0][1]),l.ref=i.refererInfo.referer,r.push({method:"GET",url:o,data:l,options:{withCredentials:!0},bidId:a.bidId,player:a.params.player,width:l.width,height:l.height,mediaType:u})}return r},interpretResponse:function(e,i){var r=[],t=e.body;if(!t||"ok"!=t.status)return[];var d,n,a,c,s,o=i.player||t.playerUrl,p=i.mediaType||f.d,u={requestId:i.bidId,width:i.width,height:i.height,cpm:t.price,currency:t.currency,creativeId:t.creativeId,dealId:t.dealId||"",ttl:t.ttl||300,netRevenue:!0,mediaType:p};return p===f.d?(u.vastXml=t.vast,u.renderer=function(e,i){var r=l.a.install({id:e,url:i,loaded:!1});try{r.setRender(y)}catch(e){m.logWarn("renderer.setRender Error",e)}return r}(i.bidId,o)):(d='<script src="'.concat(o,'"><\/script>'),a=i.width,c=i.height,s=t.vast,n="<script>(function(){window.RelaidoPlayer.renderAd({"+"width: ".concat(a,",")+"height: ".concat(c,",")+"vastXml: '".concat(s.replace(/\r?\n/g,""),"',")+"mediaType: 'banner'});})();<\/script>",u.ad='<div id="rop-prebid">'.concat(d).concat(n,"</div>")),r.push(u),r},getUserSyncs:function(e,i){if(!e.iframeEnabled)return[];var r="https://".concat(h,"/tr/v1/prebid/sync.html");return 0<i.length&&(r=m.deepAccess(i,"0.body.syncUrl")||r),[{type:"iframe",url:r}]},onBidWon:function(e){var i=m.parseQueryStringParameters({placement_id:m.deepAccess(e,"params.0.placementId"),creative_id:m.deepAccess(e,"creativeId"),price:m.deepAccess(e,"cpm"),auction_id:m.deepAccess(e,"auctionId"),bid_id:m.deepAccess(e,"requestId"),ad_id:m.deepAccess(e,"adId"),ad_unit_code:m.deepAccess(e,"adUnitCode"),ref:window.location.href}).replace(/\&$/,""),r=m.deepAccess(e,"params.0.domain")||h,t="https://".concat(r,"/tr/v1/prebid/win.gif?").concat(i);m.triggerPixel(t)},onTimeout:function(e){var i=m.parseQueryStringParameters({placement_id:m.deepAccess(e,"0.params.0.placementId"),timeout:m.deepAccess(e,"0.timeout"),auction_id:m.deepAccess(e,"0.auctionId"),bid_id:m.deepAccess(e,"0.bidId"),ad_unit_code:m.deepAccess(e,"0.adUnitCode"),ref:window.location.href}).replace(/\&$/,""),r=m.deepAccess(e,"0.params.0.domain")||h,t="https://".concat(r,"/tr/v1/prebid/timeout.gif?").concat(i);m.triggerPixel(t)}};Object(t.registerBidder)(a)}},[762]);